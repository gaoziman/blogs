<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spring5学习笔记——工厂 | Cisyam</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/blogs/img/favicon.ico">
    <link rel="stylesheet" href="/blogs//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <script src="https://cdn.wwads.cn/js/makemoney.js" type="text/javascript"></script>
    <meta name="description" content="一个基于VuePress的 知识管理&amp;博客 主题">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    <meta name="wwads-cn-verify" content="6c4b761a28b734fe93831e3fb400ce87">
    
    <link rel="preload" href="/blogs/assets/css/0.styles.d190f907.css" as="style"><link rel="preload" href="/blogs/assets/js/app.6703720a.js" as="script"><link rel="preload" href="/blogs/assets/js/2.2891cb31.js" as="script"><link rel="preload" href="/blogs/assets/js/67.3ac0f5f0.js" as="script"><link rel="prefetch" href="/blogs/assets/js/10.29af8a7f.js"><link rel="prefetch" href="/blogs/assets/js/100.c7ec5c9d.js"><link rel="prefetch" href="/blogs/assets/js/11.bdeeba6d.js"><link rel="prefetch" href="/blogs/assets/js/12.713dd16b.js"><link rel="prefetch" href="/blogs/assets/js/13.59a174b0.js"><link rel="prefetch" href="/blogs/assets/js/14.68a58203.js"><link rel="prefetch" href="/blogs/assets/js/15.82a1fdde.js"><link rel="prefetch" href="/blogs/assets/js/16.9c54c3e4.js"><link rel="prefetch" href="/blogs/assets/js/17.11ba4e45.js"><link rel="prefetch" href="/blogs/assets/js/18.2818cf53.js"><link rel="prefetch" href="/blogs/assets/js/19.96755560.js"><link rel="prefetch" href="/blogs/assets/js/20.7481fcc2.js"><link rel="prefetch" href="/blogs/assets/js/21.907b70d0.js"><link rel="prefetch" href="/blogs/assets/js/22.a166ad24.js"><link rel="prefetch" href="/blogs/assets/js/23.77d2dca0.js"><link rel="prefetch" href="/blogs/assets/js/24.aa87f4c6.js"><link rel="prefetch" href="/blogs/assets/js/25.dad97827.js"><link rel="prefetch" href="/blogs/assets/js/26.bb52f77c.js"><link rel="prefetch" href="/blogs/assets/js/27.9e1ea639.js"><link rel="prefetch" href="/blogs/assets/js/28.ba119082.js"><link rel="prefetch" href="/blogs/assets/js/29.18832ed6.js"><link rel="prefetch" href="/blogs/assets/js/3.fefeb4f4.js"><link rel="prefetch" href="/blogs/assets/js/30.b3c42b31.js"><link rel="prefetch" href="/blogs/assets/js/31.4635ac31.js"><link rel="prefetch" href="/blogs/assets/js/32.d2b68837.js"><link rel="prefetch" href="/blogs/assets/js/33.f7b79f8b.js"><link rel="prefetch" href="/blogs/assets/js/34.ce01b9ce.js"><link rel="prefetch" href="/blogs/assets/js/35.09a87cc8.js"><link rel="prefetch" href="/blogs/assets/js/36.76cf8512.js"><link rel="prefetch" href="/blogs/assets/js/37.d0062b5b.js"><link rel="prefetch" href="/blogs/assets/js/38.7f84a2f0.js"><link rel="prefetch" href="/blogs/assets/js/39.e2188bfb.js"><link rel="prefetch" href="/blogs/assets/js/4.b9356ecc.js"><link rel="prefetch" href="/blogs/assets/js/40.c5791be3.js"><link rel="prefetch" href="/blogs/assets/js/41.6e456626.js"><link rel="prefetch" href="/blogs/assets/js/42.f177def6.js"><link rel="prefetch" href="/blogs/assets/js/43.d522573e.js"><link rel="prefetch" href="/blogs/assets/js/44.6add112a.js"><link rel="prefetch" href="/blogs/assets/js/45.5f2862b3.js"><link rel="prefetch" href="/blogs/assets/js/46.bbdad8ea.js"><link rel="prefetch" href="/blogs/assets/js/47.4b8eccad.js"><link rel="prefetch" href="/blogs/assets/js/48.790c3f48.js"><link rel="prefetch" href="/blogs/assets/js/49.7a6b72f8.js"><link rel="prefetch" href="/blogs/assets/js/5.dbc14407.js"><link rel="prefetch" href="/blogs/assets/js/50.1d07348b.js"><link rel="prefetch" href="/blogs/assets/js/51.baf090ad.js"><link rel="prefetch" href="/blogs/assets/js/52.aa82caa4.js"><link rel="prefetch" href="/blogs/assets/js/53.54b14a71.js"><link rel="prefetch" href="/blogs/assets/js/54.1c49a9fe.js"><link rel="prefetch" href="/blogs/assets/js/55.e745f470.js"><link rel="prefetch" href="/blogs/assets/js/56.66db2bce.js"><link rel="prefetch" href="/blogs/assets/js/57.cfbf7fad.js"><link rel="prefetch" href="/blogs/assets/js/58.7c34f72a.js"><link rel="prefetch" href="/blogs/assets/js/59.2411d34a.js"><link rel="prefetch" href="/blogs/assets/js/6.8e27846d.js"><link rel="prefetch" href="/blogs/assets/js/60.bd4c3a01.js"><link rel="prefetch" href="/blogs/assets/js/61.376a94a9.js"><link rel="prefetch" href="/blogs/assets/js/62.e1ed876a.js"><link rel="prefetch" href="/blogs/assets/js/63.519e802c.js"><link rel="prefetch" href="/blogs/assets/js/64.d1de0951.js"><link rel="prefetch" href="/blogs/assets/js/65.68804e09.js"><link rel="prefetch" href="/blogs/assets/js/66.fa157ac3.js"><link rel="prefetch" href="/blogs/assets/js/68.418729c4.js"><link rel="prefetch" href="/blogs/assets/js/69.27b1a4cd.js"><link rel="prefetch" href="/blogs/assets/js/7.8503034e.js"><link rel="prefetch" href="/blogs/assets/js/70.ccbe6f1e.js"><link rel="prefetch" href="/blogs/assets/js/71.9bd4782d.js"><link rel="prefetch" href="/blogs/assets/js/72.cd2999cc.js"><link rel="prefetch" href="/blogs/assets/js/73.79fc8d67.js"><link rel="prefetch" href="/blogs/assets/js/74.19768d7a.js"><link rel="prefetch" href="/blogs/assets/js/75.61498db4.js"><link rel="prefetch" href="/blogs/assets/js/76.2c210d98.js"><link rel="prefetch" href="/blogs/assets/js/77.673ebfb2.js"><link rel="prefetch" href="/blogs/assets/js/78.efeb93e2.js"><link rel="prefetch" href="/blogs/assets/js/79.892e6e6f.js"><link rel="prefetch" href="/blogs/assets/js/8.1477cb30.js"><link rel="prefetch" href="/blogs/assets/js/80.cc1efe6f.js"><link rel="prefetch" href="/blogs/assets/js/81.9029edfe.js"><link rel="prefetch" href="/blogs/assets/js/82.ebfed7ad.js"><link rel="prefetch" href="/blogs/assets/js/83.8c745cc8.js"><link rel="prefetch" href="/blogs/assets/js/84.2d5bf3dd.js"><link rel="prefetch" href="/blogs/assets/js/85.655b076a.js"><link rel="prefetch" href="/blogs/assets/js/86.0b926ace.js"><link rel="prefetch" href="/blogs/assets/js/87.39251ad6.js"><link rel="prefetch" href="/blogs/assets/js/88.9031ffae.js"><link rel="prefetch" href="/blogs/assets/js/89.9a2bbb31.js"><link rel="prefetch" href="/blogs/assets/js/9.c71f6b55.js"><link rel="prefetch" href="/blogs/assets/js/90.3fabd32f.js"><link rel="prefetch" href="/blogs/assets/js/91.51ad2e66.js"><link rel="prefetch" href="/blogs/assets/js/92.dff42051.js"><link rel="prefetch" href="/blogs/assets/js/93.4f7c903c.js"><link rel="prefetch" href="/blogs/assets/js/94.7b8dc99c.js"><link rel="prefetch" href="/blogs/assets/js/95.5b05ce73.js"><link rel="prefetch" href="/blogs/assets/js/96.c252c42c.js"><link rel="prefetch" href="/blogs/assets/js/97.29426949.js"><link rel="prefetch" href="/blogs/assets/js/98.b857e1ec.js"><link rel="prefetch" href="/blogs/assets/js/99.52a327c1.js">
    <link rel="stylesheet" href="/blogs/assets/css/0.styles.d190f907.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogs/" class="home-link router-link-active"><img src="/blogs/img/logo.png" alt="Cisyam" class="logo"> <span class="site-name can-hide">Cisyam</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blogs/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="程序日常" class="dropdown-title"><!----> <span class="title" style="display:;">程序日常</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>日常配置</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/0ec974/" class="nav-link">系统重装日记</a></li><li class="dropdown-subitem"><a href="/blogs/pages/63554c/" class="nav-link">IDEA日常配置和操作小结</a></li><li class="dropdown-subitem"><a href="/blogs/pages/97b3a1/" class="nav-link">在IDEA中配置Git的Push键</a></li><li class="dropdown-subitem"><a href="/blogs/pages/8cab39/" class="nav-link">Git的安装以及SSH配置</a></li><li class="dropdown-subitem"><a href="/blogs/pages/5e65f3/" class="nav-link">win11下的Maven安装配置教程</a></li><li class="dropdown-subitem"><a href="/blogs/pages/bc4cea/" class="nav-link">基于jmeter完成压测</a></li><li class="dropdown-subitem"><a href="/blogs/pages/513ac4/" class="nav-link">Typora+PicGo+阿里云OSS搭建博客图床</a></li><li class="dropdown-subitem"><a href="/blogs/pages/79620e/" class="nav-link">Git图文使用教程详解(一)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/7e3ca6/" class="nav-link">Git图文使用教程详解(二)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/c6a5fd/" class="nav-link">Git图文使用教程详解(三)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/9f9143/" class="nav-link">带你认识Hutool工具包</a></li></ul></li><li class="dropdown-item"><h4>Bug修复</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/c1d525/" class="nav-link">Java连接SqlServer错误</a></li></ul></li><li class="dropdown-item"><h4>其他学习</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/58d18b/" class="nav-link">计算机相关常见英语单词,带读音!</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a0bf4c/" class="nav-link">常用emoji表情包</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><!----> <span class="title" style="display:;">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/882008/" class="nav-link">Java开发环境的搭建</a></li><li class="dropdown-item"><!----> <a href="/blogs/pages/7263a2/" class="nav-link">Java基础语法</a></li><li class="dropdown-item"><h4>Java集合</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/882008/" class="nav-link">初始Java基础知识</a></li></ul></li><li class="dropdown-item"><h4>Java知识点</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/868901/" class="nav-link">Thymeleaf一篇就够了</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java进阶" class="dropdown-title"><!----> <span class="title" style="display:;">Java进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/e32cf5/" class="nav-link">泛型就这么简单</a></li><li class="dropdown-item"><h4>流</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/918085/" class="nav-link">初步认识IO流</a></li></ul></li><li class="dropdown-item"><h4>JVM</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/8b1290/" class="nav-link">Java内存区域介绍以及JDK1.8内存变化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>MySQL基础知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/6ca3af/" class="nav-link">数据库原理及应用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/460b04/" class="nav-link">MySQL 8.0 绿色版安装</a></li></ul></li><li class="dropdown-item"><h4>康师傅MySQL基础篇</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/37fc57/" class="nav-link">第01章_数据库概述</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f3f3ab/" class="nav-link">第02章_MySQL环境搭建</a></li><li class="dropdown-subitem"><a href="/blogs/pages/1e92f0/" class="nav-link">第03章_基本的SELECT语句</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0cd93d/" class="nav-link">第04章_运算符</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f60350/" class="nav-link">第05章_排序与分页</a></li><li class="dropdown-subitem"><a href="/blogs/pages/79f1c4/" class="nav-link">第06章_多表查询</a></li><li class="dropdown-subitem"><a href="/blogs/pages/9757a1/" class="nav-link">第07章_单行函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e8846a/" class="nav-link">第08章_聚合函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0ececa/" class="nav-link">第09章_子查询</a></li><li class="dropdown-subitem"><a href="/blogs/pages/667605/" class="nav-link">第10章_创建和管理表</a></li><li class="dropdown-subitem"><a href="/blogs/pages/07f3df/" class="nav-link">第11章_数据处理之增删改</a></li><li class="dropdown-subitem"><a href="/blogs/pages/b3a365/" class="nav-link">第12章_MySQL数据类型精讲</a></li><li class="dropdown-subitem"><a href="/blogs/pages/6bfb13/" class="nav-link">第13章_约束</a></li><li class="dropdown-subitem"><a href="/blogs/pages/745f2d/" class="nav-link">第14章_视图</a></li><li class="dropdown-subitem"><a href="/blogs/pages/8c180e/" class="nav-link">第15章_存储过程与函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/566d1d/" class="nav-link">第16章_变量、流程控制与游标</a></li><li class="dropdown-subitem"><a href="/blogs/pages/afb0d0/" class="nav-link">第17章_触发器</a></li><li class="dropdown-subitem"><a href="/blogs/pages/15bba8/" class="nav-link">第18章_MySQL8其它新特性</a></li></ul></li><li class="dropdown-item"><h4>康师傅MySQL高级篇</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/80d360/" class="nav-link">第01章 Linux下MySQL的安装与使用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f532a4/" class="nav-link">第02章 MySQL的数据目录</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a5fa3c/" class="nav-link">第03章 用户与权限管理</a></li><li class="dropdown-subitem"><a href="/blogs/pages/b462b5/" class="nav-link">第04章_逻辑架构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a5b6cd/" class="nav-link">第05章_存储引擎</a></li><li class="dropdown-subitem"><a href="/blogs/pages/4eb165/" class="nav-link">第06章_索引的数据结构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/85a02c/" class="nav-link">第7章_InnoDB数据存储结构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/badf0e/" class="nav-link">第8章_索引的创建与设计原则</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0e9cf5/" class="nav-link">第09章_性能分析工具的使用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/baf28a/" class="nav-link">第10章_索引优化与查询优化</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a30800/" class="nav-link">第11章_数据库的设计规范</a></li><li class="dropdown-subitem"><a href="/blogs/pages/453178/" class="nav-link">第12章_数据库其它调优策略</a></li><li class="dropdown-subitem"><a href="/blogs/pages/2f2499/" class="nav-link">第13章_事务基础知识</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e14c2c/" class="nav-link">第14章_MySQL事务日志</a></li><li class="dropdown-subitem"><a href="/blogs/pages/52fd96/" class="nav-link">第15章_锁</a></li><li class="dropdown-subitem"><a href="/blogs/pages/dc28af/" class="nav-link">第16章_多版本并发控制</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0aeb1a/" class="nav-link">第17章_其他数据库日志</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e50c30/" class="nav-link">第18章_主从复制</a></li><li class="dropdown-subitem"><a href="/blogs/pages/92db10/" class="nav-link">第19章_数据库备份与恢复</a></li></ul></li><li class="dropdown-item"><h4>MySQL进阶知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/ad9574/" class="nav-link">MySQL里的那些日志们</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><!----> <span class="title" style="display:;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/b40868/" class="nav-link"> SSM整合完整流程</a></li><li class="dropdown-item"><h4>MyBatis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/b40868/" class="nav-link">框架</a></li></ul></li><li class="dropdown-item"><h4>Spring</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/e6482d/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Spring5学习笔记——工厂</a></li><li class="dropdown-subitem"><a href="/blogs/pages/99543d/" class="nav-link">Spring5学习笔记——AOP</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e630fa/" class="nav-link">Spring5学习笔记——持久层整合</a></li><li class="dropdown-subitem"><a href="/blogs/pages/667215/" class="nav-link">Spring5学习笔记——MVC框架整合</a></li><li class="dropdown-subitem"><a href="/blogs/pages/398673/" class="nav-link">Spring5学习笔记——注解编程</a></li></ul></li><li class="dropdown-item"><h4>SpringMVC</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/b40868/" class="nav-link">框架</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><!----> <span class="title" style="display:;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/52d5c3/" class="nav-link">中间件</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><!----> <span class="title" style="display:;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>初始微服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/8c6be2/" class="nav-link">初步了解SpringCloud微服务架构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/6fc14f/" class="nav-link">认识SpringCloud核心组件</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0f8ce6/" class="nav-link">Ribbon和 Nacos服务注册中心</a></li><li class="dropdown-subitem"><a href="/blogs/pages/59a269/" class="nav-link">微服务远程调用openFeign整合</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><!----> <span class="title" style="display:;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/a2a23c/" class="nav-link">程序员必知必会之计算机系统概论</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><!----> <span class="title" style="display:;">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/5316bc/" class="nav-link">Linux命令笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><!----> <span class="title" style="display:;">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/964e0e/" class="nav-link">面试题</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/blogs/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="程序日常" class="dropdown-title"><!----> <span class="title" style="display:;">程序日常</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>日常配置</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/0ec974/" class="nav-link">系统重装日记</a></li><li class="dropdown-subitem"><a href="/blogs/pages/63554c/" class="nav-link">IDEA日常配置和操作小结</a></li><li class="dropdown-subitem"><a href="/blogs/pages/97b3a1/" class="nav-link">在IDEA中配置Git的Push键</a></li><li class="dropdown-subitem"><a href="/blogs/pages/8cab39/" class="nav-link">Git的安装以及SSH配置</a></li><li class="dropdown-subitem"><a href="/blogs/pages/5e65f3/" class="nav-link">win11下的Maven安装配置教程</a></li><li class="dropdown-subitem"><a href="/blogs/pages/bc4cea/" class="nav-link">基于jmeter完成压测</a></li><li class="dropdown-subitem"><a href="/blogs/pages/513ac4/" class="nav-link">Typora+PicGo+阿里云OSS搭建博客图床</a></li><li class="dropdown-subitem"><a href="/blogs/pages/79620e/" class="nav-link">Git图文使用教程详解(一)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/7e3ca6/" class="nav-link">Git图文使用教程详解(二)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/c6a5fd/" class="nav-link">Git图文使用教程详解(三)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/9f9143/" class="nav-link">带你认识Hutool工具包</a></li></ul></li><li class="dropdown-item"><h4>Bug修复</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/c1d525/" class="nav-link">Java连接SqlServer错误</a></li></ul></li><li class="dropdown-item"><h4>其他学习</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/58d18b/" class="nav-link">计算机相关常见英语单词,带读音!</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a0bf4c/" class="nav-link">常用emoji表情包</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><!----> <span class="title" style="display:;">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/882008/" class="nav-link">Java开发环境的搭建</a></li><li class="dropdown-item"><!----> <a href="/blogs/pages/7263a2/" class="nav-link">Java基础语法</a></li><li class="dropdown-item"><h4>Java集合</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/882008/" class="nav-link">初始Java基础知识</a></li></ul></li><li class="dropdown-item"><h4>Java知识点</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/868901/" class="nav-link">Thymeleaf一篇就够了</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java进阶" class="dropdown-title"><!----> <span class="title" style="display:;">Java进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/e32cf5/" class="nav-link">泛型就这么简单</a></li><li class="dropdown-item"><h4>流</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/918085/" class="nav-link">初步认识IO流</a></li></ul></li><li class="dropdown-item"><h4>JVM</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/8b1290/" class="nav-link">Java内存区域介绍以及JDK1.8内存变化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>MySQL基础知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/6ca3af/" class="nav-link">数据库原理及应用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/460b04/" class="nav-link">MySQL 8.0 绿色版安装</a></li></ul></li><li class="dropdown-item"><h4>康师傅MySQL基础篇</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/37fc57/" class="nav-link">第01章_数据库概述</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f3f3ab/" class="nav-link">第02章_MySQL环境搭建</a></li><li class="dropdown-subitem"><a href="/blogs/pages/1e92f0/" class="nav-link">第03章_基本的SELECT语句</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0cd93d/" class="nav-link">第04章_运算符</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f60350/" class="nav-link">第05章_排序与分页</a></li><li class="dropdown-subitem"><a href="/blogs/pages/79f1c4/" class="nav-link">第06章_多表查询</a></li><li class="dropdown-subitem"><a href="/blogs/pages/9757a1/" class="nav-link">第07章_单行函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e8846a/" class="nav-link">第08章_聚合函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0ececa/" class="nav-link">第09章_子查询</a></li><li class="dropdown-subitem"><a href="/blogs/pages/667605/" class="nav-link">第10章_创建和管理表</a></li><li class="dropdown-subitem"><a href="/blogs/pages/07f3df/" class="nav-link">第11章_数据处理之增删改</a></li><li class="dropdown-subitem"><a href="/blogs/pages/b3a365/" class="nav-link">第12章_MySQL数据类型精讲</a></li><li class="dropdown-subitem"><a href="/blogs/pages/6bfb13/" class="nav-link">第13章_约束</a></li><li class="dropdown-subitem"><a href="/blogs/pages/745f2d/" class="nav-link">第14章_视图</a></li><li class="dropdown-subitem"><a href="/blogs/pages/8c180e/" class="nav-link">第15章_存储过程与函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/566d1d/" class="nav-link">第16章_变量、流程控制与游标</a></li><li class="dropdown-subitem"><a href="/blogs/pages/afb0d0/" class="nav-link">第17章_触发器</a></li><li class="dropdown-subitem"><a href="/blogs/pages/15bba8/" class="nav-link">第18章_MySQL8其它新特性</a></li></ul></li><li class="dropdown-item"><h4>康师傅MySQL高级篇</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/80d360/" class="nav-link">第01章 Linux下MySQL的安装与使用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f532a4/" class="nav-link">第02章 MySQL的数据目录</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a5fa3c/" class="nav-link">第03章 用户与权限管理</a></li><li class="dropdown-subitem"><a href="/blogs/pages/b462b5/" class="nav-link">第04章_逻辑架构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a5b6cd/" class="nav-link">第05章_存储引擎</a></li><li class="dropdown-subitem"><a href="/blogs/pages/4eb165/" class="nav-link">第06章_索引的数据结构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/85a02c/" class="nav-link">第7章_InnoDB数据存储结构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/badf0e/" class="nav-link">第8章_索引的创建与设计原则</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0e9cf5/" class="nav-link">第09章_性能分析工具的使用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/baf28a/" class="nav-link">第10章_索引优化与查询优化</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a30800/" class="nav-link">第11章_数据库的设计规范</a></li><li class="dropdown-subitem"><a href="/blogs/pages/453178/" class="nav-link">第12章_数据库其它调优策略</a></li><li class="dropdown-subitem"><a href="/blogs/pages/2f2499/" class="nav-link">第13章_事务基础知识</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e14c2c/" class="nav-link">第14章_MySQL事务日志</a></li><li class="dropdown-subitem"><a href="/blogs/pages/52fd96/" class="nav-link">第15章_锁</a></li><li class="dropdown-subitem"><a href="/blogs/pages/dc28af/" class="nav-link">第16章_多版本并发控制</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0aeb1a/" class="nav-link">第17章_其他数据库日志</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e50c30/" class="nav-link">第18章_主从复制</a></li><li class="dropdown-subitem"><a href="/blogs/pages/92db10/" class="nav-link">第19章_数据库备份与恢复</a></li></ul></li><li class="dropdown-item"><h4>MySQL进阶知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/ad9574/" class="nav-link">MySQL里的那些日志们</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><!----> <span class="title" style="display:;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/b40868/" class="nav-link"> SSM整合完整流程</a></li><li class="dropdown-item"><h4>MyBatis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/b40868/" class="nav-link">框架</a></li></ul></li><li class="dropdown-item"><h4>Spring</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/e6482d/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Spring5学习笔记——工厂</a></li><li class="dropdown-subitem"><a href="/blogs/pages/99543d/" class="nav-link">Spring5学习笔记——AOP</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e630fa/" class="nav-link">Spring5学习笔记——持久层整合</a></li><li class="dropdown-subitem"><a href="/blogs/pages/667215/" class="nav-link">Spring5学习笔记——MVC框架整合</a></li><li class="dropdown-subitem"><a href="/blogs/pages/398673/" class="nav-link">Spring5学习笔记——注解编程</a></li></ul></li><li class="dropdown-item"><h4>SpringMVC</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/b40868/" class="nav-link">框架</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><!----> <span class="title" style="display:;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/52d5c3/" class="nav-link">中间件</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><!----> <span class="title" style="display:;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>初始微服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/8c6be2/" class="nav-link">初步了解SpringCloud微服务架构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/6fc14f/" class="nav-link">认识SpringCloud核心组件</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0f8ce6/" class="nav-link">Ribbon和 Nacos服务注册中心</a></li><li class="dropdown-subitem"><a href="/blogs/pages/59a269/" class="nav-link">微服务远程调用openFeign整合</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><!----> <span class="title" style="display:;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/a2a23c/" class="nav-link">程序员必知必会之计算机系统概论</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><!----> <span class="title" style="display:;">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/5316bc/" class="nav-link">Linux命令笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><!----> <span class="title" style="display:;">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/964e0e/" class="nav-link">面试题</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div class="sidebar-slot sidebar-slot-top">
  <a href="http://apifox.cn/a103xugaoyi" target="_blank">
    <img src="https://cdn.staticaly.com/gh/xugaoyi/blog-gitalk-comment@master/img/431669861564_.2470ykdcpbds.jpg" alt="npm" class="no-zoom" style="width: 100%;border-radius: 2px;">
    <p style="text-align: center;margin: 0;color: #999;font-size: 12px;">(进入注册为作者充电)</p>
  </a></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MyBatis</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Spring</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogs/pages/e6482d/" aria-current="page" class="active sidebar-link">Spring5学习笔记——工厂</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/blogs/pages/e6482d/#第一部分-spring工厂" class="sidebar-link">第一部分：Spring工厂</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blogs/pages/e6482d/#第一章、引言" class="sidebar-link">第一章、引言</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_1-ejb存在的问题" class="sidebar-link">1. EJB存在的问题</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_2-什么是spring" class="sidebar-link">2. 什么是Spring</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_3-什么是设计模式" class="sidebar-link">3. 什么是设计模式</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_4-工厂设计模式" class="sidebar-link">4. 工厂设计模式</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_4-1-什么是工厂设计模式" class="sidebar-link">4.1 什么是工厂设计模式</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_4-2-简单工厂的设计" class="sidebar-link">4.2 简单工厂的设计</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_4-3-通用工厂的设计" class="sidebar-link">4.3 通用工厂的设计</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_5-总结" class="sidebar-link">5. 总结</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/e6482d/#第二章、第一个spring程序" class="sidebar-link">第二章、第一个Spring程序</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_1-软件版本" class="sidebar-link">1. 软件版本</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_2-环境搭建" class="sidebar-link">2. 环境搭建</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_3-spring的核心api" class="sidebar-link">3. Spring的核心API</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_4-程序开发" class="sidebar-link">4. 程序开发</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_5-细节分析" class="sidebar-link">5. 细节分析</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_6-spring工厂的底层实现原理-简易版" class="sidebar-link">6. Spring工厂的底层实现原理(简易版)</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_7-思考" class="sidebar-link">7. 思考</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/e6482d/#第三章、spring5-x与日志框架的整合" class="sidebar-link">第三章、Spring5.x与日志框架的整合</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_1-为什么要整合日志框架" class="sidebar-link">1.为什么要整合日志框架？</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_2-spring如何整合日志框架" class="sidebar-link">2.Spring如何整合日志框架？</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/e6482d/#第四章、注入-injection" class="sidebar-link">第四章、注入( injection)</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_1-什么是注入" class="sidebar-link">1. 什么是注入？</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_2-为什么要注入" class="sidebar-link">2. 为什么要注入？</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_3-如何注入" class="sidebar-link">3. 如何注入？</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_4-spring注入的原理分析-简易版" class="sidebar-link">4. Spring注入的原理分析（简易版）</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/e6482d/#第五章、set注入详解" class="sidebar-link">第五章、Set注入详解</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_1-jdk内置类型" class="sidebar-link">1. JDK内置类型</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_1-1-string-8中基本类型" class="sidebar-link">1.1 String+8中基本类型</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_1-2-数组" class="sidebar-link">1.2 数组</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_1-3-set集合" class="sidebar-link">1.3 Set集合</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_1-4-list集合" class="sidebar-link">1.4 List集合</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_1-5-map集合" class="sidebar-link">1.5 Map集合</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_1-6-properties" class="sidebar-link">1.6 Properties</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_1-7-复杂的jdk类型-比如date" class="sidebar-link">1.7 复杂的JDK类型（比如Date）</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_2-用户自定义类型" class="sidebar-link">2. 用户自定义类型</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_2-1-方式一" class="sidebar-link">2.1 方式一</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_2-2-方式二" class="sidebar-link">2.2 方式二</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_3-set注入的简化写法" class="sidebar-link">3. Set注入的简化写法</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_3-1-基本属性简化" class="sidebar-link">3.1 基本属性简化</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_3-2-基于p命名空间的简化" class="sidebar-link">3.2 基于p命名空间的简化</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/e6482d/#第六章、构造注入" class="sidebar-link">第六章、构造注入</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_1-开发步骤" class="sidebar-link">1. 开发步骤</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_2-构造方法重载" class="sidebar-link">2. 构造方法重载</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_2-1-参数个数不同时" class="sidebar-link">2.1 参数个数不同时</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_2-2-参数个数相同时" class="sidebar-link">2.2 参数个数相同时</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_3-注入总结" class="sidebar-link">3. 注入总结</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/e6482d/#第七章、控制反转-与-依赖注入" class="sidebar-link">第七章、控制反转 与 依赖注入</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_1-控制反转-ioc-inverse-of-control" class="sidebar-link">1. 控制反转(IOC Inverse of Control)</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_2-依赖注入-di-dependency-injection" class="sidebar-link">2. 依赖注入(DI Dependency Injection )</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/e6482d/#第八章、spring工厂创建复杂对象" class="sidebar-link">第八章、Spring工厂创建复杂对象</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_1-什么是复杂对象" class="sidebar-link">1. 什么是复杂对象</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_2-spring工厂创建复杂对象的3种方式" class="sidebar-link">2. Spring工厂创建复杂对象的3种方式</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_2-1-factorybean接口" class="sidebar-link">2.1 FactoryBean接口</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_2-2-实例工厂" class="sidebar-link">2.2 实例工厂</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_2-3-静态工厂" class="sidebar-link">2.3 静态工厂</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_3-spring工厂创建对象总结" class="sidebar-link">3. Spring工厂创建对象总结</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/e6482d/#第九章、控制spring工厂创建对象的次数" class="sidebar-link">第九章、控制Spring工厂创建对象的次数</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_1-为什么要控制对象的创建次数" class="sidebar-link">1. 为什么要控制对象的创建次数？</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_2-如何控制简单对象的创建次数" class="sidebar-link">2. 如何控制简单对象的创建次数</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_3-如何控制复杂对象的创建次数" class="sidebar-link">3. 如何控制复杂对象的创建次数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blogs/pages/e6482d/#第二部分-spring工厂的高级特性" class="sidebar-link">第二部分：Spring工厂的高级特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blogs/pages/e6482d/#第十章、对象的生命周期" class="sidebar-link">第十章、对象的生命周期</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_1-什么是对象的生命周期" class="sidebar-link">1. 什么是对象的生命周期</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_2-为什么要学习对象的生命周期" class="sidebar-link">2. 为什么要学习对象的生命周期</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_3-生命周期的3个阶段" class="sidebar-link">3. 生命周期的3个阶段</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_3-1-创建阶段" class="sidebar-link">3.1 创建阶段</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_3-2-初始化阶段" class="sidebar-link">3.2 初始化阶段</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_3-3销毁阶段" class="sidebar-link">3.3销毁阶段</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/e6482d/#第十一章、配置文件参数化" class="sidebar-link">第十一章、配置文件参数化</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_1-什么是配置文件参数化" class="sidebar-link">1. 什么是配置文件参数化？</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_2-配置文件参数化的开发步骤" class="sidebar-link">2. 配置文件参数化的开发步骤:</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_2-1-提供一个小的配置文件-properities" class="sidebar-link">2.1 提供一个小的配置文件(.properities)</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_2-2-spring的配置文件与小配置文件进行整合" class="sidebar-link">2.2 Spring的配置文件与小配置文件进行整合</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_2-3-在spring配置文件中通过-key-获取小配置文件中对应的值" class="sidebar-link">2.3 在Spring配置文件中通过${key}获取小配置文件中对应的值</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/e6482d/#第十二章、自定义类型转换器" class="sidebar-link">第十二章、自定义类型转换器</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_1-类型转换器的作用" class="sidebar-link">1. 类型转换器的作用</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_2-为什么要自定义类型转换器" class="sidebar-link">2. 为什么要自定义类型转换器？</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_3-自定义类型转换器的开发步骤" class="sidebar-link">3. 自定义类型转换器的开发步骤</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_3-1-实现-converter-接口" class="sidebar-link">3.1 实现 Converter&lt;&gt;接口</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_3-2-在spring的配置文件中进行配置" class="sidebar-link">3.2 在Spring的配置文件中进行配置</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_4-细节" class="sidebar-link">4. 细节</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_4-1-体会依赖注入-di-mydateconverter中的日期的格式-可以通过依赖注入的方式-由配置文件完成赋值。" class="sidebar-link">4.1 体会依赖注入(DI)：MyDateConverter中的日期的格式，可以通过依赖注入的方式，由配置文件完成赋值。</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_4-2-conversionsevicefactorybean-定义id属性-值必须是-conversionservice" class="sidebar-link">4.2 ConversionSeviceFactoryBean 定义id属性，值必须是 conversionService</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_4-3-spring框架内置日期类型的转换器" class="sidebar-link">4.3 Spring框架内置日期类型的转换器</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/e6482d/#第十三章、后置处理bean" class="sidebar-link">第十三章、后置处理Bean</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_1-beanpostprocessor的作用" class="sidebar-link">1. BeanPostProcessor的作用：</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_2-后置处理bean的运行原理分析" class="sidebar-link">2. 后置处理Bean的运行原理分析</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/e6482d/#_3-beanpostprocessor的开发步骤" class="sidebar-link">3. BeanPostProcessor的开发步骤</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_1-实现-beanpostprocessor接口" class="sidebar-link">1. 实现 BeanPostProcessor接口</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_2-spring的配置文件中进行配置" class="sidebar-link">2. Spring的配置文件中进行配置</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/e6482d/#_3-beanpostprocessor细节" class="sidebar-link">3. BeanPostProcessor细节</a></li></ul></li></ul></li><li><a href="/blogs/pages/99543d/" class="sidebar-link">Spring5学习笔记——AOP</a></li><li><a href="/blogs/pages/e630fa/" class="sidebar-link">Spring5学习笔记——持久层整合</a></li><li><a href="/blogs/pages/667215/" class="sidebar-link">Spring5学习笔记——MVC框架整合</a></li><li><a href="/blogs/pages/398673/" class="sidebar-link">Spring5学习笔记——注解编程</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>SpringMVC</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>SpringBoot</span> <!----></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/blogs/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>框架</span></li><li data-v-06225672><span data-v-06225672>Spring</span></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/gaoziman" target="_blank" title="作者" class="beLink" data-v-06225672>Cisyam</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-05-29</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">Spring5学习笔记——工厂<!----></h1> <div class="page-slot page-slot-top">
    <div class="wwads-cn wwads-horizontal page-wwads" data-id="136"></div>
    <style>
      .page-wwads{
        width:100%!important;
        min-height: 0;
        margin: 0;
      }
      .page-wwads .wwads-img img{
        width:80px!important;
      }
      .page-wwads .wwads-poweredby{
        width: 40px;
        position: absolute;
        right: 25px;
        bottom: 3px;
      }
      .wwads-content .wwads-text, .page-wwads .wwads-text{
        height: 100%;
        padding-top: 5px;
        display: block;
      }
  </style>
  </div> <div class="theme-vdoing-content content__default"><p>配套视频参考：<a href="hhttps://www.bilibili.com/video/BV185411477k/?spm_id_from=333.999.0.0&amp;vd_source=cea816a08805c218ac4390ae9b61ae31">孙哥说Spring5</a></p> <h2 id="第一部分-spring工厂"><a href="#第一部分-spring工厂" class="header-anchor">#</a> 第一部分：Spring工厂</h2> <h3 id="第一章、引言"><a href="#第一章、引言" class="header-anchor">#</a> 第一章、引言</h3> <h4 id="_1-ejb存在的问题"><a href="#_1-ejb存在的问题" class="header-anchor">#</a> 1. EJB存在的问题</h4> <blockquote><p><strong>EJB (Enterprise Java Beans)</strong> 是基于分布式事务处理的企业级应用程序的组件。Sun公司发布的文档中对EJB的定义是：EJB是用于开发和部署多层结构的、分布式的、面向对象的Java应用系统的跨平台的构件体系结构。</p></blockquote> <p>EJB是一个<strong>重量级</strong><a href="https://so.csdn.net/so/search?q=%E6%A1%86%E6%9E%B6&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">框架<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：</p> <ul><li>运行环境苛刻</li> <li>代码移植性差</li></ul> <h4 id="_2-什么是spring"><a href="#_2-什么是spring" class="header-anchor">#</a> 2. 什么是Spring</h4> <p>Spring是一个<strong>轻量级</strong>的javaEE解决方案，整合了众多优秀的<a href="https://so.csdn.net/so/search?q=%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">设计模式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <ul><li>轻量级体现在哪里？
<ol><li>对运行环境没有额外要求</li> <li>代码移植性高，不需要实现额外接口。</li></ol></li> <li>JavaEE解决方案：</li></ul> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291500721.png" alt="image-20200927003815440"></p> <ul><li><p>Spring整合的设计模式：</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> 工厂模式
<span class="token list punctuation">2.</span> 代理模式
<span class="token list punctuation">3.</span> 模板模式
<span class="token list punctuation">4.</span> 策略模式
</code></pre></div></li></ul> <h4 id="_3-什么是设计模式"><a href="#_3-什么是设计模式" class="header-anchor">#</a> 3. 什么是设计模式</h4> <div class="language-markdown extra-class"><pre class="language-markdown"><code>1.广义概念：
	面向对象设计中，解决特定问题的经典代码。
2.狭义概念：
	GOF4人帮定义的23种设计模式：
		工厂模式、抽象工厂模式、单例模式、建造者模式、原型模式、设配器模式、桥接模式、过滤器模式、组合模式、装饰者模式、外观模式、享元模式、代理模式、责任链模式、命令模式、解释器模式、迭代器模式、中介者模式、备忘录模式、观察者模式、状态模式、空对象模式、策略模式、模板模式、访问者模式
</code></pre></div><h4 id="_4-工厂设计模式"><a href="#_4-工厂设计模式" class="header-anchor">#</a> 4. 工厂设计模式</h4> <h5 id="_4-1-什么是工厂设计模式"><a href="#_4-1-什么是工厂设计模式" class="header-anchor">#</a> 4.1 什么是工厂设计模式</h5> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> 概念：创建对象交给工厂，而不是自己new
<span class="token list punctuation">2.</span> 优势：解耦合
	耦合：指代码间的强关联关系，一方的改变会影响另一方。
	问题：不利于代码的维护。
		User user = new User();
</code></pre></div><h5 id="_4-2-简单工厂的设计"><a href="#_4-2-简单工厂的设计" class="header-anchor">#</a> 4.2 简单工厂的设计</h5> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>yuziyan<span class="token punctuation">.</span>basic</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BeanFactory</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Properties</span> env <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span><span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">//第一步 获得IO输入流</span>
            <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">BeanFactory</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;applicationContext.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//第二步 文件内容 封装 Properties集合中 key = userService value = com.yuziyan.UserServiceImpl</span>
            env<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token comment">/*
	   对象的创建方式：
	       1. 直接调用构造方法 创建对象  UserService userService = new UserServiceImpl();
	       2. 通过反射的形式 创建对象 解耦合
	       Class clazz = Class.forName(&quot;com.yuziyan.basic.UserServiceImpl&quot;);
	       UserService userService = (UserService)clazz.newInstance();
     */</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">UserService</span> <span class="token function">getUserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">//                          com.yuziyan.basic.UserServiceImpl</span>
            <span class="token class-name">Class</span> clazz <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>env<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            userService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InstantiationException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalAccessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> userService<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">UserDao</span> <span class="token function">getUserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">UserDao</span> userDao <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Class</span> clazz <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>env<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;userDao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            userDao <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDao</span><span class="token punctuation">)</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InstantiationException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalAccessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> userDao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>自定义配置文件applicationContext.properties:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># 自定义properties文件，存储要管理的类全名</span>
<span class="token comment"># 在java代码中用对应的Properties集合 来读取这个文件的内容</span>
<span class="token comment"># Properties是专门处理属性文件的类，以键值对的形式存储</span>
<span class="token comment"># Properties [userService = com.yuziyan.xxx.UserServiceImpl]</span>
<span class="token comment"># Properties.getProperty(&quot;userService&quot;)</span>

<span class="token key attr-name">userDao</span><span class="token punctuation">=</span><span class="token value attr-value">com.yuziyan.basic.UserDaoImpl</span>
<span class="token key attr-name">userService</span><span class="token punctuation">=</span><span class="token value attr-value">com.yuziyan.basic.UserServiceImpl</span>
</code></pre></div><p>简单工厂存的问题：存在大量的代码冗余</p> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291500152.png" alt="image-20200927114116886"></p> <h5 id="_4-3-通用工厂的设计"><a href="#_4-3-通用工厂的设计" class="header-anchor">#</a> 4.3 通用工厂的设计</h5> <ul><li>通用工厂的代码：</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>yuziyan<span class="token punctuation">.</span>basic</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BeanFactory</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Properties</span> env <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span><span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">//第一步 获得IO输入流</span>
            <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">BeanFactory</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;applicationContext.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//第二步 文件内容 封装 Properties集合中 key = userService value = com.yuziyan.UserServiceImpl</span>
            env<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token comment">//通用工厂</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Object</span> <span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Object</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Class</span> clazz <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>env<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            res <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InstantiationException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalAccessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>通用工厂的使用方式：</li></ul> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> 定义类型 (类)
<span class="token list punctuation">2.</span> 通过配置文件的配置告知工厂(applicationContext.properties)
   key = value
<span class="token list punctuation">3.</span> 通过工厂获得类的对象
   Object ret = BeanFactory.getBean(&quot;key&quot;)
</code></pre></div><h4 id="_5-总结"><a href="#_5-总结" class="header-anchor">#</a> 5. 总结</h4> <p>**Spring本质：**工厂 ApplicationContext (applicationContext.xml)</p> <h3 id="第二章、第一个spring程序"><a href="#第二章、第一个spring程序" class="header-anchor">#</a> 第二章、第一个Spring程序</h3> <h4 id="_1-软件版本"><a href="#_1-软件版本" class="header-anchor">#</a> 1. 软件版本</h4> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> JDK1.8+
<span class="token list punctuation">2.</span> Maven3.5+
<span class="token list punctuation">3.</span> IDEA2018+
<span class="token list punctuation">4.</span> SpringFramework 5.1.4 
   官方网站 www.spring.io
</code></pre></div><h4 id="_2-环境搭建"><a href="#_2-环境搭建" class="header-anchor">#</a> 2. 环境搭建</h4> <ul><li>Spring的jar包（在pom.xml中加入依赖）</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.4.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>Spring的配置文件</li></ul> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> 配置文件的放置位置：任意位置，没有硬性要求
<span class="token list punctuation">2.</span> 配置文件的命名：没有硬性要求，但建议：applicationContext.xml

思考：日后应用Spring框架时，需要进行配置文件路径的设置。
</code></pre></div><h4 id="_3-spring的核心api"><a href="#_3-spring的核心api" class="header-anchor">#</a> 3. Spring的核心<a href="https://so.csdn.net/so/search?q=API&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <p><strong>ApplicationContext</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>作用：Spring提供的ApplicationContext这个工厂，用于对象的创建
好处：解耦合
</code></pre></div><ul><li>特点：</li></ul> <div class="language-markdown extra-class"><pre class="language-markdown"><code>ApplicationContext是接口类型，屏蔽了实现的差异。
非web环境 ： ClassPathXmlApplicationContext (main junit)
web环境  ：  XmlWebApplicationContext
</code></pre></div><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291500205.png" alt="image-20200927121905306"></p> <ul><li>重量级资源</li></ul> <div class="language-markdown extra-class"><pre class="language-markdown"><code>ApplicationContext工厂的对象占用大量内存。
不会频繁的创建对象 ： 一个应用只会创建一个工厂对象。
ApplicationContext工厂：一定是线程安全的(多线程并发访问)
</code></pre></div><h4 id="_4-程序开发"><a href="#_4-程序开发" class="header-anchor">#</a> 4. 程序开发</h4> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> 创建类型
<span class="token list punctuation">2.</span> 配置文件的配置 applicationContext.xml
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>person<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.basic.Person<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token list punctuation">3.</span> 通过工厂类，获得对象
   ApplicationContext
          |- ClassPathXmlApplicationContext 
   ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;/applicationContext.xml&quot;);
   Person person = (Person)ctx.getBean(&quot;person&quot;);
</code></pre></div><h4 id="_5-细节分析"><a href="#_5-细节分析" class="header-anchor">#</a> 5. 细节分析</h4> <ul><li><p>名词解释</p> <div class="language-mark extra-class"><pre class="language-text"><code>Spring工厂创建的对象，叫做bean或者组件(component)
</code></pre></div></li> <li><p>Spring工厂的相关方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//这种方式获取对象，不需要强制类型转换</span>
<span class="token class-name">Person</span> person <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;person&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;person = &quot;</span> <span class="token operator">+</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//当前Spring的配置文件中 只能有一个&lt;bean class是Person类型</span>
<span class="token class-name">Person</span> person1 <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;person1 = &quot;</span> <span class="token operator">+</span> person1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//获取配置文件中所有bean标签的id值  person person1</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> beanDefinitionNames <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanDefinitionName <span class="token operator">:</span> beanDefinitionNames<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;beanDefinitionName = &quot;</span> <span class="token operator">+</span> beanDefinitionName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//根据类型获取配置文件中对应bean标签的id值</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> beanNamesForType <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBeanNamesForType</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> id <span class="token operator">:</span> beanNamesForType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;id = &quot;</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//用于判断是否存在指定id值的bean，不能判断name值</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">containsBeanDefinition</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//用于判断是否存在指定id值的bean，可以判断name值</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">containsBean</span><span class="token punctuation">(</span><span class="token string">&quot;person&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>配置文件中需要注意的细节</p> <ol><li><p>只配置class属性</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.basic.Person<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>`
</code></pre></div></li></ol></li> <li><p>上述这种配置，没有指定id，Spring会自动生成一个 id，<code>com.yuziyan.basic.Person#0</code>，可以使用 <code>getBeanNamesForType()</code> 等方法验证。</p></li> <li><p>应用场景：</p></li></ul> <p>如果这个bean只需要使用一次，那么就可以省略id值
​ 如果这个bean会使用多次，或者被其他bean引用则需要设置id值</p> <ol><li><p>name属性</p> <ul><li><p>作用：用于在Spring的配置文件中，为bean对象定义别名(小名)</p></li> <li><p>name与id的相同点：</p> <ol><li><code>ctx.getBean(&quot;id&quot;)</code> 或 <code>ctx.getBean(&quot;name&quot;)</code> 都可以创建对象；</li> <li><code>&lt;bean id=&quot;person&quot; class=&quot;Person&quot;/&gt;</code> 与 <code>&lt;bean name=&quot;person&quot; class=&quot;Person&quot;/&gt;</code> 等效；</li></ol></li> <li><p>name与id的不同点：</p> <ol><li><p>别名可以定义多个,但是 id 属性只能有⼀个值；</p></li> <li><p>XML 的 id 属性的值，命名要求：必须以字⺟开头，可以包含 字⺟、数字、下划线、连字符；不能以特殊字符开头 <code>/person</code>；</p> <p>XML 的 name 属性的值，命名没有要求，<code>/person</code> 可以。
但其实 XML 发展到了今天：ID属性的限制已经不存在，<code>/person</code>也可以。</p></li></ol></li></ul></li></ol> <h4 id="_6-spring工厂的底层实现原理-简易版"><a href="#_6-spring工厂的底层实现原理-简易版" class="header-anchor">#</a> 6. Spring工厂的底层实现原理(简易版)</h4> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291500767.png" alt="image-20200415113032782"></p> <h4 id="_7-思考"><a href="#_7-思考" class="header-anchor">#</a> 7. 思考</h4> <p>问题：未来在开发过程中，是不是所有的对象，都会交给 Spring ⼯⼚来创建呢？</p> <p>回答：理论上是的，但是有特例 ：<strong>实体对象(entity)</strong> 是不会交给Spring创建，它由持久层框架进⾏创建。</p> <h3 id="第三章、spring5-x与日志框架的整合"><a href="#第三章、spring5-x与日志框架的整合" class="header-anchor">#</a> 第三章、Spring5.x与日志框架的整合</h3> <h4 id="_1-为什么要整合日志框架"><a href="#_1-为什么要整合日志框架" class="header-anchor">#</a> 1.为什么要整合日志框架？</h4> <p>Spring与日志框架进行整合，日志框架就可以在控制台中，输出Spring框架运行过程中的一些重要的信息。
好处：便于了解Spring框架的运行过程，利于程序的调试</p> <blockquote><p>默认日志框架
Spring 1.x、2.x、3.x 早期都是基于<code>commonslogging.jar</code>
Spring 5.x 默认整合的⽇志框架 logback、log4j2</p></blockquote> <h4 id="_2-spring如何整合日志框架"><a href="#_2-spring如何整合日志框架" class="header-anchor">#</a> 2.Spring如何整合日志框架？</h4> <p>以Spring5.x整合log4j 为例</p> <ol><li><p><code>pom.xml</code>文件添加<code>log4j</code>依赖：[^相当于导入了log4j.jar包]</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-log4j12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.7.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>引⼊ <code>log4.properties</code> 配置⽂件：</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># resources文件夹根目录下</span>
<span class="token comment">### 配置根</span>
<span class="token key attr-name">log4j.rootLogger</span> <span class="token punctuation">=</span> <span class="token value attr-value">debug,console</span>

<span class="token comment">### 日志输出到控制台显示</span>
<span class="token key attr-name">log4j.appender.console</span><span class="token punctuation">=</span><span class="token value attr-value">org.apache.log4j.ConsoleAppender</span>
<span class="token key attr-name">log4j.appender.console.Target</span><span class="token punctuation">=</span><span class="token value attr-value">System.out</span>
<span class="token key attr-name">log4j.appender.console.layout</span><span class="token punctuation">=</span><span class="token value attr-value">org.apache.log4j.PatternLayout</span>
<span class="token key attr-name">log4j.appender.console.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token value attr-value">%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n</span>
</code></pre></div></li></ol> <h3 id="第四章、注入-injection"><a href="#第四章、注入-injection" class="header-anchor">#</a> 第四章、注入( injection)</h3> <h4 id="_1-什么是注入"><a href="#_1-什么是注入" class="header-anchor">#</a> 1. 什么是注入？</h4> <blockquote><p>通过Spring工厂及配置文件，为所创建对象的成员变量赋值</p></blockquote> <h4 id="_2-为什么要注入"><a href="#_2-为什么要注入" class="header-anchor">#</a> 2. 为什么要注入？</h4> <ul><li><p>通过编码的方式，为成员变量进行赋值，存在耦合</p></li> <li><p>注入的好处：<strong>解耦合</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token class-name">ClassPathXmlApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;applicationContext.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Person</span> person <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;person&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	 <span class="token comment">//通过代码为变量赋值, 存在耦合, 如果以后想修改变量的值, 需要修改代码, 重新编译</span>
	person<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;于自言&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	person<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;person = &quot;</span> <span class="token operator">+</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h4 id="_3-如何注入"><a href="#_3-如何注入" class="header-anchor">#</a> 3. 如何注入？</h4> <ul><li><p>前提：类的成员变量提供<strong>set get方法</strong></p></li> <li><p>配置Spring配置文件</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>person1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>p<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.basic.Person<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>张无忌<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>200<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul> <h4 id="_4-spring注入的原理分析-简易版"><a href="#_4-spring注入的原理分析-简易版" class="header-anchor">#</a> 4. Spring注入的原理分析（简易版）</h4> <p><strong>Spring通过底层调用对象属性对应的set方法，完成成员变量的赋值，这种方式我们也称之为set注入</strong></p> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291500451.png" alt="image-20200415191157364"></p> <h3 id="第五章、set注入详解"><a href="#第五章、set注入详解" class="header-anchor">#</a> 第五章、Set注入详解</h3> <p>针对于不同类型的成员变量，需要在<code>&lt;property&gt;</code>标签中嵌套其他标签：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
	xxxxx
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291500473.png" alt="image-20200416090518713"></p> <h4 id="_1-jdk内置类型"><a href="#_1-jdk内置类型" class="header-anchor">#</a> 1. JDK内置类型</h4> <h5 id="_1-1-string-8中基本类型"><a href="#_1-1-string-8中基本类型" class="header-anchor">#</a> 1.1 String+8中基本类型</h5> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- value标签 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>张无忌<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>200<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="_1-2-数组"><a href="#_1-2-数组" class="header-anchor">#</a> 1.2 数组</h5> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- list标签 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emails<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>1234@qq.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>yangGuo@qq.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>baiXiaoSheng@qq.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>Trump@qq.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="_1-3-set集合"><a href="#_1-3-set集合" class="header-anchor">#</a> 1.3 Set集合</h5> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- set标签 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tels<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>131********<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>159********<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>176********<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- Set集合中有非基本类型时： --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
   &lt;ref bean
   &lt;set 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="_1-4-list集合"><a href="#_1-4-list集合" class="header-anchor">#</a> 1.4 List集合</h5> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- list标签 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>花果山水帘洞<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>铁岭<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>东土大唐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- List集合中有非基本类型时： --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">&gt;</span></span>
   &lt;ref bean
   &lt;set 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="_1-5-map集合"><a href="#_1-5-map集合" class="header-anchor">#</a> 1.5 Map集合</h5> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 需要用到map entry key三个标签 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>qqs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>周芷若<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>备胎<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>赵敏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>爱人<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- Map集合中有非基本类型时： --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>chenyn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
	&lt;ref bean
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="_1-6-properties"><a href="#_1-6-properties" class="header-anchor">#</a> 1.6 Properties</h5> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- props和prop标签 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>p<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>props</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>唐僧<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>白骨精<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Tom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Jerry<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>props</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="_1-7-复杂的jdk类型-比如date"><a href="#_1-7-复杂的jdk类型-比如date" class="header-anchor">#</a> 1.7 复杂的JDK类型（比如Date）</h5> <div class="language-markdown extra-class"><pre class="language-markdown"><code>需要自定义类型转换器处理
</code></pre></div><h4 id="_2-用户自定义类型"><a href="#_2-用户自定义类型" class="header-anchor">#</a> 2. 用户自定义类型</h4> <h5 id="_2-1-方式一"><a href="#_2-1-方式一" class="header-anchor">#</a> 2.1 方式一</h5> <ul><li><p>为成员变量提供get set方法</p></li> <li><p>配置文件中赋值（注入）</p> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291501615.png" alt="image-20200927175058105"></p></li></ul> <h5 id="_2-2-方式二"><a href="#_2-2-方式二" class="header-anchor">#</a> 2.2 方式二</h5> <blockquote><p>方式一存在的问题：</p> <ol><li>配置文件代码冗余。</li> <li>被注入的对象(UserDAO),多次创建，浪费（JVM)内存资源。</li></ol></blockquote> <ul><li>为成员变量提供set get方法</li> <li>配置文件中进行配置
<img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291501706.png" alt="在这里插入图片描述">
**注意：**Spring4.x 废除了 <code>&lt;ref local=&quot;&quot;/&gt;</code> 基本等效 <code>&lt;ref bean=&quot;&quot;/&gt;</code>；</li></ul> <h4 id="_3-set注入的简化写法"><a href="#_3-set注入的简化写法" class="header-anchor">#</a> 3. Set注入的简化写法</h4> <h5 id="_3-1-基本属性简化"><a href="#_3-1-基本属性简化" class="header-anchor">#</a> 3.1 基本属性简化</h5> <ul><li><p>JDK类型注入：（注意：<code>value</code>属性 只能简化 8种基本类型+String 注入标签）：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 简化前 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>person2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.basic.Person<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>韩信<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 简化后 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>person2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.basic.Person<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>韩信<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>用户自定义类型注入：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 简化前 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.basic.UserDaoImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.basic.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 简化后 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.basic.UserDaoImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.basic.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul> <h5 id="_3-2-基于p命名空间的简化"><a href="#_3-2-基于p命名空间的简化" class="header-anchor">#</a> 3.2 基于p命名空间的简化</h5> <ul><li><p>JDK类型：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 简化前：--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>person3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.basic.Person<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>沙和尚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 简化后：--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>person3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.basic.Person<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">p:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>沙和尚<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li> <li><p>用户自定义类型：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 简化前：--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.basic.UserDaoImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.basic.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 简化后：--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.basic.UserServiceImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">p:</span>userDao-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li></ul> <h3 id="第六章、构造注入"><a href="#第六章、构造注入" class="header-anchor">#</a> 第六章、构造注入</h3> <blockquote><p><strong>构造注入</strong>：Spring解析配置文件，调用构造方法，为成员变量赋值。</p></blockquote> <h4 id="_1-开发步骤"><a href="#_1-开发步骤" class="header-anchor">#</a> 1. 开发步骤</h4> <ul><li><p>提供带参数构造方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Customer</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
	<span class="token comment">//带参构造方法：</span>
    <span class="token keyword">public</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>Spring配置文件中赋值（注入）</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>customer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.basic.constructor.Customer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>武松<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>234<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul> <h4 id="_2-构造方法重载"><a href="#_2-构造方法重载" class="header-anchor">#</a> 2. 构造方法重载</h4> <h5 id="_2-1-参数个数不同时"><a href="#_2-1-参数个数不同时" class="header-anchor">#</a> 2.1 参数个数不同时</h5> <div class="language-markdown extra-class"><pre class="language-markdown"><code>通过控制<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span><span class="token punctuation">&gt;</span></span>标签的数量进行区分
</code></pre></div><h5 id="_2-2-参数个数相同时"><a href="#_2-2-参数个数相同时" class="header-anchor">#</a> 2.2 参数个数相同时</h5> <div class="language-markdow extra-class"><pre class="language-text"><code>通过在标签引入 type属性 进行类型的区分 &lt;constructor-arg type=&quot;&quot;&gt;
</code></pre></div><h4 id="_3-注入总结"><a href="#_3-注入总结" class="header-anchor">#</a> 3. 注入总结</h4> <p>未来的实战中，应用set注入还是构造注入？</p> <p>答案：set注入更多，原因如下：</p> <ol><li>构造注入麻烦 (重载)。</li> <li>Spring框架底层大量应用了 set注入。</li></ol> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291501415.png" alt="image-20200416155620897"></p> <h3 id="第七章、控制反转-与-依赖注入"><a href="#第七章、控制反转-与-依赖注入" class="header-anchor">#</a> 第七章、控制反转 与 依赖注入</h3> <h4 id="_1-控制反转-ioc-inverse-of-control"><a href="#_1-控制反转-ioc-inverse-of-control" class="header-anchor">#</a> 1. 控制反转(IOC Inverse of Control)</h4> <ul><li>含义：<strong>把对于成员变量赋值的控制权，从代码中反转(转移)到Spring工厂和配置文件中完成。</strong></li> <li>好处：解耦合</li> <li>底层实现：工厂设计模式</li></ul> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291501615.png" alt="image-20200416161127972"></p> <h4 id="_2-依赖注入-di-dependency-injection"><a href="#_2-依赖注入-di-dependency-injection" class="header-anchor">#</a> 2. 依赖注入(DI Dependency Injection )</h4> <ul><li>含义：<strong>当一个类需要另一个类时，就意味着依赖，这时可以把另一个类作为本类的成员变量，最终通过Spring配置文件进行注入(赋值)。</strong></li> <li>好处：解耦合。</li></ul> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291501227.png" alt="image-20200416162615816"></p> <h3 id="第八章、spring工厂创建复杂对象"><a href="#第八章、spring工厂创建复杂对象" class="header-anchor">#</a> 第八章、Spring工厂创建复杂对象</h3> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291501736.png" alt="image-20200416164044047"></p> <h4 id="_1-什么是复杂对象"><a href="#_1-什么是复杂对象" class="header-anchor">#</a> 1. 什么是复杂对象</h4> <ul><li><p>含义：指的就是不能直接通过new构造方法创建的对象。</p></li> <li><p>举例：Connection</p> <p>SqlSessionFactory</p></li></ul> <h4 id="_2-spring工厂创建复杂对象的3种方式"><a href="#_2-spring工厂创建复杂对象的3种方式" class="header-anchor">#</a> 2. Spring工厂创建复杂对象的3种方式</h4> <h5 id="_2-1-factorybean接口"><a href="#_2-1-factorybean接口" class="header-anchor">#</a> 2.1 FactoryBean接口</h5> <ul><li><p>开发步骤</p> <ol><li><p>实现FactoryBean接口</p> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291501988.png" alt="img"></p></li> <li><p>Spring配置文件中注册</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>conn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.factorybean.ConnectionFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li></ol></li></ul> <p>注意：</p> <ul><li><p>如果class类型是FactoryBean接口的实现类，那么通过id值获得的是这个类<code>getObject()</code>方法所返回的对象。比如 Connection SqlSessionFactory</p></li> <li><p>由于我们此时想获取的是Connection对象，所以需要在pom.xml文件中加入相关的依赖</p> <div class="language-xml extra-class"><pre class="language-xml"><code>     <span class="token comment">&lt;!-- MySql连接 --&gt;</span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.48<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>细节分析</p> <ol><li><p>如果就想获得FactoryBean类型的对象，在id前加上&amp;符号，<code>ctx.getBean(&quot;&amp;conn&quot;)</code>，此时获得的就是ConnectionFactoryBean对象本身。</p></li> <li><p><code>isSingleton()</code>方法，返回 true 只会创建一个复杂对象，返回 false 每一次都会创建新的对象</p> <p>问题：根据这个对象的特点 ，决定是返回true (SqlSessionFactory) 还是 false (Connection)。</p></li> <li><p>mysql高版本连接创建时，需要制定SSL证书，解决问题的方式。</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>url = &quot;jdbc:mysql://localhost:3306/suns?useSSL=false&quot;
</code></pre></div></li></ol></li></ul> <ol start="4"><li><p>体会依赖注入(DI)</p> <p>可以把ConnectionFactoryBean中依赖的4个字符串信息 ，在配置文件中进行注入 ，解耦合。</p> <div class="language-xml extra-class"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>conn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.factorybean.ConnectionFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driverClassName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.jdbc.Driver<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql://localhost:3306/test?useSSL=false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ol> <ul><li><p>FactoryBean的实现原理[简易版]</p> <p>Spring内部运行流程：</p> <ol><li>通过<code>conn</code>获得ConnectionFactoryBean类的对象。</li> <li>进而通过instanceof 判断是否是FactoryBean接口的实现类。</li> <li>如果是，Spring按照规定调用<code>getObject()</code>方法返回Connection类的对象。体现了接口回调的特点。</li></ol> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291501696.png" alt="image-20200417114723005"></p></li> <li><p>FactoryBean总结</p> <p>Spring中用于创建复杂对象的一种方式，也是Spring原生提供的，后续讲解Spring整合其他框架，大量应用FactoryBean</p></li></ul> <h5 id="_2-2-实例工厂"><a href="#_2-2-实例工厂" class="header-anchor">#</a> 2.2 实例工厂</h5> <ul><li><p>实例工厂的作用：</p> <ol><li>避免Spring框架的侵入</li> <li>整合遗留系统</li></ol></li> <li><p>开发步骤：</p> <ol><li><p>定义实例工厂类：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConnectionFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//xxxx</span>
        <span class="token keyword">return</span> conn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol></li></ul> <ol start="2"><li><p>Spring配置文件中注册：</p> <div class="language-xml extra-class"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>connFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.factorybean.ConnectionFactory<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>conn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>connFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getConnection<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li></ol> <h5 id="_2-3-静态工厂"><a href="#_2-3-静态工厂" class="header-anchor">#</a> 2.3 静态工厂</h5> <ul><li><p>静态工厂的作用（同实例工厂）：</p> <ol><li>避免Spring框架的侵入</li> <li>整合遗留系统</li></ol></li> <li><p>开发步骤：</p> <ol><li><p>定义静态工厂类：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StaticConnectionFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//xxxx</span>
        <span class="token keyword">return</span> conn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol></li></ul> <ol start="2"><li><p>Spring配置文件中注册：</p> <div class="language-xml extra-class"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>conn1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx.StaticConnectionFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getConnection<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li></ol> <h4 id="_3-spring工厂创建对象总结"><a href="#_3-spring工厂创建对象总结" class="header-anchor">#</a> 3. Spring工厂创建对象总结</h4> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291501078.png" alt="image-20200417152030222"></p> <h3 id="第九章、控制spring工厂创建对象的次数"><a href="#第九章、控制spring工厂创建对象的次数" class="header-anchor">#</a> 第九章、控制Spring工厂创建对象的次数</h3> <h4 id="_1-为什么要控制对象的创建次数"><a href="#_1-为什么要控制对象的创建次数" class="header-anchor">#</a> 1. 为什么要控制对象的创建次数？</h4> <ul><li><p>为了减少不必要的内存浪费。</p></li> <li><p>什么样的对象只创建一次？</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> SqlSessionFactory
<span class="token list punctuation">2.</span> DAO
<span class="token list punctuation">3.</span> Service
...
</code></pre></div></li> <li><p>什么样的对象 每一次都要创建新的？</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> Connection
<span class="token list punctuation">2.</span> SqlSession | Session
<span class="token list punctuation">3.</span> Struts2 Action
...
</code></pre></div></li></ul> <h4 id="_2-如何控制简单对象的创建次数"><a href="#_2-如何控制简单对象的创建次数" class="header-anchor">#</a> 2. 如何控制简单对象的创建次数</h4> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>account<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>singleton|prototype<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxxx.Account<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p><code>singleton</code>:只会创建一次简单对象 默认值
<code>prototype</code>:每一次都会创建新的对象</p> <h4 id="_3-如何控制复杂对象的创建次数"><a href="#_3-如何控制复杂对象的创建次数" class="header-anchor">#</a> 3. 如何控制复杂对象的创建次数</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FactoryBean</span><span class="token punctuation">{</span>
   <span class="token function">isSingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//只会创建一次</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//每一次都会创建新的</span>
   <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token comment">//如没有isSingleton方法，还是通过scope属性，进行控制。</span>
</code></pre></div><h2 id="第二部分-spring工厂的高级特性"><a href="#第二部分-spring工厂的高级特性" class="header-anchor">#</a> 第二部分：Spring工厂的高级特性</h2> <h3 id="第十章、对象的生命周期"><a href="#第十章、对象的生命周期" class="header-anchor">#</a> 第十章、对象的生命周期</h3> <h4 id="_1-什么是对象的生命周期"><a href="#_1-什么是对象的生命周期" class="header-anchor">#</a> 1. 什么是对象的生命周期</h4> <p>含义：一个对象创建、存活、消亡的一个完整过程。</p> <h4 id="_2-为什么要学习对象的生命周期"><a href="#_2-为什么要学习对象的生命周期" class="header-anchor">#</a> 2. 为什么要学习对象的生命周期</h4> <p>由Spring负责对象的创建、存活、销毁，了解生命周期，有利于我们使用好Spring为我们创建的对象。</p> <h4 id="_3-生命周期的3个阶段"><a href="#_3-生命周期的3个阶段" class="header-anchor">#</a> 3. 生命周期的3个阶段</h4> <h5 id="_3-1-创建阶段"><a href="#_3-1-创建阶段" class="header-anchor">#</a> 3.1 创建阶段</h5> <ul><li><p><code>scope=&quot;singleton&quot;</code></p> <p>此时会在创建Spring工厂时，创建对象。</p> <p>注意：如果同时设置了<code>lazy-init=&quot;true&quot;</code>，那么会在获取对象<code>ctx.getBean(&quot;&quot;)</code>时创建。</p></li> <li><p><code>scope=&quot;prototype&quot;</code></p> <p>Spring工厂会在获取对象时，创建对象，即调用<code>ctx.getBean(&quot;&quot;)</code>方法时创建。</p></li></ul> <p>注意：如果有属性需要注入(DI)，会在创建完成时立即进行注入。</p> <h5 id="_3-2-初始化阶段"><a href="#_3-2-初始化阶段" class="header-anchor">#</a> 3.2 初始化阶段</h5> <p><em><strong>创建阶段完成后，Spring会调用对象的初始化方法，完成对应的初始化操作。</strong></em></p> <p>程序员提供初始化方法的途径：</p> <ol><li><p>实现InitializingBean接口：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//实现这个方法，完成初始化操作</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterProperitesSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>对象中提供一个普通的方法同时配置Spring配置文件：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <div class="language-xml extra-class"><pre class="language-xml"><code>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>product<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx.Product<span class="token punctuation">&quot;</span></span> <span class="token attr-name">init-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myInit<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>细节分析：</p> <ul><li><p>如果一个对象即实现InitializingBean，同时又提供的普通的初始化方法 ，顺序：</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> InitializingBean 
<span class="token list punctuation">2.</span> 普通初始化方法
</code></pre></div></li> <li><p>注入一定发生在初始化操作的前面</p></li> <li><p>什么叫做初始化操作：资源的初始化：数据库、IO、网络 …</p></li></ul> <h5 id="_3-3销毁阶段"><a href="#_3-3销毁阶段" class="header-anchor">#</a> 3.3销毁阶段</h5> <p><em><strong>Spring销毁对象<code>ctx.close();</code>前，会调用对象的销毁方法，完成销毁操作</strong></em></p> <p>程序员定义销毁方法的途径：</p> <ol><li><p>实现DisposableBean</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
  
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>定义一个普通的销毁方法同时配置Spring配置文件：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div></li></ol> <div class="language-xml extra-class"><pre class="language-xml"><code>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">init-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myDestroy<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>细节分析：</p> <ul><li>销毁方法的操作只适用于 <code>scope=&quot;singleton&quot;</code></li> <li>销毁操作主要指资源的释放操作，比如<code>io.close();</code> <code>connection.close();</code></li></ul> <h3 id="第十一章、配置文件参数化"><a href="#第十一章、配置文件参数化" class="header-anchor">#</a> 第十一章、配置文件参数化</h3> <h4 id="_1-什么是配置文件参数化"><a href="#_1-什么是配置文件参数化" class="header-anchor">#</a> 1. 什么是配置文件参数化？</h4> <p>答：把Spring配置文件中需要经常修改的字符串信息，转移到一个更小的配置文件中。</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> Spring的配置文件中存在需要经常修改的字符串？
   存在 以数据库连接相关的参数 代表
<span class="token list punctuation">2.</span> 经常变化字符串，在Spring的配置文件中，直接修改
   不利于项目维护(修改)
<span class="token list punctuation">3.</span> 转移到一个小的配置文件(.properties)
   利于维护(修改)
   
配置文件参数化：利于Spring配置文件的维护(修改)
</code></pre></div><h4 id="_2-配置文件参数化的开发步骤"><a href="#_2-配置文件参数化的开发步骤" class="header-anchor">#</a> 2. 配置文件参数化的开发步骤:</h4> <h5 id="_2-1-提供一个小的配置文件-properities"><a href="#_2-1-提供一个小的配置文件-properities" class="header-anchor">#</a> 2.1 提供一个小的配置文件(.properities)</h5> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># 名字：随便</span>
<span class="token comment"># 放置位置：随便</span>

<span class="token key attr-name">jdbc.driverClassName</span> <span class="token punctuation">=</span> <span class="token value attr-value">com.mysql.jdbc.Driver</span>
<span class="token key attr-name">jdbc.url</span> <span class="token punctuation">=</span> <span class="token value attr-value">jdbc:mysql://localhost:3306/test?useSSL=false</span>
<span class="token key attr-name">jdbc.username</span> <span class="token punctuation">=</span> <span class="token value attr-value">root</span>
<span class="token key attr-name">jdbc.password</span> <span class="token punctuation">=</span> <span class="token value attr-value">root</span>
</code></pre></div><h5 id="_2-2-spring的配置文件与小配置文件进行整合"><a href="#_2-2-spring的配置文件与小配置文件进行整合" class="header-anchor">#</a> 2.2 Spring的配置文件与小配置文件进行整合</h5> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classpath:/db.properties<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><h5 id="_2-3-在spring配置文件中通过-key-获取小配置文件中对应的值"><a href="#_2-3-在spring配置文件中通过-key-获取小配置文件中对应的值" class="header-anchor">#</a> 2.3 在Spring配置文件中通过<code>${key}</code>获取小配置文件中对应的值</h5> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291501239.png" alt="image-20200928215903162"></p> <h3 id="第十二章、自定义类型转换器"><a href="#第十二章、自定义类型转换器" class="header-anchor">#</a> 第十二章、自定义类型转换器</h3> <h4 id="_1-类型转换器的作用"><a href="#_1-类型转换器的作用" class="header-anchor">#</a> 1. 类型转换器的作用</h4> <p>Spring通过类型转换器把配置文件中字符串类型的数据，转换成对象中成员变量对应类型的数据，进而完成了注入。</p> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291501939.png" alt="image-20200418201732220"></p> <h4 id="_2-为什么要自定义类型转换器"><a href="#_2-为什么要自定义类型转换器" class="header-anchor">#</a> 2. 为什么要自定义类型转换器？</h4> <p>原因：实际应用中需要转换某种特定的类型，且Spring内部没有提供这种类型转换器时，需要程序员自己定义。</p> <h4 id="_3-自定义类型转换器的开发步骤"><a href="#_3-自定义类型转换器的开发步骤" class="header-anchor">#</a> 3. 自定义类型转换器的开发步骤</h4> <h5 id="_3-1-实现-converter-接口"><a href="#_3-1-实现-converter-接口" class="header-anchor">#</a> 3.1 实现 <code>Converter&lt;&gt;</code>接口</h5> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyDateConverter</span> <span class="token keyword">implements</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Date</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token comment">/*
    convert方法作用：String ---&gt;  Date
                   SimpleDateFormat sdf = new SimpleDateFormat();
                   sdf.parset(String) ---&gt; Date
    param:source 代表的是配置文件中 日期字符串 &lt;value&gt;2020-10-11&lt;/value&gt;

    return : 当把转换好的Date作为convert方法的返回值后，Spring自动的为birthday属性进行注入（赋值）

    */</span>
    <span class="token keyword">public</span> <span class="token class-name">Date</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">String</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            date <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ParseException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> date<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_3-2-在spring的配置文件中进行配置"><a href="#_3-2-在spring的配置文件中进行配置" class="header-anchor">#</a> 3.2 在Spring的配置文件中进行配置</h5> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 创建自定义转换器对象 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myDateConverter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.converter.MyDateConverter<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- 在Spring中注册自定义的转换器 --&gt;</span>
<span class="token comment">&lt;!-- 目的：告知Spring框架，我们所创建的MyDateConverter是一个类型转换器 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>conversionService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.context.support.ConversionServiceFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>converters<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myDateConverter<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 上面两步完成之后就可以直接使用了 --&gt;</span>
</code></pre></div><h4 id="_4-细节"><a href="#_4-细节" class="header-anchor">#</a> 4. 细节</h4> <h5 id="_4-1-体会依赖注入-di-mydateconverter中的日期的格式-可以通过依赖注入的方式-由配置文件完成赋值。"><a href="#_4-1-体会依赖注入-di-mydateconverter中的日期的格式-可以通过依赖注入的方式-由配置文件完成赋值。" class="header-anchor">#</a> 4.1 体会依赖注入(DI)：<code>MyDateConverter</code>中的日期的格式，可以通过依赖注入的方式，由配置文件完成赋值。</h5> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyDateConverter</span> <span class="token keyword">implements</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Date</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> pattern<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPattern</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> pattern<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPattern</span><span class="token punctuation">(</span><span class="token class-name">String</span> pattern<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pattern <span class="token operator">=</span> pattern<span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token comment">/*
        convert方法作用：String ---&gt;  Date
                       SimpleDateFormat sdf = new SimpleDateFormat();
                       sdf.parset(String) ---&gt; Date
        param:source 代表的是配置文件中 日期字符串 &lt;value&gt;2020-10-11&lt;/value&gt;

        return : 当把转换好的Date作为convert方法的返回值后，Spring自动的为birthday属性进行注入（赋值）

        */</span>
    <span class="token keyword">public</span> <span class="token class-name">Date</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">String</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
            date <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ParseException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> date<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>创建自定义类型转换器对象<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">&quot;myDateConverter&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;com.yuziyan.converter.MyDateConverter&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">&quot;pattern&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">&gt;</span>
</code></pre></div><h5 id="_4-2-conversionsevicefactorybean-定义id属性-值必须是-conversionservice"><a href="#_4-2-conversionsevicefactorybean-定义id属性-值必须是-conversionservice" class="header-anchor">#</a> 4.2 <code>ConversionSeviceFactoryBean</code> 定义id属性，值必须是 <code>conversionService</code></h5> <h5 id="_4-3-spring框架内置日期类型的转换器"><a href="#_4-3-spring框架内置日期类型的转换器" class="header-anchor">#</a> 4.3 Spring框架内置日期类型的转换器</h5> <div class="language-markdown extra-class"><pre class="language-markdown"><code>日期格式：2020/05/01 (不支持 ：2020-05-01)
</code></pre></div><h3 id="第十三章、后置处理bean"><a href="#第十三章、后置处理bean" class="header-anchor">#</a> 第十三章、后置处理Bean</h3> <h4 id="_1-beanpostprocessor的作用"><a href="#_1-beanpostprocessor的作用" class="header-anchor">#</a> 1. BeanPostProcessor的作用：</h4> <p>对Spring工厂所创建的对象，进行再加工。</p> <p>注意：BeanPostProcessor是接口</p> <h4 id="_2-后置处理bean的运行原理分析"><a href="#_2-后置处理bean的运行原理分析" class="header-anchor">#</a> 2. 后置处理Bean的运行原理分析</h4> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291501381.png" alt="在这里插入图片描述"></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>程序员实现BeanPostProcessor规定接口中的方法：

参数一：Spring工厂创建好的对象
参数二：对象名字
返回值：返回的对象会交给Spring框架
Object postProcessBeforeInitiallization(Object bean String beanName)
作用：Spring创建完对象，并进行注入后，会运行Before方法进行加工

Object postProcessAfterInitiallization(Object bean String beanName)
作用：Spring执行完对象的初始化操作后，会运行After方法进行加工

实战中：
很少处理Spring的初始化操作：没有必要区分Before After。只需要实现其中的一个After方法即可
注意：
    postProcessBeforeInitiallization(){
    	return bean对象
    }
</code></pre></div><h4 id="_3-beanpostprocessor的开发步骤"><a href="#_3-beanpostprocessor的开发步骤" class="header-anchor">#</a> 3. BeanPostProcessor的开发步骤</h4> <h5 id="_1-实现-beanpostprocessor接口"><a href="#_1-实现-beanpostprocessor接口" class="header-anchor">#</a> 1. 实现 BeanPostProcessor接口</h5> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBeanPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanPostProcessor</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessBeforeInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessAfterInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>

        <span class="token class-name">Categroy</span> categroy <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Categroy</span><span class="token punctuation">)</span> bean<span class="token punctuation">;</span>
        categroy<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;xiaowb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">return</span> categroy<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_2-spring的配置文件中进行配置"><a href="#_2-spring的配置文件中进行配置" class="header-anchor">#</a> 2. Spring的配置文件中进行配置</h5> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myBeanPostProcessor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx.MyBeanPostProcessor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><h5 id="_3-beanpostprocessor细节"><a href="#_3-beanpostprocessor细节" class="header-anchor">#</a> 3. BeanPostProcessor细节</h5> <p>BeanPostProcessor会对Spring工厂中所有创建的对象进行加工。</p></div></div>  <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/05/29, 19:49:16</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/blogs/pages/99543d/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Spring5学习笔记——AOP</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/blogs/pages/99543d/">Spring5学习笔记——AOP</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:2942894660@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/gaoziman" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2023
    <span>Cisyam | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/blogs/assets/js/app.6703720a.js" defer></script><script src="/blogs/assets/js/2.2891cb31.js" defer></script><script src="/blogs/assets/js/67.3ac0f5f0.js" defer></script>
  </body>
</html>
