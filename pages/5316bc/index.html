<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux命令笔记 | Cisyam</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/blogs/img/favicon.ico">
    <link rel="stylesheet" href="/blogs//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <script src="https://cdn.wwads.cn/js/makemoney.js" type="text/javascript"></script>
    <meta name="description" content="一个基于VuePress的 知识管理&amp;博客 主题">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    <meta name="wwads-cn-verify" content="6c4b761a28b734fe93831e3fb400ce87">
    
    <link rel="preload" href="/blogs/assets/css/0.styles.d190f907.css" as="style"><link rel="preload" href="/blogs/assets/js/app.6703720a.js" as="script"><link rel="preload" href="/blogs/assets/js/2.2891cb31.js" as="script"><link rel="preload" href="/blogs/assets/js/99.52a327c1.js" as="script"><link rel="prefetch" href="/blogs/assets/js/10.29af8a7f.js"><link rel="prefetch" href="/blogs/assets/js/100.c7ec5c9d.js"><link rel="prefetch" href="/blogs/assets/js/11.bdeeba6d.js"><link rel="prefetch" href="/blogs/assets/js/12.713dd16b.js"><link rel="prefetch" href="/blogs/assets/js/13.59a174b0.js"><link rel="prefetch" href="/blogs/assets/js/14.68a58203.js"><link rel="prefetch" href="/blogs/assets/js/15.82a1fdde.js"><link rel="prefetch" href="/blogs/assets/js/16.9c54c3e4.js"><link rel="prefetch" href="/blogs/assets/js/17.11ba4e45.js"><link rel="prefetch" href="/blogs/assets/js/18.2818cf53.js"><link rel="prefetch" href="/blogs/assets/js/19.96755560.js"><link rel="prefetch" href="/blogs/assets/js/20.7481fcc2.js"><link rel="prefetch" href="/blogs/assets/js/21.907b70d0.js"><link rel="prefetch" href="/blogs/assets/js/22.a166ad24.js"><link rel="prefetch" href="/blogs/assets/js/23.77d2dca0.js"><link rel="prefetch" href="/blogs/assets/js/24.aa87f4c6.js"><link rel="prefetch" href="/blogs/assets/js/25.dad97827.js"><link rel="prefetch" href="/blogs/assets/js/26.bb52f77c.js"><link rel="prefetch" href="/blogs/assets/js/27.9e1ea639.js"><link rel="prefetch" href="/blogs/assets/js/28.ba119082.js"><link rel="prefetch" href="/blogs/assets/js/29.18832ed6.js"><link rel="prefetch" href="/blogs/assets/js/3.fefeb4f4.js"><link rel="prefetch" href="/blogs/assets/js/30.b3c42b31.js"><link rel="prefetch" href="/blogs/assets/js/31.4635ac31.js"><link rel="prefetch" href="/blogs/assets/js/32.d2b68837.js"><link rel="prefetch" href="/blogs/assets/js/33.f7b79f8b.js"><link rel="prefetch" href="/blogs/assets/js/34.ce01b9ce.js"><link rel="prefetch" href="/blogs/assets/js/35.09a87cc8.js"><link rel="prefetch" href="/blogs/assets/js/36.76cf8512.js"><link rel="prefetch" href="/blogs/assets/js/37.d0062b5b.js"><link rel="prefetch" href="/blogs/assets/js/38.7f84a2f0.js"><link rel="prefetch" href="/blogs/assets/js/39.e2188bfb.js"><link rel="prefetch" href="/blogs/assets/js/4.b9356ecc.js"><link rel="prefetch" href="/blogs/assets/js/40.c5791be3.js"><link rel="prefetch" href="/blogs/assets/js/41.6e456626.js"><link rel="prefetch" href="/blogs/assets/js/42.f177def6.js"><link rel="prefetch" href="/blogs/assets/js/43.d522573e.js"><link rel="prefetch" href="/blogs/assets/js/44.6add112a.js"><link rel="prefetch" href="/blogs/assets/js/45.5f2862b3.js"><link rel="prefetch" href="/blogs/assets/js/46.bbdad8ea.js"><link rel="prefetch" href="/blogs/assets/js/47.4b8eccad.js"><link rel="prefetch" href="/blogs/assets/js/48.790c3f48.js"><link rel="prefetch" href="/blogs/assets/js/49.7a6b72f8.js"><link rel="prefetch" href="/blogs/assets/js/5.dbc14407.js"><link rel="prefetch" href="/blogs/assets/js/50.1d07348b.js"><link rel="prefetch" href="/blogs/assets/js/51.baf090ad.js"><link rel="prefetch" href="/blogs/assets/js/52.aa82caa4.js"><link rel="prefetch" href="/blogs/assets/js/53.54b14a71.js"><link rel="prefetch" href="/blogs/assets/js/54.1c49a9fe.js"><link rel="prefetch" href="/blogs/assets/js/55.e745f470.js"><link rel="prefetch" href="/blogs/assets/js/56.66db2bce.js"><link rel="prefetch" href="/blogs/assets/js/57.cfbf7fad.js"><link rel="prefetch" href="/blogs/assets/js/58.7c34f72a.js"><link rel="prefetch" href="/blogs/assets/js/59.2411d34a.js"><link rel="prefetch" href="/blogs/assets/js/6.8e27846d.js"><link rel="prefetch" href="/blogs/assets/js/60.bd4c3a01.js"><link rel="prefetch" href="/blogs/assets/js/61.376a94a9.js"><link rel="prefetch" href="/blogs/assets/js/62.e1ed876a.js"><link rel="prefetch" href="/blogs/assets/js/63.519e802c.js"><link rel="prefetch" href="/blogs/assets/js/64.d1de0951.js"><link rel="prefetch" href="/blogs/assets/js/65.68804e09.js"><link rel="prefetch" href="/blogs/assets/js/66.fa157ac3.js"><link rel="prefetch" href="/blogs/assets/js/67.3ac0f5f0.js"><link rel="prefetch" href="/blogs/assets/js/68.418729c4.js"><link rel="prefetch" href="/blogs/assets/js/69.27b1a4cd.js"><link rel="prefetch" href="/blogs/assets/js/7.8503034e.js"><link rel="prefetch" href="/blogs/assets/js/70.ccbe6f1e.js"><link rel="prefetch" href="/blogs/assets/js/71.9bd4782d.js"><link rel="prefetch" href="/blogs/assets/js/72.cd2999cc.js"><link rel="prefetch" href="/blogs/assets/js/73.79fc8d67.js"><link rel="prefetch" href="/blogs/assets/js/74.19768d7a.js"><link rel="prefetch" href="/blogs/assets/js/75.61498db4.js"><link rel="prefetch" href="/blogs/assets/js/76.2c210d98.js"><link rel="prefetch" href="/blogs/assets/js/77.673ebfb2.js"><link rel="prefetch" href="/blogs/assets/js/78.efeb93e2.js"><link rel="prefetch" href="/blogs/assets/js/79.892e6e6f.js"><link rel="prefetch" href="/blogs/assets/js/8.1477cb30.js"><link rel="prefetch" href="/blogs/assets/js/80.cc1efe6f.js"><link rel="prefetch" href="/blogs/assets/js/81.9029edfe.js"><link rel="prefetch" href="/blogs/assets/js/82.ebfed7ad.js"><link rel="prefetch" href="/blogs/assets/js/83.8c745cc8.js"><link rel="prefetch" href="/blogs/assets/js/84.2d5bf3dd.js"><link rel="prefetch" href="/blogs/assets/js/85.655b076a.js"><link rel="prefetch" href="/blogs/assets/js/86.0b926ace.js"><link rel="prefetch" href="/blogs/assets/js/87.39251ad6.js"><link rel="prefetch" href="/blogs/assets/js/88.9031ffae.js"><link rel="prefetch" href="/blogs/assets/js/89.9a2bbb31.js"><link rel="prefetch" href="/blogs/assets/js/9.c71f6b55.js"><link rel="prefetch" href="/blogs/assets/js/90.3fabd32f.js"><link rel="prefetch" href="/blogs/assets/js/91.51ad2e66.js"><link rel="prefetch" href="/blogs/assets/js/92.dff42051.js"><link rel="prefetch" href="/blogs/assets/js/93.4f7c903c.js"><link rel="prefetch" href="/blogs/assets/js/94.7b8dc99c.js"><link rel="prefetch" href="/blogs/assets/js/95.5b05ce73.js"><link rel="prefetch" href="/blogs/assets/js/96.c252c42c.js"><link rel="prefetch" href="/blogs/assets/js/97.29426949.js"><link rel="prefetch" href="/blogs/assets/js/98.b857e1ec.js">
    <link rel="stylesheet" href="/blogs/assets/css/0.styles.d190f907.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu only-sidebarItem"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogs/" class="home-link router-link-active"><img src="/blogs/img/logo.png" alt="Cisyam" class="logo"> <span class="site-name can-hide">Cisyam</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blogs/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="程序日常" class="dropdown-title"><!----> <span class="title" style="display:;">程序日常</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>日常配置</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/0ec974/" class="nav-link">系统重装日记</a></li><li class="dropdown-subitem"><a href="/blogs/pages/63554c/" class="nav-link">IDEA日常配置和操作小结</a></li><li class="dropdown-subitem"><a href="/blogs/pages/97b3a1/" class="nav-link">在IDEA中配置Git的Push键</a></li><li class="dropdown-subitem"><a href="/blogs/pages/8cab39/" class="nav-link">Git的安装以及SSH配置</a></li><li class="dropdown-subitem"><a href="/blogs/pages/5e65f3/" class="nav-link">win11下的Maven安装配置教程</a></li><li class="dropdown-subitem"><a href="/blogs/pages/bc4cea/" class="nav-link">基于jmeter完成压测</a></li><li class="dropdown-subitem"><a href="/blogs/pages/513ac4/" class="nav-link">Typora+PicGo+阿里云OSS搭建博客图床</a></li><li class="dropdown-subitem"><a href="/blogs/pages/79620e/" class="nav-link">Git图文使用教程详解(一)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/7e3ca6/" class="nav-link">Git图文使用教程详解(二)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/c6a5fd/" class="nav-link">Git图文使用教程详解(三)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/9f9143/" class="nav-link">带你认识Hutool工具包</a></li></ul></li><li class="dropdown-item"><h4>Bug修复</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/c1d525/" class="nav-link">Java连接SqlServer错误</a></li></ul></li><li class="dropdown-item"><h4>其他学习</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/58d18b/" class="nav-link">计算机相关常见英语单词,带读音!</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a0bf4c/" class="nav-link">常用emoji表情包</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><!----> <span class="title" style="display:;">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/882008/" class="nav-link">Java开发环境的搭建</a></li><li class="dropdown-item"><!----> <a href="/blogs/pages/7263a2/" class="nav-link">Java基础语法</a></li><li class="dropdown-item"><h4>Java集合</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/882008/" class="nav-link">初始Java基础知识</a></li></ul></li><li class="dropdown-item"><h4>Java知识点</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/868901/" class="nav-link">Thymeleaf一篇就够了</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java进阶" class="dropdown-title"><!----> <span class="title" style="display:;">Java进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/e32cf5/" class="nav-link">泛型就这么简单</a></li><li class="dropdown-item"><h4>流</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/918085/" class="nav-link">初步认识IO流</a></li></ul></li><li class="dropdown-item"><h4>JVM</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/8b1290/" class="nav-link">Java内存区域介绍以及JDK1.8内存变化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>MySQL基础知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/6ca3af/" class="nav-link">数据库原理及应用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/460b04/" class="nav-link">MySQL 8.0 绿色版安装</a></li></ul></li><li class="dropdown-item"><h4>康师傅MySQL基础篇</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/37fc57/" class="nav-link">第01章_数据库概述</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f3f3ab/" class="nav-link">第02章_MySQL环境搭建</a></li><li class="dropdown-subitem"><a href="/blogs/pages/1e92f0/" class="nav-link">第03章_基本的SELECT语句</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0cd93d/" class="nav-link">第04章_运算符</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f60350/" class="nav-link">第05章_排序与分页</a></li><li class="dropdown-subitem"><a href="/blogs/pages/79f1c4/" class="nav-link">第06章_多表查询</a></li><li class="dropdown-subitem"><a href="/blogs/pages/9757a1/" class="nav-link">第07章_单行函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e8846a/" class="nav-link">第08章_聚合函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0ececa/" class="nav-link">第09章_子查询</a></li><li class="dropdown-subitem"><a href="/blogs/pages/667605/" class="nav-link">第10章_创建和管理表</a></li><li class="dropdown-subitem"><a href="/blogs/pages/07f3df/" class="nav-link">第11章_数据处理之增删改</a></li><li class="dropdown-subitem"><a href="/blogs/pages/b3a365/" class="nav-link">第12章_MySQL数据类型精讲</a></li><li class="dropdown-subitem"><a href="/blogs/pages/6bfb13/" class="nav-link">第13章_约束</a></li><li class="dropdown-subitem"><a href="/blogs/pages/745f2d/" class="nav-link">第14章_视图</a></li><li class="dropdown-subitem"><a href="/blogs/pages/8c180e/" class="nav-link">第15章_存储过程与函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/566d1d/" class="nav-link">第16章_变量、流程控制与游标</a></li><li class="dropdown-subitem"><a href="/blogs/pages/afb0d0/" class="nav-link">第17章_触发器</a></li><li class="dropdown-subitem"><a href="/blogs/pages/15bba8/" class="nav-link">第18章_MySQL8其它新特性</a></li></ul></li><li class="dropdown-item"><h4>康师傅MySQL高级篇</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/80d360/" class="nav-link">第01章 Linux下MySQL的安装与使用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f532a4/" class="nav-link">第02章 MySQL的数据目录</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a5fa3c/" class="nav-link">第03章 用户与权限管理</a></li><li class="dropdown-subitem"><a href="/blogs/pages/b462b5/" class="nav-link">第04章_逻辑架构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a5b6cd/" class="nav-link">第05章_存储引擎</a></li><li class="dropdown-subitem"><a href="/blogs/pages/4eb165/" class="nav-link">第06章_索引的数据结构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/85a02c/" class="nav-link">第7章_InnoDB数据存储结构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/badf0e/" class="nav-link">第8章_索引的创建与设计原则</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0e9cf5/" class="nav-link">第09章_性能分析工具的使用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/baf28a/" class="nav-link">第10章_索引优化与查询优化</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a30800/" class="nav-link">第11章_数据库的设计规范</a></li><li class="dropdown-subitem"><a href="/blogs/pages/453178/" class="nav-link">第12章_数据库其它调优策略</a></li><li class="dropdown-subitem"><a href="/blogs/pages/2f2499/" class="nav-link">第13章_事务基础知识</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e14c2c/" class="nav-link">第14章_MySQL事务日志</a></li><li class="dropdown-subitem"><a href="/blogs/pages/52fd96/" class="nav-link">第15章_锁</a></li><li class="dropdown-subitem"><a href="/blogs/pages/dc28af/" class="nav-link">第16章_多版本并发控制</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0aeb1a/" class="nav-link">第17章_其他数据库日志</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e50c30/" class="nav-link">第18章_主从复制</a></li><li class="dropdown-subitem"><a href="/blogs/pages/92db10/" class="nav-link">第19章_数据库备份与恢复</a></li></ul></li><li class="dropdown-item"><h4>MySQL进阶知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/ad9574/" class="nav-link">MySQL里的那些日志们</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><!----> <span class="title" style="display:;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/b40868/" class="nav-link"> SSM整合完整流程</a></li><li class="dropdown-item"><h4>MyBatis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/b40868/" class="nav-link">框架</a></li></ul></li><li class="dropdown-item"><h4>Spring</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/e6482d/" class="nav-link">Spring5学习笔记——工厂</a></li><li class="dropdown-subitem"><a href="/blogs/pages/99543d/" class="nav-link">Spring5学习笔记——AOP</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e630fa/" class="nav-link">Spring5学习笔记——持久层整合</a></li><li class="dropdown-subitem"><a href="/blogs/pages/667215/" class="nav-link">Spring5学习笔记——MVC框架整合</a></li><li class="dropdown-subitem"><a href="/blogs/pages/398673/" class="nav-link">Spring5学习笔记——注解编程</a></li></ul></li><li class="dropdown-item"><h4>SpringMVC</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/b40868/" class="nav-link">框架</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><!----> <span class="title" style="display:;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/52d5c3/" class="nav-link">中间件</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><!----> <span class="title" style="display:;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>初始微服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/8c6be2/" class="nav-link">初步了解SpringCloud微服务架构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/6fc14f/" class="nav-link">认识SpringCloud核心组件</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0f8ce6/" class="nav-link">Ribbon和 Nacos服务注册中心</a></li><li class="dropdown-subitem"><a href="/blogs/pages/59a269/" class="nav-link">微服务远程调用openFeign整合</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><!----> <span class="title" style="display:;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/a2a23c/" class="nav-link">程序员必知必会之计算机系统概论</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><!----> <span class="title" style="display:;">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/5316bc/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Linux命令笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><!----> <span class="title" style="display:;">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/964e0e/" class="nav-link">面试题</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/blogs/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="程序日常" class="dropdown-title"><!----> <span class="title" style="display:;">程序日常</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>日常配置</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/0ec974/" class="nav-link">系统重装日记</a></li><li class="dropdown-subitem"><a href="/blogs/pages/63554c/" class="nav-link">IDEA日常配置和操作小结</a></li><li class="dropdown-subitem"><a href="/blogs/pages/97b3a1/" class="nav-link">在IDEA中配置Git的Push键</a></li><li class="dropdown-subitem"><a href="/blogs/pages/8cab39/" class="nav-link">Git的安装以及SSH配置</a></li><li class="dropdown-subitem"><a href="/blogs/pages/5e65f3/" class="nav-link">win11下的Maven安装配置教程</a></li><li class="dropdown-subitem"><a href="/blogs/pages/bc4cea/" class="nav-link">基于jmeter完成压测</a></li><li class="dropdown-subitem"><a href="/blogs/pages/513ac4/" class="nav-link">Typora+PicGo+阿里云OSS搭建博客图床</a></li><li class="dropdown-subitem"><a href="/blogs/pages/79620e/" class="nav-link">Git图文使用教程详解(一)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/7e3ca6/" class="nav-link">Git图文使用教程详解(二)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/c6a5fd/" class="nav-link">Git图文使用教程详解(三)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/9f9143/" class="nav-link">带你认识Hutool工具包</a></li></ul></li><li class="dropdown-item"><h4>Bug修复</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/c1d525/" class="nav-link">Java连接SqlServer错误</a></li></ul></li><li class="dropdown-item"><h4>其他学习</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/58d18b/" class="nav-link">计算机相关常见英语单词,带读音!</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a0bf4c/" class="nav-link">常用emoji表情包</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><!----> <span class="title" style="display:;">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/882008/" class="nav-link">Java开发环境的搭建</a></li><li class="dropdown-item"><!----> <a href="/blogs/pages/7263a2/" class="nav-link">Java基础语法</a></li><li class="dropdown-item"><h4>Java集合</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/882008/" class="nav-link">初始Java基础知识</a></li></ul></li><li class="dropdown-item"><h4>Java知识点</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/868901/" class="nav-link">Thymeleaf一篇就够了</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java进阶" class="dropdown-title"><!----> <span class="title" style="display:;">Java进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/e32cf5/" class="nav-link">泛型就这么简单</a></li><li class="dropdown-item"><h4>流</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/918085/" class="nav-link">初步认识IO流</a></li></ul></li><li class="dropdown-item"><h4>JVM</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/8b1290/" class="nav-link">Java内存区域介绍以及JDK1.8内存变化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>MySQL基础知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/6ca3af/" class="nav-link">数据库原理及应用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/460b04/" class="nav-link">MySQL 8.0 绿色版安装</a></li></ul></li><li class="dropdown-item"><h4>康师傅MySQL基础篇</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/37fc57/" class="nav-link">第01章_数据库概述</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f3f3ab/" class="nav-link">第02章_MySQL环境搭建</a></li><li class="dropdown-subitem"><a href="/blogs/pages/1e92f0/" class="nav-link">第03章_基本的SELECT语句</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0cd93d/" class="nav-link">第04章_运算符</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f60350/" class="nav-link">第05章_排序与分页</a></li><li class="dropdown-subitem"><a href="/blogs/pages/79f1c4/" class="nav-link">第06章_多表查询</a></li><li class="dropdown-subitem"><a href="/blogs/pages/9757a1/" class="nav-link">第07章_单行函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e8846a/" class="nav-link">第08章_聚合函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0ececa/" class="nav-link">第09章_子查询</a></li><li class="dropdown-subitem"><a href="/blogs/pages/667605/" class="nav-link">第10章_创建和管理表</a></li><li class="dropdown-subitem"><a href="/blogs/pages/07f3df/" class="nav-link">第11章_数据处理之增删改</a></li><li class="dropdown-subitem"><a href="/blogs/pages/b3a365/" class="nav-link">第12章_MySQL数据类型精讲</a></li><li class="dropdown-subitem"><a href="/blogs/pages/6bfb13/" class="nav-link">第13章_约束</a></li><li class="dropdown-subitem"><a href="/blogs/pages/745f2d/" class="nav-link">第14章_视图</a></li><li class="dropdown-subitem"><a href="/blogs/pages/8c180e/" class="nav-link">第15章_存储过程与函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/566d1d/" class="nav-link">第16章_变量、流程控制与游标</a></li><li class="dropdown-subitem"><a href="/blogs/pages/afb0d0/" class="nav-link">第17章_触发器</a></li><li class="dropdown-subitem"><a href="/blogs/pages/15bba8/" class="nav-link">第18章_MySQL8其它新特性</a></li></ul></li><li class="dropdown-item"><h4>康师傅MySQL高级篇</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/80d360/" class="nav-link">第01章 Linux下MySQL的安装与使用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f532a4/" class="nav-link">第02章 MySQL的数据目录</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a5fa3c/" class="nav-link">第03章 用户与权限管理</a></li><li class="dropdown-subitem"><a href="/blogs/pages/b462b5/" class="nav-link">第04章_逻辑架构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a5b6cd/" class="nav-link">第05章_存储引擎</a></li><li class="dropdown-subitem"><a href="/blogs/pages/4eb165/" class="nav-link">第06章_索引的数据结构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/85a02c/" class="nav-link">第7章_InnoDB数据存储结构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/badf0e/" class="nav-link">第8章_索引的创建与设计原则</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0e9cf5/" class="nav-link">第09章_性能分析工具的使用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/baf28a/" class="nav-link">第10章_索引优化与查询优化</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a30800/" class="nav-link">第11章_数据库的设计规范</a></li><li class="dropdown-subitem"><a href="/blogs/pages/453178/" class="nav-link">第12章_数据库其它调优策略</a></li><li class="dropdown-subitem"><a href="/blogs/pages/2f2499/" class="nav-link">第13章_事务基础知识</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e14c2c/" class="nav-link">第14章_MySQL事务日志</a></li><li class="dropdown-subitem"><a href="/blogs/pages/52fd96/" class="nav-link">第15章_锁</a></li><li class="dropdown-subitem"><a href="/blogs/pages/dc28af/" class="nav-link">第16章_多版本并发控制</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0aeb1a/" class="nav-link">第17章_其他数据库日志</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e50c30/" class="nav-link">第18章_主从复制</a></li><li class="dropdown-subitem"><a href="/blogs/pages/92db10/" class="nav-link">第19章_数据库备份与恢复</a></li></ul></li><li class="dropdown-item"><h4>MySQL进阶知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/ad9574/" class="nav-link">MySQL里的那些日志们</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><!----> <span class="title" style="display:;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/b40868/" class="nav-link"> SSM整合完整流程</a></li><li class="dropdown-item"><h4>MyBatis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/b40868/" class="nav-link">框架</a></li></ul></li><li class="dropdown-item"><h4>Spring</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/e6482d/" class="nav-link">Spring5学习笔记——工厂</a></li><li class="dropdown-subitem"><a href="/blogs/pages/99543d/" class="nav-link">Spring5学习笔记——AOP</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e630fa/" class="nav-link">Spring5学习笔记——持久层整合</a></li><li class="dropdown-subitem"><a href="/blogs/pages/667215/" class="nav-link">Spring5学习笔记——MVC框架整合</a></li><li class="dropdown-subitem"><a href="/blogs/pages/398673/" class="nav-link">Spring5学习笔记——注解编程</a></li></ul></li><li class="dropdown-item"><h4>SpringMVC</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/b40868/" class="nav-link">框架</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><!----> <span class="title" style="display:;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/52d5c3/" class="nav-link">中间件</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><!----> <span class="title" style="display:;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>初始微服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/8c6be2/" class="nav-link">初步了解SpringCloud微服务架构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/6fc14f/" class="nav-link">认识SpringCloud核心组件</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0f8ce6/" class="nav-link">Ribbon和 Nacos服务注册中心</a></li><li class="dropdown-subitem"><a href="/blogs/pages/59a269/" class="nav-link">微服务远程调用openFeign整合</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><!----> <span class="title" style="display:;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/a2a23c/" class="nav-link">程序员必知必会之计算机系统概论</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><!----> <span class="title" style="display:;">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/5316bc/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Linux命令笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><!----> <span class="title" style="display:;">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/964e0e/" class="nav-link">面试题</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div class="sidebar-slot sidebar-slot-top">
  <a href="http://apifox.cn/a103xugaoyi" target="_blank">
    <img src="https://cdn.staticaly.com/gh/xugaoyi/blog-gitalk-comment@master/img/431669861564_.2470ykdcpbds.jpg" alt="npm" class="no-zoom" style="width: 100%;border-radius: 2px;">
    <p style="text-align: center;margin: 0;color: #999;font-size: 12px;">(进入注册为作者充电)</p>
  </a></div> <ul class="sidebar-links"><li><a href="/blogs/pages/5316bc/" aria-current="page" class="active sidebar-link">Linux命令笔记</a><ul class="sidebar-sub-headers"></ul></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/blogs/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>Linux</span></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/gaoziman" target="_blank" title="作者" class="beLink" data-v-06225672>Cisyam</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-07-09</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Linux命令笔记<!----></h1> <div class="page-slot page-slot-top">
    <div class="wwads-cn wwads-horizontal page-wwads" data-id="136"></div>
    <style>
      .page-wwads{
        width:100%!important;
        min-height: 0;
        margin: 0;
      }
      .page-wwads .wwads-img img{
        width:80px!important;
      }
      .page-wwads .wwads-poweredby{
        width: 40px;
        position: absolute;
        right: 25px;
        bottom: 3px;
      }
      .wwads-content .wwads-text, .page-wwads .wwads-text{
        height: 100%;
        padding-top: 5px;
        display: block;
      }
  </style>
  </div> <div class="theme-vdoing-content content__default"><h4 id="linux显示行号设置"><a href="#linux显示行号设置" class="header-anchor">#</a> Linux显示行号设置</h4> <p>第一步，打开<a href="https://so.csdn.net/so/search?q=vim&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">vim<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">vi</span> ~/.vimrc
</code></pre></div><p>第二步，在该文件中加入一行，命令如下：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">set</span> nu                       <span class="token comment"># 显示行号</span>
<span class="token builtin class-name">set</span> nonu                     <span class="token comment"># 不显示行号    </span>
</code></pre></div><h4 id="命令终端字段含义介绍"><a href="#命令终端字段含义介绍" class="header-anchor">#</a> 命令终端字段含义介绍</h4> <ul><li><p>[root@localhost ~]#</p></li> <li><p>解释：</p> <ul><li>root：当前登录系统用户名(root超级管理员)</li> <li>localhost ：当前主机名</li> <li>~：当前用户所在目录（~ 为家目录） ，root超级管理员家目录：/root</li> <li>#： 当前用户身份是超级管理员</li></ul></li> <li><p>[student@localhost ~]$</p> <ul><li>$：当前用户身份为普通用户，普通用户的家目录：/home/用户名同名</li></ul></li></ul> <h4 id="linux系统基本概念"><a href="#linux系统基本概念" class="header-anchor">#</a> Linux系统基本概念</h4> <ul><li>多用户的系统：允许同时有很多个用户登录系统，使用系统里的资源</li> <li>多任务的系统：允许同时执行多个任务</li> <li>严格区分大小写：命令，选项，参数，文件名，目录名都严格区分大小写</li> <li>一切皆文件：硬件设备（内存、CPU、网卡、显示器、硬盘等等）都是以文件的形式存在的</li> <li>不管是文件还是目录都是以倒挂的树形结构，存在于系统的“/”根目录下，根目录是Linux系统的起点</li> <li>对于Linux系统而言，目录/文件没有扩展名一说，扩展名如：.sh（脚本文件)   .conf（配置文件） .log（日志文件）   .rpm（软件包）.tar（压缩包）是易于用户方便识别</li> <li>没有提示就是最好的提示（成功了）</li> <li>Linux系统没有回收站</li></ul> <h4 id="命令行编辑技巧"><a href="#命令行编辑技巧" class="header-anchor">#</a> 命令行编辑技巧</h4> <p>键盘上下键调出历史命令</p> <p>Ctrl + c：废弃当前命令行中的命令，取消当前执行的命令，例如ping</p> <p>Ctrl + l,clear：清屏</p> <p>tab建自动补齐：可补齐命令、参数、文件路径、软件名</p> <p>esc + . ：将上一条命令参数变成当前命令的执行对象</p> <p>Ctrl + a：将当前光标移动至行首</p> <p>Ctrl + e：将当前光标移动至行尾</p> <p>Ctrl + u 清空至行首</p> <p>Ctrl + w 删除一个单词</p> <p>exit，logout：退出系统</p> <h4 id="命令行一般命令格式"><a href="#命令行一般命令格式" class="header-anchor">#</a> 命令行一般命令格式</h4> <ul><li>命令字 [-选项...] [参数...]
<ul><li>命令字：命令本身（功能）</li> <li>选项：调整命令功能的
<ul><li>短选项：-l  -a  -d  -h（单个字符），短选项可以合并使用：-lad   -lh</li> <li>长选项：--help（单词），长选项通常是不能合并使用的</li></ul></li> <li>参数：命令的执行对象，文件/目录/程序等</li> <li>[]：可选的</li> <li>...：可以同时有多个选项或参数</li></ul></li></ul> <h4 id="linux系统辨别目录与文件的方法"><a href="#linux系统辨别目录与文件的方法" class="header-anchor">#</a> Linux系统辨别目录与文件的方法</h4> <p>蓝色表示目录（windows系统里的文件夹）</p> <p>白色表示文件</p> <p>浅蓝色表示链接文件（类似于windows系统的快捷方式）</p> <p>绿色表示可执行文件（如脚本，命令程序文件）</p> <p>红色表示压缩文件</p> <p>黄色表示设备文件（硬盘、键盘、鼠标、网卡、CPU硬件设备都是以文件的形式存在的）</p> <p>红色闪动文件——&gt;表示链接文件不可用</p> <h4 id="ls-查看目录-文件命令"><a href="#ls-查看目录-文件命令" class="header-anchor">#</a> ls 查看目录/文件命令</h4> <ul><li><p>ls命令（英文全拼：list）：用于查看目录下内容及目录和文件详细属性信息</p></li> <li><p>命令格式：ls [-选项...] [参数...]</p></li> <li><p>常用选项：</p> <ul><li>-a 显示目录下所有内容，包含隐藏的内容</li> <li>-l 以长格式显示目录下的内容及详细属性</li> <li>-h 人性化显示目录下内容大小（kB、MB、GB）</li> <li>-d 仅显示目录本身而不显示目录下的内容</li> <li>-i 查看inode号（系统任何的文件或目录都有一个唯一的编号）</li> <li>-R：递归查看目录下所有内容（从头到尾）</li></ul></li> <li><p>注意（附加）：递归是指将所有的目录从头到尾全部呈现出来。</p></li></ul> <h4 id="linux-系统文件类型"><a href="#linux-系统文件类型" class="header-anchor">#</a> Linux 系统文件类型</h4> <p>- 文件：</p> <p>d 目录：</p> <p>l 链接文件</p> <p>b 跨设备文件</p> <p>c 字符设备文件</p> <p>p 管道设备文件</p> <p>s 套接字</p> <h4 id="linux-系统下的归属关系"><a href="#linux-系统下的归属关系" class="header-anchor">#</a> Linux 系统下的归属关系</h4> <ul><li><p>在Linux系统下，文件给用户分成了三类</p> <ul><li><p>所有者：文件或目录的拥有者，拥有者的权限通常是最大的</p></li> <li><p>所属组：文件或目录属于哪一个组，所属组的权限略微比所有者小</p></li> <li><p>其他人：既不是文件或目录的所有者，也不属于文件或目录组内的成员，其他人的权限通常最小的权限</p></li></ul></li> <li><p>ls命令示例：</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#显示当前所在目录下的所有内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls		</span>

<span class="token comment">#查看根目录下所有内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls   /</span>
bin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var

<span class="token comment">#查看/etc目录下所有内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /etc</span>

<span class="token comment">#查看/bin目录下所有内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /bin</span>

<span class="token comment">#查看/dev目录下所有内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /dev</span>

<span class="token comment">#查看目录下所有目录和文件，包括隐藏的内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -a</span>

<span class="token comment">#以长格式显示目录下所有内容，包括详细的属性信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -l</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">0</span> <span class="token number">10</span>月 <span class="token number">24</span> <span class="token number">15</span>:16 hello

<span class="token comment">#解释</span>
-：文件类型
<span class="token number">1</span>：代表文件的引用次数
root：文件的所有者
root：文件的所属组
<span class="token number">0</span>：文件的大小，默认以字节为单位显示大小
<span class="token number">10</span>月 <span class="token number">24</span> <span class="token number">15</span>:16：文件最近一次的修改时间
hello：文件名

<span class="token comment">#以长格式显示目录所有内容，以人性化的方式显示详细的属性信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -l -h</span>

<span class="token comment">#短选项合并使用</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -lh</span>

<span class="token comment">#以长格式显示目录所有内容，以人性化的方式显示详细的属性信息，包括隐藏的内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -lha</span>


<span class="token comment">#以长格式显示根目录下所有内容，包括详细的属性信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -l /</span>
lrwxrwxrwx.   <span class="token number">1</span> root root    <span class="token number">7</span> <span class="token number">3</span>月  <span class="token number">13</span> <span class="token number">17</span>:15 bin -<span class="token operator">&gt;</span> usr/bin

<span class="token comment">#创建hello.txt文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch hello.txt</span>

<span class="token comment">#查看文件的元数据信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># stat hello.txt</span>
  文件：<span class="token string">&quot;hello.txt&quot;</span>
  大小：0         	块：0          IO 块：4096   普通空文件
设备：fd00h/64768d	Inode：33575020    硬链接：1
权限：<span class="token punctuation">(</span>0644/-rw-r--r--<span class="token punctuation">)</span>  Uid：<span class="token punctuation">(</span>    <span class="token number">0</span>/    root<span class="token punctuation">)</span>   Gid：<span class="token punctuation">(</span>    <span class="token number">0</span>/    root<span class="token punctuation">)</span>
环境：unconfined_u:object_r:admin_home_t:s0
最近访问：2021-03-14 <span class="token number">16</span>:38:14.349861770 +0800
最近更改：2021-03-14 <span class="token number">16</span>:38:14.349861770 +0800
最近改动：2021-03-14 <span class="token number">16</span>:38:14.349861770 +0800
创建时间：-

</code></pre></div><h4 id="linux-基本权限的类别"><a href="#linux-基本权限的类别" class="header-anchor">#</a> Linux 基本权限的类别</h4> <ul><li><p>r 读取  w 写入  x 执行  - 没有权限</p></li> <li><p>权限顺序：rwx  rwx  rwx</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -l</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">1831</span> <span class="token number">3</span>月  <span class="token number">13</span> <span class="token number">17</span>:45 initial-setup-ks.cfg
<span class="token comment">#解释</span>
-：文件类型
rw- r-- r--：所有者u、所属组g、其他人o的权限
u   g   o

r 读取权限，w写入权限，x执行权限，-没有任何权限

<span class="token number">1</span>：代表文件的引用次数，只针对与做了硬连接的文件才有效
root：文件的所有者
root：文件的所属组
<span class="token number">1831</span>：文件的大小，默认以字节为单位显示大小
<span class="token number">3</span>月  <span class="token number">13</span> <span class="token number">17</span>:45：文件最近一次的修改时间
initial-setup-ks.cfg：文件名

<span class="token comment">#查看/root目录本身详细属性信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -ld /root</span>
dr-xr-x---. <span class="token number">14</span> root root <span class="token number">4096</span> <span class="token number">3</span>月  <span class="token number">14</span> <span class="token number">16</span>:38 /root

<span class="token comment">#查看当前目录下所有内容的inode号</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -i</span>
<span class="token number">33574979</span> anaconda-ks.cfg  <span class="token number">33574984</span> initial-setup-ks.cfg  <span class="token number">33575035</span> 模板  <span class="token number">33575036</span> 图片  <span class="token number">17470701</span> 下载            <span class="token number">17470702</span> 音乐
<span class="token number">33575020</span> hello.txt        <span class="token number">51909391</span> 公共                  <span class="token number">51909392</span> 视频   <span class="token number">3204374</span> 文档  <span class="token number">33575017</span> 新建文件夹.zip   <span class="token number">3204373</span> 桌面

<span class="token comment">#查看hello.txt文件的inode号</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -i hello.txt</span>
<span class="token number">33575020</span> hello.txt

<span class="token comment">#查看/etc/目录本身的inode号</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -id /etc</span>
<span class="token number">16777281</span> /etc
</code></pre></div><h4 id="课后练习"><a href="#课后练习" class="header-anchor">#</a> 课后练习</h4> <p>1.命令行以$作为结尾代表什么含义？</p> <p>普通用户</p> <p>2.请写出Linux系统一般的命令格式？</p> <p>命令字  [-选项...] [参数...]</p> <p>3.在Linux系统下，如何辨别目录与文件及其他的文件？</p> <p>白色：文件</p> <p>蓝色：<span style="color:blue;">目录</span></p> <p>浅蓝色：<span style="color:blue;">链接文件</span></p> <p>绿色：<span style="color:green;">可执行文件</span></p> <p>红色：<span style="color:red;">压缩文件</span></p> <p>红色带闪动的文件：<span style="color:red;">链接文件不可用</span></p> <p>黄色：<span style="color:yellow;">设备文件（硬盘，网卡，CPU，鼠标，键盘）</span></p> <p>4.如何查看一个文件的详细属性？</p> <p>ls -l 文件名</p> <p>5.如何查看一个目录本身的详细属性？</p> <p>ls -dl 目录名字</p> <p>6.查看文件详细属性，并以KB、MB、GB的方式显示文件的大小？</p> <p>ls -lh 文件名</p> <p>7.如何查看一个文件的inode号？</p> <p>ls -i 文件名</p> <p>8.请写出Linux下文件和目录的三个归属关系？</p> <p>u 所有者</p> <p>g 所属组</p> <p>o 其他人</p> <p>9.请写出Linux下基本权限的表示方式？</p> <p>r：读取，w写入，x执行</p> <p>10.命令行以#作为结尾代表什么含义？</p> <p>超级管理员</p> <h4 id="mkdir-创建目录命令"><a href="#mkdir-创建目录命令" class="header-anchor">#</a> mkdir 创建目录命令</h4> <ul><li><p>mkdir（英文全拼：make directory）用于创建新目录</p></li> <li><p>命令格式：mkdir [-选项] 目录名</p></li> <li><p>常用选项：</p> <ul><li>-p 递归创建多个目录</li></ul></li> <li><p>注意事项：</p> <ul><li>目录还是文件的名字，除了以“/”以外的任意名称，“/”根目录，路径分隔符</li> <li>文件或目录的名字长度不能超过255个字符</li></ul></li> <li><p>mkdir命令示例</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#在当前所在目录创建test目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir test</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls</span>

<span class="token comment">#在当前所在目录同时创建多个目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir test1 test2 test3</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls</span>

<span class="token comment">#指定在/tmp目录下创建abc目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /tmp/abc</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /tmp</span>
abc

<span class="token comment">#在指定目录下同时创建多个目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /tmp/abc1 /tmp/abc2 /tmp/abc3</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /tmp</span>

<span class="token comment">#在/opt目录下创建student，在当前目录创建student1..3</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /opt/student student1  student2 student3</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
rh  student

<span class="token comment">#mkdir默认无法在一个不存在的目录下创建目录，需要通过-p选项</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /opt/xx/oo</span>
mkdir: 无法创建目录<span class="token string">&quot;/opt/xx/oo&quot;</span><span class="token builtin class-name">:</span> 没有那个文件或目录

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /opt/a/b/c/d</span>
mkdir: 无法创建目录<span class="token string">&quot;/opt/a/b/c/d&quot;</span><span class="token builtin class-name">:</span> 没有那个文件或目录

<span class="token comment">#在/opt目录下递归创建目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir -p /opt/xx/oo</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
rh  student  xx

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir -p /opt/a/b/c/d</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
a  rh  student  xx

<span class="token comment">#ls -R选项可以递归目录下所有内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -R /opt/a</span>
/opt/a:
b

/opt/a/b:
c

/opt/a/b/c:
d
</code></pre></div><h4 id="cd-切换工作目录命令"><a href="#cd-切换工作目录命令" class="header-anchor">#</a> cd 切换工作目录命令</h4> <ul><li>cd（英文全拼：change directory）切换目录</li></ul> <p>命令格式：cd [-选项] [目录名]</p> <ul><li>提示：目录名称可以是绝对路径或相对路径，如果不指定目录名称，则切换到当前用户的家目录~</li></ul> <h4 id="绝对路径与相对路径"><a href="#绝对路径与相对路径" class="header-anchor">#</a> 绝对路径与相对路径</h4> <ul><li><p>绝对路径：以/（根）为起点，到达你想去的目标目录称为绝对路径</p></li> <li><p>相对路径：以当前路径为起点，到达你想去的目标目录</p></li> <li><p>常用快捷操作：</p> <ul><li>~ 表示为家目录</li> <li>. 表示为当前目录</li> <li>.. 表示上一级目录</li></ul></li> <li><p>-可在两路径之间来回切换</p></li></ul> <h4 id="pwd-打印当前所在目录"><a href="#pwd-打印当前所在目录" class="header-anchor">#</a> pwd 打印当前所在目录</h4> <ul><li><p>pwd（英文全拼：print work directory）打印当前所在的工作目录，执行pwd命令后，可显示当前所在的工作目录的绝对路径名称</p></li> <li><p>命令格式：pwd [-选项]</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cd /opt/a/b/c/d</span>

<span class="token comment">#打印当前所在目录绝对路径</span>
<span class="token punctuation">[</span>root@localhost d<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/opt/a/b/c/d

<span class="token comment">#切换到用户家目录</span>
<span class="token punctuation">[</span>root@localhost d<span class="token punctuation">]</span><span class="token comment"># cd ~</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cd /opt/a/b/c/d</span>
<span class="token punctuation">[</span>root@localhost d<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/opt/a/b/c/d
<span class="token punctuation">[</span>root@localhost d<span class="token punctuation">]</span><span class="token comment"># cd</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cd /bin</span>
<span class="token punctuation">[</span>root@localhost bin<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/bin

<span class="token punctuation">[</span>root@localhost bin<span class="token punctuation">]</span><span class="token comment"># cd /boot</span>
<span class="token punctuation">[</span>root@localhost boot<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/boot
<span class="token punctuation">[</span>root@localhost boot<span class="token punctuation">]</span><span class="token comment"># ls</span>

<span class="token punctuation">[</span>root@localhost boot<span class="token punctuation">]</span><span class="token comment"># cd /dev</span>
<span class="token punctuation">[</span>root@localhost dev<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/dev
<span class="token punctuation">[</span>root@localhost dev<span class="token punctuation">]</span><span class="token comment"># ls</span>

<span class="token punctuation">[</span>root@localhost dev<span class="token punctuation">]</span><span class="token comment"># cd /etc</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/etc
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># ls</span>

<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># ls /</span>
bin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var

<span class="token comment">#“.”表示当前所在目录，对于cd命令而言作用不大</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># cd .</span>

<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># cd /opt/a/b/c/d</span>
<span class="token punctuation">[</span>root@localhost d<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/opt/a/b/c/d

<span class="token comment">#“..”切换到当前目录的上一级目录</span>
<span class="token punctuation">[</span>root@localhost d<span class="token punctuation">]</span><span class="token comment"># cd ..</span>
<span class="token punctuation">[</span>root@localhost c<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/opt/a/b/c

<span class="token punctuation">[</span>root@localhost c<span class="token punctuation">]</span><span class="token comment"># cd ..</span>
<span class="token punctuation">[</span>root@localhost b<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/opt/a/b

<span class="token punctuation">[</span>root@localhost b<span class="token punctuation">]</span><span class="token comment"># cd ..</span>
<span class="token punctuation">[</span>root@localhost a<span class="token punctuation">]</span><span class="token comment"># cd ..</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/opt

<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># cd ..</span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># cd ..</span>
<span class="token punctuation">[</span>root@localhost /<span class="token punctuation">]</span><span class="token comment"># cd</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cd /opt/a/b/c/d</span>
<span class="token punctuation">[</span>root@localhost d<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/opt/a/b/c/d

<span class="token comment">#&quot;-&quot;可在两个路径之间来回切换</span>
<span class="token punctuation">[</span>root@localhost d<span class="token punctuation">]</span><span class="token comment"># cd /etc/yum</span>
<span class="token punctuation">[</span>root@localhost yum<span class="token punctuation">]</span><span class="token comment"># cd -</span>
/opt/a/b/c/d

<span class="token punctuation">[</span>root@localhost d<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/opt/a/b/c/d

<span class="token punctuation">[</span>root@localhost d<span class="token punctuation">]</span><span class="token comment"># cd -</span>
/etc/ym

<span class="token punctuation">[</span>root@localhost yum<span class="token punctuation">]</span><span class="token comment"># cd -</span>
/opt/a/b/c/d

<span class="token punctuation">[</span>root@localhost d<span class="token punctuation">]</span><span class="token comment"># cd -</span>
/etc/yum
</code></pre></div><h4 id="rmdir-删除空目录命令"><a href="#rmdir-删除空目录命令" class="header-anchor">#</a> rmdir 删除空目录命令</h4> <ul><li><p>rmdir（英文全拼：remove directory）删除空目录</p></li> <li><p>命令格式：rmdir [-选项] 目录名</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#rmdir只能删除空目录，如果目录下存在数据无法删除</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rmdir /opt/a</span>
rmdir: 删除 <span class="token string">&quot;/opt/a&quot;</span> 失败: 目录非空
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -R /opt/a</span>
/opt/a:
b

/opt/a/b:
c

/opt/a/b/c:
d

/opt/a/b/c/d:

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rmdir /opt/a/b/c/d</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -R /opt/a</span>
/opt/a:
b

/opt/a/b:
c

/opt/a/b/c:

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rmdir /opt/a/b/c</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -R /opt/a/b</span>
/opt/a/b:

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rmdir /opt/a/b</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -R /opt/a</span>
/opt/a:

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rmdir /opt/a</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
rh  student  xx

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rmdir /opt/</span>
rmdir: 删除 <span class="token string">&quot;/opt/&quot;</span> 失败: 目录非空
</code></pre></div><h4 id="touch-创建文件命令"><a href="#touch-创建文件命令" class="header-anchor">#</a> touch 创建文件命令</h4> <ul><li><p>touch 命令用于创建新的空白文件</p></li> <li><p>命令格式：touch [-选项] 文件名</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#在当前路径创建空文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls</span>

<span class="token comment">#在当前路径同时创建多个文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch t1 t2 t3 t4</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls</span>

<span class="token comment">#在指定路径同时创建多个文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch /opt/test1 /opt/test2 /opt/test3</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
rh  student  test1  test2  test3  xx

<span class="token comment">#如果存在同名目录时，无法创建</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir test</span>
mkdir: 无法创建目录<span class="token string">&quot;test&quot;</span><span class="token builtin class-name">:</span> 文件已存在

<span class="token comment">#如果存在同名文件时，touch命令没有提示，但原有文件不会被覆盖</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch t1</span>

<span class="token comment">#对于目录而言，只有单个目录的时候，“/”可有可无</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt/</span>
rh  student  test1  test2  test3  xx
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
rh  student  test1  test2  test3  xx

<span class="token comment">#对于目录而言，查看目录下的内容时，必须要有“/”</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt/xx</span>
oo

<span class="token comment">#对于文件而言，后边绝对不能有“/”</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt/test1</span>
/opt/test1
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt/test1/</span>
ls: 无法访问/opt/test1/: 不是目录
</code></pre></div><h4 id="cp-复制命令"><a href="#cp-复制命令" class="header-anchor">#</a> cp 复制命令</h4> <ul><li><p>cp（英文全拼：copy file）用于复制文件或目录，cp命令在复制时也可修改目录或文件名字</p></li> <li><p>命令格式：cp [-选项] 源文件或目录 目标目录</p></li> <li><p>常用选项：</p> <ul><li>-p 保留源文件属性不变（如：修改时间、归属关系、权限）</li> <li>-r 复制目录（包含该目录下所有的子目录和文件）</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#复制当前目录文件到/opt目录（相对路径方式复制）</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cp t1 /opt/</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
rh  student  t1  test1  test2  test3  xx

<span class="token comment">#复制文件到/opt目录（绝对路径方式复制）</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cp /root/t2 /opt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
rh  student  t1  t2  test1  test2  test3  xx

<span class="token comment">#同时复制多个文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cp t3 t4 /opt/</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>

<span class="token comment">#创建目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir abc</span>

<span class="token comment">#使用-r对目录执行复制</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cp -r abc /opt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>

<span class="token comment">#同时复制多个目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir abc1 abc2 abc3</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cp -r abc1 abc2 abc3 /opt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>

<span class="token comment">#复制hello文件到/opt并改名为hello.txt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cp hello /opt/hello.txt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>

<span class="token comment">#复制xxxx目录到/opt并改名xxoo</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir xxxx</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cp -r xxxx /opt/xxoo</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>

<span class="token comment">#使用“.”配合cp命令执行复制</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cd /etc/sysconfig/network-scripts/</span>
<span class="token punctuation">[</span>root@localhost network-scripts<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/etc/sysconfig/network-scripts

<span class="token punctuation">[</span>root@localhost network-scripts<span class="token punctuation">]</span><span class="token comment"># cp /root/t1 .</span>
<span class="token punctuation">[</span>root@localhost network-scripts<span class="token punctuation">]</span><span class="token comment"># ls</span>

<span class="token comment">#操持属性不变复制文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cp -p anaconda-ks.cfg /opt</span>
cp：是否覆盖<span class="token string">&quot;/opt/anaconda-ks.cfg&quot;</span>？ y                         
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -l /opt/anaconda-ks.cfg </span>
-rw-------. <span class="token number">1</span> root root <span class="token number">1800</span> <span class="token number">3</span>月  <span class="token number">13</span> <span class="token number">17</span>:34 /opt/anaconda-ks.cfg

<span class="token comment">#对比以上两个文件的详细属性信息（最后一次修改时间）</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -l anaconda-ks.cfg </span>
-rw-------. <span class="token number">1</span> root root <span class="token number">1800</span> <span class="token number">3</span>月  <span class="token number">13</span> <span class="token number">17</span>:34 anaconda-ks.cfg

<span class="token comment">#这两个操作代表什么意思？</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cp -r xxxx /mnt/oooo  #拷贝并改名</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cp -r xxxx /mnt/oooo  #拷贝</span>
</code></pre></div><h4 id="mv-移动命令"><a href="#mv-移动命令" class="header-anchor">#</a> mv 移动命令</h4> <ul><li><p>mv（英文全拼：move file）用于移动文件或目录到其他位置，也可用于修改目录或文件名</p></li> <li><p>命令格式：mv [-选项] 源文件... 目标路径</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#移动当前路径hello文件到/mnt目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mv hello /mnt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /mnt</span>
hello  home  oooo  <span class="token builtin class-name">test</span>

<span class="token comment">#同时移动多个文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mv t1 t2 t3 t4 /mnt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /mnt</span>
hello  home  oooo  student1  t1  t2  t3  t4  <span class="token builtin class-name">test</span>

<span class="token comment">#移动/opt目录下文件到/mnt</span>
root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mv /opt/test1 /opt/test2 /opt/test3 /mnt/</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /mnt</span>
hello  home  oooo  student1  t1  t2  t3  t4  <span class="token builtin class-name">test</span>  test1  test2  test3

<span class="token comment">#移动目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mv student1 /mnt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /mnt</span>
hello  home  oooo  student1  <span class="token builtin class-name">test</span>

<span class="token comment">#移动文件并改名</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mv hello.txt /media/hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /media/</span>
hello

<span class="token comment">#移动目录并改名</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mv test /media/testxx</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /media/</span>
hello  testxx
</code></pre></div><h4 id="cat-查看文件内容命令"><a href="#cat-查看文件内容命令" class="header-anchor">#</a> cat 查看文件内容命令</h4> <ul><li><p>cat （英文全拼：concatenate）命令用于查看文本文件内容</p></li> <li><p>命令格式：cat [选项] 文件名</p></li> <li><p>常用选项</p> <ul><li>-n #查看文件时以行号的形式显示文件内容</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#查看文件内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat anaconda-ks.cfg </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat initial-setup-ks.cfg </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/hosts</span>

<span class="token comment">#查看网卡文件内容，网卡配置文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/sysconfig/network-scripts/ifcfg-ens32 </span>
<span class="token punctuation">..</span>.
<span class="token assign-left variable">NAME</span><span class="token operator">=</span><span class="token string">&quot;ens32&quot;</span>   //网卡名
<span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;16085f4c-f690-4058-b29e-d55c73387026&quot;</span>
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span><span class="token string">&quot;ens32&quot;</span>
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token string">&quot;192.168.0.50&quot;</span>     //网卡IP地址
<span class="token assign-left variable">PREFIX</span><span class="token operator">=</span><span class="token string">&quot;24&quot;</span>			      //子网掩码
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token string">&quot;192.168.0.254&quot;</span>   //网关
<span class="token assign-left variable">DNS1</span><span class="token operator">=</span><span class="token string">&quot;114.114.114.114&quot;</span>    //DNS

<span class="token comment">#查看当前系统用户基本信息文件内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/passwd</span>
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin

<span class="token comment">#查看当前系统主机名配置文件内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/hostname</span>
localhost.localdomain

<span class="token comment">#查看当前系统版本信息文件内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/redhat-release </span>
CentOS Linux release <span class="token number">7.6</span>.1810 <span class="token punctuation">(</span>Core<span class="token punctuation">)</span> 

<span class="token comment">#查看当前系统开机自动挂载配置文件内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/fstab</span>

<span class="token comment">#查看系统组基本信息文件内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/group</span>

<span class="token comment">#使用“-n”以行号形式显示文件内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat -n /etc/passwd</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat -n /etc/hostname</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat -n /etc/fstab</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat -n /etc/group</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat -n /etc/services </span>

</code></pre></div><h4 id="less命令"><a href="#less命令" class="header-anchor">#</a> less命令</h4> <ul><li><p>less工具是对文件的输出进行分页显示的工具，常用于查看内容量较大的文件</p></li> <li><p>命令格式：less [-选项] 文件</p></li> <li><p>常用选项：</p> <ul><li>-N #以行号形式显示文件内容</li></ul></li> <li><p>使用技巧：</p> <ul><li>键盘上下键逐行查看</li> <li>pgdn ：向下翻一页（Fn + 下键）</li> <li>pgup ：向上翻一页（Fn + 上键）</li></ul></li> <li><p>/字符串 ：搜索指定字符串（n从上向下搜索，N从下向上搜索）</p> <ul><li>G：直接跳转到文件最后一行</li> <li>gg：直接跳转到文件行首</li> <li>：1000   #精准的定位到某一行</li> <li>q ：退出</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># less -N /etc/services</span>
</code></pre></div><h4 id="head与tail命令"><a href="#head与tail命令" class="header-anchor">#</a> head与tail命令</h4> <ul><li><p>head命令：用来显示文件开头部分内容，默认显示文件开头10行内容</p></li> <li><p>命令格式：head [选项] 参数</p></li> <li><p>常用选项：</p> <ul><li>-n&lt;行数&gt; 指定显示的行数</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># head /etc/passwd</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># head /etc/fstab</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># head /etc/group</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># head /etc/hostname</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># head /etc/hosts</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># head /etc/sysconfig/network-scripts/ifcfg-ens32 </span>

<span class="token comment">#查看存放DNS配置文件信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># head /etc/resolv.conf </span>

<span class="token comment">#使用-n指定显示文件前多少行内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># head -n 5 /etc/passwd</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># head -n 6 /etc/passwd</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># head -n 15 /etc/passwd</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># head -n 20 /etc/passwd</span>
</code></pre></div><ul><li><p>tail命令：用来显示文件末尾部分内容，默认显示文件末尾10行内容</p></li> <li><p>命令格式：tail [选项] 参数</p></li> <li><p>常用选项：-n&lt;行数&gt; 指定显示的行数  -f 动态显示</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tail /etc/passwd</span>

<span class="token comment">#使用“-n”指定显示文件末尾多少行内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tail -n 5 /etc/passwd</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tail -n 5 /etc/sysconfig/network-scripts/ifcfg-ens32 </span>
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token string">&quot;192.168.0.50&quot;</span>
<span class="token assign-left variable">PREFIX</span><span class="token operator">=</span><span class="token string">&quot;24&quot;</span>
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token string">&quot;192.168.0.254&quot;</span>
<span class="token assign-left variable">DNS1</span><span class="token operator">=</span><span class="token string">&quot;114.114.114.114&quot;</span>
<span class="token assign-left variable">IPV6_PRIVACY</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span>

<span class="token comment">#动态查看文件内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch t1</span>
root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tail -f t1</span>

<span class="token comment">#另开一个终端向文件写入内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo 123 &gt; t1</span>
</code></pre></div><h4 id="rm删除命令"><a href="#rm删除命令" class="header-anchor">#</a> rm删除命令</h4> <ul><li><p>rm（英文全拼：remove）命令用于删除文件或者目录。</p></li> <li><p>命令格式：rm [-选项…] 目录或文件…</p></li> <li><p>常用选项</p> <ul><li>-f 强制删除</li> <li>-r 删除目录</li> <li>“*”特殊字符：系统常用符号，用来代表任意所有字符</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
abc  abc1  abc2  abc3  anaconda-ks.cfg  hello.txt  home  rh  student  t1  t2  t3  t4  xx  xxoo

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /mnt</span>
hello  home  oooo  student1  t1  t2  t3  t4  <span class="token builtin class-name">test</span>  test1  test2  test3

<span class="token comment">#删除指定目录下文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rm /opt/anaconda-ks.cfg </span>
rm：是否删除普通文件 <span class="token string">&quot;/opt/anaconda-ks.cfg&quot;</span>？y  <span class="token comment">#默认需要确认（y|n）</span>

<span class="token comment">#查看文件是否被成功删除</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
abc  abc1  abc2  abc3  hello.txt  home  rh  student  t1  t2  t3  t4  xx  xxoo

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rm /opt/hello.txt </span>
rm：是否删除普通空文件 <span class="token string">&quot;/opt/hello.txt&quot;</span>？y

<span class="token comment">#同时删除目录下指定文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rm /opt/t1 /opt/t2 /opt/t3 /opt/t4</span>
rm：是否删除普通空文件 <span class="token string">&quot;/opt/t1&quot;</span>？y
rm：是否删除普通空文件 <span class="token string">&quot;/opt/t2&quot;</span>？y
rm：是否删除普通空文件 <span class="token string">&quot;/opt/t3&quot;</span>？y
rm：是否删除普通空文件 <span class="token string">&quot;/opt/t4&quot;</span>？y

<span class="token comment">#查看文件是否被成功删除</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
abc  abc1  abc2  abc3  home  rh  student  xx  xxoo

<span class="token comment">#使用“-f”强制删除文件（无需确认，直接删除）</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rm -f /mnt/hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /mnt</span>
home  oooo  student1  t1  t2  t3  t4  <span class="token builtin class-name">test</span>  test1  test2  test3

<span class="token comment">#同时强制删除多个文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rm -f /mnt/t1 /mnt/t2 /mnt/t3 /mnt/t4</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /mnt</span>

<span class="token comment">#删除目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rm  -r /opt/abc</span>
rm：是否删除目录 <span class="token string">&quot;/opt/abc&quot;</span>？y

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
abc1  abc2  abc3  home  rh  student  xx  xxoo

<span class="token comment">#同时删除多个目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rm -r /opt/abc1 /opt/abc2 /opt/abc3</span>
rm：是否删除目录 <span class="token string">&quot;/opt/abc1&quot;</span>？y
rm：是否删除目录 <span class="token string">&quot;/opt/abc2&quot;</span>？y
rm：是否删除目录 <span class="token string">&quot;/opt/abc3&quot;</span>？y

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
home  rh  student  xx  xxoo

<span class="token comment">#同时强制删除多个目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rm -rf /opt/home /opt/student /opt/xx /opt/xxoo</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
rh

<span class="token comment">#创建目录与文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch /opt/t1</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /opt/test</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
rh  t1  <span class="token builtin class-name">test</span>

<span class="token comment">#rm命令在删除目录时，包含改目录及目录下所有数据全部删除</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rm -rf /opt/</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /mnt</span>
home  oooo  student1  <span class="token builtin class-name">test</span>  test1  test2  test3

<span class="token comment">#使用“*”通配任意所有字符，删除/mnt目录下所有数据</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rm -rf /mnt/*</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /mnt</span>
</code></pre></div><h4 id="软连接与硬连接"><a href="#软连接与硬连接" class="header-anchor">#</a> 软连接与硬连接</h4> <ul><li>Linux中的链接文件类似于windows中的快捷方式</li> <li>软连接特点：软连接可以跨分区，可以对目录进行链接，源文件删除后，链接文件不可用</li> <li>软连接命令格式：ln -s 源文件路径  目标路径</li> <li>注意：创建链接时一定要写目录或文件的绝对路径，哪怕是在当前路径下，也要写绝对路径·</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch hello.soft</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls</span>

<span class="token comment">#创建软连接（必须要绝对路径创建）</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ln -s /root/hello.soft /opt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>

<span class="token comment">#查看连接文件详细属性</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -l /opt/hello.soft </span>
lrwxrwxrwx. <span class="token number">1</span> root root <span class="token number">16</span> <span class="token number">3</span>月  <span class="token number">21</span> <span class="token number">14</span>:28 /opt/hello.soft -<span class="token operator">&gt;</span> /root/hello.soft
<span class="token comment">#提示：链接文件的权限最终取决于源文件的权限</span>

<span class="token comment">#普通用户验证</span>
<span class="token punctuation">[</span>lisi@localhost ~<span class="token punctuation">]</span>$ <span class="token function">ls</span> /opt
hello.soft
<span class="token punctuation">[</span>lisi@localhost ~<span class="token punctuation">]</span>$ <span class="token function">ls</span> <span class="token parameter variable">-l</span> /opt/hello.soft 
lrwxrwxrwx. <span class="token number">1</span> root root <span class="token number">16</span> <span class="token number">3</span>月  <span class="token number">21</span> <span class="token number">14</span>:28 /opt/hello.soft -<span class="token operator">&gt;</span> /root/hello.soft
<span class="token punctuation">[</span>lisi@localhost ~<span class="token punctuation">]</span>$ <span class="token function">cat</span> /opt/hello.soft 
cat: /opt/hello.soft: 权限不够
<span class="token comment">#提示：由于源文件存放于/root目录下，而普通用户对/root目录没有任何权限，所以普通用户无法查看</span>

<span class="token comment">#删除源文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rm -f /root/hello.soft </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls</span>

<span class="token comment">#删除源文件后，软链接文件不可用</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -l /opt/hello.soft </span>
lrwxrwxrwx. <span class="token number">1</span> root root <span class="token number">16</span> <span class="token number">3</span>月  <span class="token number">21</span> <span class="token number">14</span>:28 /opt/hello.soft -<span class="token operator">&gt;</span> /root/hello.soft

<span class="token comment">#创建文件并创建软连接</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch hello.soft</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ln -s /root/hello.soft /opt</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -l /opt/hello.soft </span>
lrwxrwxrwx. <span class="token number">1</span> root root <span class="token number">16</span> <span class="token number">3</span>月  <span class="token number">21</span> <span class="token number">14</span>:39 /opt/hello.soft -<span class="token operator">&gt;</span> /root/hello.soft

<span class="token comment">#删除链接文件后，源文件仍然可用</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rm -f /opt/hello.soft </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat hello.soft </span>

<span class="token comment">#对目录创建软连接</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ln -s /root/test1 /opt/</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -ld /opt/test1</span>
lrwxrwxrwx. <span class="token number">1</span> root root <span class="token number">11</span> <span class="token number">3</span>月  <span class="token number">21</span> <span class="token number">14</span>:44 /opt/test1 -<span class="token operator">&gt;</span> /root/test1

<span class="token number">3</span>创建链接时一定要写目录或文件的绝对路径，哪怕是在当前路径下，也要写绝对路径
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ln -s hello.soft /opt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
hello.soft  test1
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -l /opt/hello.soft </span>
lrwxrwxrwx. <span class="token number">1</span> root root <span class="token number">10</span> <span class="token number">3</span>月  <span class="token number">21</span> <span class="token number">14</span>:47 /opt/hello.soft -<span class="token operator">&gt;</span> hello.soft
</code></pre></div><ul><li><p>硬链接特点：硬连接不可以跨分区，不可以对目录进行链接，源文件删除后，链接文件仍然可用</p></li> <li><p>硬连接命令格式：ln  源文件路径  目标路径</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#创建文件，并创建硬连接</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch hello.hard</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ln /root/hello.hard /opt/</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /opt</span>
hello.hard  hello.soft  test1

<span class="token comment">#向硬连接的源文件写入内容</span>
root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo 123 &gt; /root/hello.hard </span>

<span class="token comment">#查看源文件内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /root/hello.hard </span>
<span class="token number">123</span>

<span class="token comment">#查看链接文件内容，以同步更新</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /opt/hello.hard </span>
<span class="token number">123</span>

<span class="token comment">#向链接文件写入内容，查看源文件以同步更新</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo xx &gt;&gt; /opt/hello.hard </span>

<span class="token comment">#擦看源文件，以同步更新</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /root/hello.hard </span>
<span class="token number">123</span>
xx

<span class="token comment">#硬连接文件的特点可以保持文件属性不发生改变</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -l /root/hello.hard </span>
-rw-r--r--. <span class="token number">2</span> root root <span class="token number">7</span> <span class="token number">3</span>月  <span class="token number">21</span> <span class="token number">14</span>:55 /root/hello.hard
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -l /opt/hello.hard </span>
-rw-r--r--. <span class="token number">2</span> root root <span class="token number">7</span> <span class="token number">3</span>月  <span class="token number">21</span> <span class="token number">14</span>:55 /opt/hello.hard

<span class="token comment">#并且硬连接文件的i节点号相同</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -i /root/hello.hard </span>
<span class="token number">33711090</span> /root/hello.hard
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -i /opt/hello.hard </span>
<span class="token number">33711090</span> /opt/hello.hard

<span class="token comment">#硬连接不允许对目录进行连接</span>
root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ln /root/test1 /opt</span>
ln: <span class="token string">&quot;/root/test1&quot;</span><span class="token builtin class-name">:</span> 不允许将硬链接指向目录

<span class="token comment">#硬连接源文件删除后，链接文件仍然可用</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rm -f /root/hello.hard </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /opt/hello.hard </span>
<span class="token number">123</span>
xx

<span class="token comment">#向硬连接文件写入内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo  abc &gt;&gt; /opt/hello.hard </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /opt/hello.hard </span>
<span class="token number">123</span>
xx
abc

<span class="token comment">#硬连接不允许跨分区</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lsblk</span>
NAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda               <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
├─sda1            <span class="token number">8</span>:1    <span class="token number">0</span>    1G  <span class="token number">0</span> part /boot
└─sda2            <span class="token number">8</span>:2    <span class="token number">0</span>   19G  <span class="token number">0</span> part 
  ├─centos-root <span class="token number">253</span>:0    <span class="token number">0</span>   17G  <span class="token number">0</span> lvm  /
  └─centos-swap <span class="token number">253</span>:1    <span class="token number">0</span>    2G  <span class="token number">0</span> lvm  <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sr0              <span class="token number">11</span>:0    <span class="token number">1</span>  <span class="token number">4</span>.3G  <span class="token number">0</span> rom  
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ln /root/hello.soft /boot</span>
ln: 无法创建硬链接<span class="token string">&quot;/boot/hello.soft&quot;</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&quot;/root/hello.soft&quot;</span><span class="token builtin class-name">:</span> 无效的跨设备连接
</code></pre></div><h4 id="linux命令的分类"><a href="#linux命令的分类" class="header-anchor">#</a> Linux命令的分类</h4> <ul><li><p>内部命令：bash程序自带的基本管理命令</p></li> <li><p>外部命令：有独立的外部可执行程序文件命令</p></li> <li><p>type 用于区别内部命令与外部命令</p></li> <li><p>which 用于查找可以执行程序文件位置</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># type ls</span>

<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># type cat</span>

<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># type hash</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo $PATH</span>
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># hash</span>
命中	命令
   <span class="token number">1</span>	/usr/bin/cat
   <span class="token number">1</span>	/usr/bin/ls


<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># hash -r</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># </span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># hash</span>
hash: 哈希表为空

<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># ls</span>
hello.hard  hello.soft  t1  test1  test.txt
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># hash</span>
命中	命令
   <span class="token number">1</span>	/usr/sbin/ls
</code></pre></div><ul><li>总结：
<ul><li>shell程序是用户和系统之间的接口，用于解释用户的命令</li> <li>查找命令对应的程序文件所在位置：which 命令</li> <li>shell程序大多数存放在/etc/shells文件中</li> <li>系统默认使用的shell为/bin/bash</li> <li>查看当前使用的shell：echo $SHELL</li> <li>区别内部命令与外部命令的方式：typt 命令</li> <li>shell程序查找可执行程序文件路径定义在$PATH环境变量中</li> <li>shell查找的外部命令路径结果会记录到缓存的hash表中</li></ul></li></ul> <h4 id="help-命令帮助手册"><a href="#help-命令帮助手册" class="header-anchor">#</a> help 命令帮助手册</h4> <ul><li><p>help命令用于查看shell内部命令的帮助信息，包括使用方法、选项等…</p></li> <li><p>命令格式：help [选项] 命令</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#获取内部命令帮助信息</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># help cd</span>

<span class="token comment">#help无法获取外部命令的帮助信息</span>
root@localhost etc<span class="token punctuation">]</span><span class="token comment"># help ls</span>
bash: help: 没有与 <span class="token variable"><span class="token variable">`</span>ls' 匹配的帮助主题。尝试 <span class="token variable">`</span></span><span class="token builtin class-name">help</span> <span class="token builtin class-name">help</span><span class="token string">' 或者 `man -k ls'</span> 或者 <span class="token variable"><span class="token variable">`</span>info ls'。

<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># type help</span>
<span class="token builtin class-name">help</span> 是 shell 内嵌

<span class="token comment">#获取help命令本身的帮助信息</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># help help</span>

<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># type cat</span>
<span class="token function">cat</span> 是 /usr/bin/cat

<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># help cat</span>
bash: help: 没有与 <span class="token variable">`</span></span><span class="token function">cat</span><span class="token string">' 匹配的帮助主题。尝试 `help help'</span> 或者 <span class="token variable"><span class="token variable">`</span><span class="token function">man</span> <span class="token parameter variable">-k</span> cat' 或者 <span class="token variable">`</span></span>info cat'。

<span class="token comment">#查看命令帮助手册（命令自带）</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># cat --help</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># ls --help</span>
</code></pre></div><h4 id="man-获取命令帮助手册"><a href="#man-获取命令帮助手册" class="header-anchor">#</a> man 获取命令帮助手册</h4> <ul><li><p>man 命令用于查看系统命令的帮助信息，包括使用方法、选项、使用例子等…，对比--help ，man 输出的信息更加详细</p></li> <li><p>命令格式：man [-选项]   命令</p></li> <li><p>常用快捷操作</p> <ul><li><p>向下键向下移一行</p></li> <li><p>向上键向上移一行</p></li> <li><p>[Page Down] 向下翻一页</p></li> <li><p>[Page Up] 向上翻一页</p></li> <li><p>/关键字   #搜索关键字，配合n（向下查询）、N（向上查询）</p></li> <li><p>q 退出</p></li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># man ls</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># man cat</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># man touch</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># man mkdir</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># info ls</span>
</code></pre></div><h4 id="linux系统的运行级别"><a href="#linux系统的运行级别" class="header-anchor">#</a> Linux系统的运行级别</h4> <p>Linux系统运行级别：linux系统有7个运行级别，不同的运行级别运行的程序和功能都不一样，而Linux系统默认是运行在一个标准的级别上，系统运行级别文件/etc/inittab文件</p> <p>运行级别 0：所有进程被终止，机器将有序的停止，关机时系统处于这个运行级别（关机）</p> <p>运行级别 1：单用户模式，（root用户进行系统维护），系统里运行的所有服务也都不会启动</p> <p>运行级别 2：多用户模式（网络文件系统NFS服务没有被启动）</p> <p>运行级别 3：完全多用户模式，（有NFS网络文件系统）标准的运行级别，命令行模式</p> <p>运行级别 4：系统未使用</p> <p>运行级别 5：登录后，进入带GUI的图形化界面，标准的运行级别</p> <p>运行级别 6：系统正常关闭并重启</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#查看当前系统运行级别</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># runlevel</span>
N <span class="token number">5</span>
<span class="token comment">#解释；当前系统处于的运行级别</span>
<span class="token comment">#解释：N代表没有从任何级别跳转过来</span>

<span class="token comment">#切换系统运行级别</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># init N</span>

<span class="token comment">#查看运行级别文件内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/inittab </span>
<span class="token comment"># inittab is no longer used when using systemd.</span>
<span class="token comment">#</span>
<span class="token comment"># ADDING CONFIGURATION HERE WILL HAVE NO EFFECT ON YOUR SYSTEM.</span>
<span class="token comment">#</span>
<span class="token comment"># Ctrl-Alt-Delete is handled by /usr/lib/systemd/system/ctrl-alt-del.target</span>
<span class="token comment">#</span>
<span class="token comment"># systemd uses 'targets' instead of runlevels. By default, there are two main targets:</span>
<span class="token comment">#</span>
<span class="token comment"># multi-user.target: analogous to runlevel 3   #运行级别3</span>
<span class="token comment"># graphical.target: analogous to runlevel 5    #运行级别5</span>
<span class="token comment">#</span>
<span class="token comment"># To view current default target, run:</span>
<span class="token comment"># systemctl get-default    				 #查看当前系统默认的运行级别</span>
<span class="token comment">#</span>
<span class="token comment"># To set a default target, run:</span>
<span class="token comment"># systemctl set-default TARGET.target    #修改当前系统默认运行级别  </span>

<span class="token comment">#查看默认运行级别</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># systemctl get-default</span>
graphical.target  <span class="token comment">#默认运行级别为5</span>

 <span class="token comment">#修改默认运行级别为3</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># systemctl set-default multi-user.target </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># systemctl get-default</span>
multi-user.target

<span class="token comment">#修改默认运行级别为5</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># systemctl set-default graphical.target</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># systemctl get-default</span>
graphical.target
</code></pre></div><h4 id="关机与重启"><a href="#关机与重启" class="header-anchor">#</a> 关机与重启</h4> <ul><li><p>linux下常用的关机命令有：shutdown、halt、poweroff、init</p> <ul><li>init 0 关机</li> <li>halt #立刻关机</li></ul></li> <li><p>shutdown –h now   #立刻关机</p> <ul><li>shutdown -h 10    #10分钟后自动关机</li> <li><strong>poweroff           #立刻关机   （记这个）</strong></li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># poweroff</span>
</code></pre></div><ul><li>重启命令：reboot  shutdown
<ul><li><strong>reboot #立刻重启 （记这个）</strong></li> <li>shutdown -r now   #立刻重启</li> <li>shutdown -r 10 #过十分钟后重启</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># reboot</span>
</code></pre></div><h4 id="课后练习-2"><a href="#课后练习-2" class="header-anchor">#</a> 课后练习</h4> <p>1.请在/tmp目录下创建student目录，并在student目录下同时创建t1、t2、t3文件</p> <p>mkdir /tmp/student</p> <p>cd /tmp/student/</p> <p>touch t1 t2 t3</p> <p>touch /tmp/student/t1 /tmp/student/t2 /tmp/student/t3</p> <p>2.请在/tmp目录下递归创建test1/test2/test3目录</p> <p>mkdir -p /tmp/test1/test2/test3</p> <p>3.切换到/tmp/test1/test2/test3目录下，并打印(查看)当前所在目录</p> <p>cd /tmp/test1/test2/test3</p> <p>pwd</p> <p>4.请同时在/opt、/media目录下创建upload文件</p> <p>touch /opt/upload /media/upload</p> <p>5.请将/opt目录下的upload文件移动至/tmp/test1/test2/test3目录下，并改名为upload.bak</p> <p>mv /opt/upload /tmp/test/1/test/2/test3/upload.bak</p> <p>6.请将/etc/passwd文件拷贝至/opt目录下，改名为passwd.bak，并保持属性不变</p> <p>cp -p /etc/passwd /opt/passwd.bak</p> <p>7.请将/etc/fstab文件拷贝至/opt目录下，并改名为fstab.bak</p> <p>cp -p /etc/fstab /opt/fstab.bak</p> <p>8.请将/etc/sysconfig/network-scripts/ifcfg-ens32 文件拷贝至/opt目录下，并改名为ens32.bak</p> <p>cp /etc/sysconfig/network-scripts/ifcfg-ens32 /opt/ens32.bak</p> <p>9.请删除/etc/yum.repos.d/目录下所有内容</p> <p>rm -rf /etc/yum.repos.d/*</p> <p>10.请在/etc/yum.repos.d/目录下创建local.repo文件</p> <p>touch /etc/yum.repos.d/local.repo</p> <p>11.请查看/etc/sysconfig/network-scripts/ifcfg-ens32文件末尾5行内容</p> <p>tail -5 /etc/sysconfig/network-scripts/ifcfg-ens32</p> <p>tail -n 5 /etc/sysconfig/network-scripts/ifcfg-ens32</p> <p>12.请查看/etc/passwd文件第1行内容</p> <p>head -n 1 /etc/passwd</p> <p>head -1 /etc/passwd</p> <p>13.请查看/etc/hostname文件内容</p> <p>cat /etc/hostname</p> <p>14.请查看/etc/hosts文件内容</p> <p>cat /etc/hosts</p> <p>15.请说出软连接与硬连接的特点</p> <p>软连接：可以跨分区，可以对目录链接，源文件删除后链接文件不可用</p> <p>硬连接：不可以跨分区，不可以对目录进行连接，源文件删除后，链接文件以然可用</p> <p>16.请在/opt目录下创建hello.soft文件，并创建软连接到/tmp目录下</p> <p>touch /opt/hello.soft</p> <p>ln -s /opt/hello.soft /tmp</p> <p>17.请在/opt目录下创建hello.hard文件，并创建硬连接到/tmp目录下，并查看连接文件详细属性</p> <p>touch /opt/hello.hard</p> <p>ln /opt/hello.hard /tmp</p> <p>18.如何获取ls命令的帮助信息？</p> <p>man ls</p> <p>ls --help</p> <p>19.请说出Linux系统的运行级别</p> <p>0：关机</p> <p>1：单用户模式</p> <p>2：多用户模式（没有NFS）</p> <p>3：完全多用户模式，标准运行级别</p> <p>4：保留</p> <p>5：带GUI图形化界面，标准的运行级别</p> <p>6：系统关闭并重启</p> <p>20.如何重启Linux系统？</p> <p>reboot</p> <p>init 6</p> <h4 id="计算机硬件组成部分"><a href="#计算机硬件组成部分" class="header-anchor">#</a> 计算机硬件组成部分</h4> <ul><li><p>输入设备：键盘、鼠标、触控屏等</p></li> <li><p>主机设备：主板、中央处理器（CPU）、主存储器（内存）、网卡、声卡、显示卡等</p></li> <li><p>输出设备：屏幕、耳机、打印机、投影仪等</p></li> <li><p>外部存储设备：硬盘、软盘、光盘、U盘等、蓝光光驱</p></li> <li><p>CPU缓存</p></li> <li><p>CPU比较主流的厂商</p> <ul><li>AMD公司</li> <li>Interl公司</li></ul></li> <li><p>CPU架构</p> <ul><li>x86架构，8086架构，80286，80386，x86称号</li> <li>8位、16位、32位、64位，CPU一次可以处理的数据量，</li> <li>32位CPU一次可以从内存中读取大约3.25G左右的数据量</li> <li>64位CPU一次可以从内存中读取大约128G左右的数据量</li></ul></li> <li><p>CPU核心</p> <ul><li>单核心，一颗CPU只能有一个运算单元</li> <li>多核心，一颗CPU里边有两个以上的运算单元</li></ul> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1616909159062.png" alt="1616909159062"></p></li></ul> <h4 id="linux系统目录介绍"><a href="#linux系统目录介绍" class="header-anchor">#</a> Linux系统目录介绍</h4> <ul><li><p>/（根）:系统所有数据都存放在根目录下</p></li> <li><p>/bin：存放用户和管理员必备的可执行的二进制程序文件</p></li> <li><p>/boot：存放Linux系统内核及引导系统程序所需要的文件目录</p></li> <li><p>/dev：存放硬件设备的目录，如键盘、鼠标、硬盘、光盘等等  （记住）</p></li> <li><p>/etc：存放服务的配置文件，用户信息文件  （记住）</p></li> <li><p>/root：超级管理员的家目录</p></li> <li><p>/home：系统普通用户的家目录（记住）</p></li> <li><p>/lib：存放系统中的程序运行所需要的共享库及内核模块</p></li> <li><p>/opt：额外安装的可选应用程序包所放置的位置</p></li> <li><p>/srv：服务启动之后需要访问的数据目录</p></li> <li><p>/tmp：一般用户或正在执行的程序临时存放文件的目录,任何人都可以访问,重要数据不可放置在此目录下</p></li> <li><p>/var：存放系统执行过程中经常变化的文件，如随时都在变化的日志文件就存放/var/log/下  （记住）</p></li> <li><p>/mnt、/media ：光盘和镜像等预设的挂载点（记住）</p></li> <li><p>/proc：Linux伪文件系统，该目录下的数据存在于内存当中，不占用磁盘空间</p></li> <li><p>/lib64 ：存放函式库</p></li> <li><p>/run ：程序或服务启动后，存放PID的目录</p></li> <li><p>/sys：存放被建立在内存中的虚拟文件系统</p></li> <li><p>/usr：操作系统软件资源所放置的目录</p> <ul><li>/usr/bin：与/bin目录相同，存放用户可以使用的命令程序</li> <li>/usr/lib：与/lib目录相同，存放系统中的程序运行所需要的共享库及内核模块</li> <li>/usr/etc：用于存放安装软件时使用的配置文件</li> <li>/usr/games：与游戏比较相关的数据放置处</li> <li>/usr/include：c/c++等程序语言的档头(header)与包含档(include)放置处</li> <li>/usr/lib64：与/lib64目录相同，存放函式库</li> <li>/usr/libexec：不经常被使用的执行程序或脚本会放置在此目录中</li> <li>/usr/local： 额外安装的软件存放目录  (记住)</li> <li>/usr/sbin：该目录与/sbin目录相同，存放用户可执行的二进制程序文件</li> <li>/usr/share： 放置只读架构的杂项数据文件</li> <li>/usr/src：一般软件源代码建议存放该目录下</li></ul></li></ul> <h4 id="查看内核信息"><a href="#查看内核信息" class="header-anchor">#</a> 查看内核信息</h4> <ul><li><p>uname 命令用于显示系统内核信息</p></li> <li><p>命令格式：uname [-选项...]</p></li> <li><p>常用选项：</p> <ul><li>-s ：显示内核名称</li> <li>-r ：显示内核版本</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># uname</span>
Linux

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># uname -rs</span>
Linux <span class="token number">3.10</span>.0-957.el7.x86_64
<span class="token comment">#解释：</span>
Linux 	<span class="token comment">#内核名称</span>
<span class="token number">3</span>		<span class="token comment">#主版本</span>
<span class="token number">10</span>		<span class="token comment">#次版本</span>
<span class="token number">0</span>		<span class="token comment">#修改版本</span>
<span class="token number">957</span>		<span class="token comment">#补丁次数</span>
el7		<span class="token comment">#Enterprise Linux（企业版Linux）</span>
x86_64	<span class="token comment">#CPU架构</span>

<span class="token comment">#Linux内核官网</span>
https://www.kernel.org/
</code></pre></div><h4 id="查看cpu信息"><a href="#查看cpu信息" class="header-anchor">#</a> 查看CPU信息</h4> <ul><li><p>/proc/cpuinfo文件用于存放系统CPU信息</p></li> <li><p>lscpu 用于显示CPU架构信息</p></li> <li><p>命令格式：lscpu [-选项]</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#查看/proc/cpuinfo文件内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /proc/cpuinfo </span>
processor　：<span class="token comment">#系统中逻辑处理核的编号。对于单核处理器，则可认为是其CPU编号，对于多核处理器则可以是物理核、或者使用超线程技术虚拟的逻辑核</span>
vendor_id　：   <span class="token comment">#CPU制造商     </span>
cpu family　：  <span class="token comment">#CPU产品系列代号</span>
model　　　：    <span class="token comment">#CPU属于其系列中的哪一代的代号</span>
model name：    <span class="token comment">#CPU属于的名字及其编号、标称主频</span>
stepping　  ：   <span class="token comment">#CPU属于制作更新版本</span>
cpu MHz　  ：    <span class="token comment">#CPU的实际使用主频</span>
cache size   ：  <span class="token comment">#CPU二级缓存大小</span>
physical <span class="token function">id</span>   ： <span class="token comment">#单个CPU的标号</span>
siblings       ：<span class="token comment">#单个CPU逻辑物理核数</span>
core <span class="token function">id</span>        ：<span class="token comment">#当前物理核在其所处CPU中的编号，这个编号不一定连续</span>
cpu cores    ：  <span class="token comment">#该逻辑核所处CPU的物理核数</span>
apicid          ：<span class="token comment">#用来区分不同逻辑核的编号，系统中每个逻辑核的此编号必然不同，此编号不一定连续</span>
fpu             ： <span class="token comment">#是否具有浮点运算单元（Floating Point Unit）</span>
fpu_exception  ：  <span class="token comment">#是否支持浮点计算异常</span>
cpuid level   ：   <span class="token comment">#执行cpuid指令前，eax寄存器中的值，根据不同的值cpuid指令会返回不同的内容</span>
wp             ：  <span class="token comment">#表明当前CPU是否在内核态支持对用户空间的写保护（Write Protection）</span>
flags          ：   <span class="token comment">#当前CPU支持的功能</span>
bogomips   ：       <span class="token comment">#在系统内核启动时粗略测算的CPU速度（Million Instructions Per Second）</span>
clflush size  ：    <span class="token comment">#每次刷新缓存的大小单位</span>
cache_alignment ：  <span class="token comment">#缓存地址对齐单位</span>
address sizes     ：<span class="token comment">#可访问地址空间位数</span>
power management ： <span class="token comment">#对能源管理的支持，有以下几个可选支持功能：</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#使用lscpu查看cpu信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lscpu</span>
　Architecture: <span class="token comment">#架构 </span>
　　CPU<span class="token punctuation">(</span>s<span class="token punctuation">)</span>: <span class="token comment">#逻辑cpu颗数 </span>
　　Thread<span class="token punctuation">(</span>s<span class="token punctuation">)</span> per core: <span class="token comment">#每个核心线程 </span>
　　Core<span class="token punctuation">(</span>s<span class="token punctuation">)</span> per socket: <span class="token comment">#每个cpu插槽核数/每颗物理cpu核数 </span>
　　CPU socket<span class="token punctuation">(</span>s<span class="token punctuation">)</span>: <span class="token comment">#cpu插槽数 </span>
　　Vendor ID: <span class="token comment">#cpu厂商ID </span>
　　CPU family: <span class="token comment">#cpu系列 </span>
　　Model: <span class="token comment">#型号 </span>
　　Stepping: <span class="token comment">#步进 </span>
　　CPU MHz: <span class="token comment">#cpu主频 </span>
　　Virtualization: <span class="token comment">#cpu支持的虚拟化技术 </span>
　　L1d cache: <span class="token comment">#一级缓存（google了下，这具体表示表示cpu的L1数据缓存） </span>
　　L1i cache: <span class="token comment">#一级缓存（具体为L1指令缓存） </span>
　　L2 cache: <span class="token comment">#二级缓存</span>
</code></pre></div><h4 id="查看系统内存信息"><a href="#查看系统内存信息" class="header-anchor">#</a> 查看系统内存信息</h4> <ul><li><p>/proc/meminfo文件用于存放系统内存信息</p></li> <li><p>free 用于查看内存使用情况</p></li> <li><p>命令格式：free [-选项]</p></li> <li><p>常用选项：-h   #以人类易读方式显示大小（KB，MB，GB）</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#查看/proc/meminfo文件内容</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /proc/meminfo </span>
MemTotal:          <span class="token number">995896</span> kB    <span class="token comment">#所有可用的内存大小，物理内存减去预留位和内核使用。系统从加电开始到引导完成，firmware/BIOS要预留一些内存，内核本身要占用一些内存，最后剩下可供内核支配的内存就是MemTotal。这个值在系统运行期间一般是固定不变的，重启会改变。</span>
MemFree:            <span class="token number">244196</span> kB   <span class="token comment">#表示系统尚未使用的内存。</span>
MemAvailable:       <span class="token number">435080</span> kB   <span class="token comment">#真正的系统可用内存，系统中有些内存虽然已被使用但是可以回收的，比如cache/buffer、slab都有一部分可以回收，所以这部分可回收的内存加上MemFree才是系统可用的内存</span>
Buffers:             <span class="token number">2132</span> kB   <span class="token comment">#用来给块设备做缓存的内存，(文件系统的 metadata、pages)</span>
Cached:             <span class="token number">314632</span> kB  <span class="token comment">#分配给文件缓冲区的内存,例如vi一个文件，就会将未保存的内容写到该缓冲区</span>
SwapCached:            <span class="token number">0</span> kB    <span class="token comment">#被高速缓冲存储用的交换空间（硬盘的swap）的大小</span>
Active:            <span class="token number">295908</span> kB    <span class="token comment">#经常使用的高速缓冲存储器页面文件大小</span>
Inactive:          <span class="token number">271552</span> kB    <span class="token comment">#不经常使用的高速缓冲存储器文件大小</span>
Active<span class="token punctuation">(</span>anon<span class="token punctuation">)</span>:      <span class="token number">251528</span> kB    <span class="token comment">#活跃的匿名内存</span>
Inactive<span class="token punctuation">(</span>anon<span class="token punctuation">)</span>:     <span class="token number">13044</span> kB    <span class="token comment">#不活跃的匿名内存</span>
Active<span class="token punctuation">(</span>file<span class="token punctuation">)</span>:       <span class="token number">44380</span> kB    <span class="token comment">#活跃的文件使用内存</span>
Inactive<span class="token punctuation">(</span>file<span class="token punctuation">)</span>:    <span class="token number">258508</span> kB   <span class="token comment">#不活跃的文件使用内存</span>
Unevictable:           <span class="token number">0</span> kB    <span class="token comment">#不能被释放的内存页</span>
Mlocked:               <span class="token number">0</span> kB    <span class="token comment">#系统调用 mlock 家族允许程序在物理内存上锁住它的部分或全部地址空间。这将阻止Linux 将这个内存页调度到交换空间（swap space），即使该程序已有一段时间没有访问这段空间</span>
SwapTotal:             <span class="token number">0</span> kB    <span class="token comment">#交换空间总内存</span>
SwapFree:              <span class="token number">0</span> kB    <span class="token comment">#交换空间空闲内存</span>
Dirty:                 <span class="token number">4</span> kB    <span class="token comment">#等待被写回到磁盘的</span>
Writeback:             <span class="token number">0</span> kB    <span class="token comment">#正在被写回的</span>
AnonPages:         <span class="token number">15100</span> kB    <span class="token comment">#未映射页的内存/映射到用户空间的非文件页表大小</span>
Mapped:             <span class="token number">7160</span> kB    <span class="token comment">#映射文件内存</span>
Shmem:               <span class="token number">100</span> kB    <span class="token comment">#已经被分配的共享内存</span>
Slab:               <span class="token number">9236</span> kB    <span class="token comment">#内核数据结构缓存</span>
SReclaimable:       <span class="token number">2316</span> kB    <span class="token comment">#可收回slab内存</span>
SUnreclaim:         <span class="token number">6920</span> kB    <span class="token comment">#不可收回slab内存</span>
KernelStack:        <span class="token number">2408</span> kB    <span class="token comment">#内核消耗的内存</span>
PageTables:         <span class="token number">1268</span> kB    <span class="token comment">#管理内存分页的索引表的大小</span>
NFS_Unstable:          <span class="token number">0</span> kB    <span class="token comment">#不稳定页表的大小</span>
Bounce:                <span class="token number">0</span> kB    <span class="token comment">#在低端内存中分配一个临时buffer作为跳转，把位于高端内存的缓存数据复制到此处消耗的内存</span>
WritebackTmp:          <span class="token number">0</span> kB    <span class="token comment">#FUSE用于临时写回缓冲区的内存</span>
CommitLimit:       <span class="token number">22980</span> kB    <span class="token comment">#系统实际可分配内存</span>
Committed_AS:     <span class="token number">536244</span> kB    <span class="token comment">#系统当前已分配的内存</span>
VmallocTotal:     <span class="token number">892928</span> kB    <span class="token comment">#预留的虚拟内存总量</span>
VmallocUsed:       <span class="token number">29064</span> kB    <span class="token comment">#已经被使用的虚拟内存</span>
VmallocChunk:     <span class="token number">860156</span> kB    <span class="token comment">#可分配的最大的逻辑连续的虚拟内存</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#使用free命令查看内存使用情况</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># free -h</span>
              total        used        <span class="token function">free</span>      shared  buff/cache   available
Mem:           972M        344M        238M         13M        389M        424M
Swap:          <span class="token number">2</span>.0G          0B        <span class="token number">2</span>.0G
<span class="token comment">#解释：Mem 物理内存统计信息</span>
total：		<span class="token comment">#物理内存总量</span>
used：		<span class="token comment">#以使用的内存总量</span>
free：		<span class="token comment">#空闲内存总量</span>
shared：		<span class="token comment">#共享内存总量</span>
buff/cache：	<span class="token comment">#块设备与普通文件占用的缓存数量</span>
available：	<span class="token comment">#还可以被应用程序使用的物理内存大小</span>

<span class="token comment">#解释：Swap 内存交换空间，当物理内存不足时，可以使用硬盘空间充当内存使用</span>
total：		<span class="token comment">#交换分区内存总量</span>
used：		<span class="token comment">#正在使用的交换分区内存</span>
free：		<span class="token comment">#空闲交换分区内存</span>
</code></pre></div><h4 id="查看网卡信息"><a href="#查看网卡信息" class="header-anchor">#</a> 查看网卡信息</h4> <ul><li>网卡配置文件地址： /etc/sysconfig/network-scripts/网卡名</li> <li>ifconfig 用于显示和设置网卡的参数</li> <li>命令格式： ifconfig [网卡名]</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/sysconfig/network-scripts/ifcfg-ens32</span>
<span class="token assign-left variable">TYPE</span><span class="token operator">=</span>“Ethernet“			<span class="token comment">#网卡类型=以太 ※</span>
<span class="token assign-left variable">PROXY_METHOD</span><span class="token operator">=</span>“none“		<span class="token comment">#代理方式=关闭</span>
<span class="token assign-left variable">BROWSER_ONLY</span><span class="token operator">=</span>&quot;no“		<span class="token comment">#只是浏览器=否</span>
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>“none“		<span class="token comment">#获取IP地址的方式=固定IP ※</span>
<span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span>“yes“			<span class="token comment">#是否设置默认路由=是</span>
<span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span>“no“	<span class="token comment">#是否开启ipv4致命检测=否（如果ipv4配置失败禁用设备）</span>
<span class="token assign-left variable">NAME</span><span class="token operator">=</span>“ens32“			<span class="token comment">#物理网卡设备名字 ※</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>“3ef0d258-f9a4-49e5-a9da-7b47bc98daa0	“<span class="token comment">#网卡UUID</span>
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>“ens32“			<span class="token comment">#网卡名字 ※</span>
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>“yes“			<span class="token comment">#开机或重启时是否启动网卡  ※</span>
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span>“192.168.0.210“	<span class="token comment">#IP地址  ※</span>
<span class="token assign-left variable">PREFIX</span><span class="token operator">=</span>“24“				<span class="token comment">#子网掩码 ※</span>
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span>“192.168.0.254“	<span class="token comment">#网关	※</span>
<span class="token assign-left variable">DNS1</span><span class="token operator">=</span>“8.8.8.8“			<span class="token comment">#dns服务器IP地址 ※</span>
<span class="token assign-left variable">DNS2</span><span class="token operator">=</span><span class="token number">8.8</span>.4.4			<span class="token comment">#备用dns服务器IP地址 ※</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#使用ifconfig命令查看网卡信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ifconfig</span>
ens32: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span>
        inet <span class="token number">192.168</span>.0.29  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.0.255
        inet6 fe80::8d50:c4d5:97b0:9d64  prefixlen <span class="token number">64</span>  scopeid 0x2<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>link<span class="token operator">&gt;</span>
        ether 00:0c:29:b0:cf:c8  txqueuelen <span class="token number">1000</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>
        RX packets <span class="token number">3948</span>  bytes <span class="token number">1811465</span> <span class="token punctuation">(</span><span class="token number">1.7</span> MiB<span class="token punctuation">)</span>
        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span>
        TX packets <span class="token number">2538</span>  bytes <span class="token number">459113</span> <span class="token punctuation">(</span><span class="token number">448.3</span> KiB<span class="token punctuation">)</span>
        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span>
<span class="token comment">#解释：</span>
ens32:		 <span class="token comment">#网卡名称  ※</span>
<span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">4163</span>：	<span class="token comment">#标志</span>
UP：			<span class="token comment">#网卡处于活跃状态  ※</span>
BROADCAST：	<span class="token comment">#支持广播</span>
RUNNING：	<span class="token comment">#网线已接入</span>
MULTICAST：	<span class="token comment">#支持组播</span>
mtu <span class="token number">1500</span>：	<span class="token comment">#最大传输单元（字节），表示此网卡一次能传输的最大数据包 ※</span>
inet <span class="token number">192.168</span>.0.29		<span class="token comment">#IPV4地址 ※</span>
netmask <span class="token number">255.255</span>.255.0	<span class="token comment">#子网掩码 ※</span>
broadcast <span class="token number">192.168</span>.0.255	<span class="token comment">#广播地址 ※</span>
inet6 fe80::8d50:c4d5:97b0:9d64		<span class="token comment">#IPV6地址</span>
prefixlen <span class="token number">64</span>  scopeid 0x2<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>link<span class="token operator">&gt;</span>	<span class="token comment">#前缀 64 作用域 0x20</span>
ether 00:0c:29:b0:cf:c8	<span class="token comment">#网卡MAC地址 ※</span>
xqueuelen <span class="token number">1000</span>			<span class="token comment">#网卡设置的传送队列长度</span>
<span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>				<span class="token comment">#网卡连接类型</span>
RX packets <span class="token number">3948</span>			<span class="token comment">#接收正确的数据包 ※</span>
bytes <span class="token number">1811465</span> <span class="token punctuation">(</span><span class="token number">1.7</span> MiB<span class="token punctuation">)</span>	<span class="token comment">#接收的数据量与字节 ※</span>
RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span> <span class="token comment">#接收到的错误包、丢弃的数据包数、由于速度过快而丢失的数据包、发生frame错误而丢失的数据包数 ※</span>
TX packets <span class="token number">100</span> 		<span class="token comment">#发送的正确的数据包数 ※</span>
bytes <span class="token number">8116</span> <span class="token punctuation">(</span><span class="token number">7.9</span> KiB<span class="token punctuation">)</span><span class="token comment">#发送的数据量、字节  ※</span>
TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span> <span class="token comment">#发送时产生错误的数据包数、丢弃的数据包数、由于速度过快而丢失的数据包数、发生carrier错误而丢失的数据包数、冲突信息包的数目 ※</span>

<span class="token comment">#只查看指定的网卡</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ifconfig ens32</span>


lo: 本地回环网卡，不是物理网卡，通过软件虚拟出来的一个网卡，127.0.0.1，用于测试本机的联通性
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ping 127.0.0.1</span>

virbr0: 虚拟化的网络接口，通过软件技术虚拟出来的一个网卡，192.168.122.1，KVM虚拟化技术的时候
</code></pre></div><h4 id="查看主机名及修改主机名"><a href="#查看主机名及修改主机名" class="header-anchor">#</a> 查看主机名及修改主机名</h4> <ul><li><p>/etc/hostname文件用于存放主机名</p></li> <li><p>hostname 命令用于显示和设置主机名</p></li> <li><p>命令格式：hostname  [新名称]</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#查看主机名</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># hostname</span>
localhost.localdomain

<span class="token comment">#查看主机名配置文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/hostname </span>
localhost.localdomain

<span class="token comment">#临时修改主机名（立刻生效，服务器重启以后失效）</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># hostname test</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># hostname</span>
<span class="token builtin class-name">test</span>

<span class="token comment">#exit/loguot登出系统</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># exit</span>
<span class="token punctuation">[</span>c:<span class="token punctuation">\</span>~<span class="token punctuation">]</span>$ <span class="token function">ssh</span> <span class="token number">192.168</span>.0.50
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># </span>

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># hostname fhsd.jhglshdjkghjkdfhgkjhgdsahgjklhdsfjghsdhgjlhsd</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># logout</span>

<span class="token punctuation">[</span>root@fhsd ~<span class="token punctuation">]</span><span class="token comment"># hostname sdhjghsdfjkhgkjdfshkgljhsdjfhgjksdhgjkhsdjgjkl</span>
<span class="token punctuation">[</span>root@fhsd ~<span class="token punctuation">]</span><span class="token comment"># exit</span>

<span class="token comment">#命令行永久修改主机名（立刻生效，不需要重启系统）</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># hostnamectl set-hostname test</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># exit</span>
</code></pre></div><h4 id="vi-vim文本编辑器"><a href="#vi-vim文本编辑器" class="header-anchor">#</a> vi/vim文本编辑器</h4> <ul><li><p>Vim是从 vi 发展出来的一个文本编辑器，vim 具有程序编辑的能力，可以主动的以字体颜色辨别语法的正确性</p></li> <li><p>vi/vim 共分为三种模式：命令模式、输入模式、底线命令模式（末行模式）</p> <ul><li><p>命令模式：刚刚启动 vi/vim，便进入了命令模式</p></li> <li><p>输入模式：在命令模式下按 a/i/o 就进入了输入模式</p></li> <li><p>ESC，退出输入模式，切换到命令模式</p></li> <li><p>底线命令模式：在命令模式下按下:（英文冒号）就进入了底线命令模式</p></li></ul></li> <li><p>命令格式：vim 文件名</p> <ul><li>若目标文件不存在，则新创建文件并编辑</li> <li>若目标文件以存在，则打开文件并编辑</li></ul></li> <li><p>命令模式：刚刚启动 vi/vim，便进入了命令模式</p> <ul><li>i    切换到输入模式，在当前光标所在字符前插入</li> <li>a   切换到输入模式，在当前光标所在字符后插入</li> <li>o   切换到输入模式，在当前光标所在行下插入新行</li> <li>:    切换到底线命令模式，以在最底一行输入命令</li> <li>x    在命令模式下删除当前光标所在的单字符</li> <li>dd   删除一整行内容，配合数字可删除指定范围内的行</li> <li>C    删除当前光标及光标后所有内容并进入输入模式</li> <li>u    恢复上一次修改内容，一次恢复一个操作，可多次恢复，直到恢复本次操作初始状态为止</li> <li>$    将光标移动至行尾</li> <li>0（零）    将光标移动至行首</li> <li>gg   跳转至文件第一行</li> <li>G    跳转至文件最后一行</li> <li>yy    复制当前行，配合数字可以同时复制多行</li> <li>p    粘贴当前光标所在行下</li> <li>/关键字  搜索文件内关键字，n从上向下快速定位关键字，N从下向上快速定位关键字</li></ul></li> <li><p>底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。</p> <ul><li>:w   保存</li> <li>:q   退出</li> <li>:wq    保存并退出</li> <li>:x        保存并退出</li> <li>ZZ       保存并退出</li> <li>:q!     强制退出不保存</li> <li>:wq!  强制保存并退出，适用于只读文件（没有写权限）</li> <li>:set nu   以行号形式显示文件内容</li> <li>:set nonu 取消行号显示</li> <li>:行号     快速跳转到指定行</li> <li>:%s          替换文件内容，g替换全文，默认只替换每一行匹配到的第一个关键字（数字s 指定替换的行）</li> <li>:nohl   取消高亮显示</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/services </span>
</code></pre></div><h4 id="修改网卡ip地址"><a href="#修改网卡ip地址" class="header-anchor">#</a> 修改网卡IP地址</h4> <ul><li>网卡配置文件地址： /etc/sysconfig/network-scripts/网卡名</li> <li>ifconfig  	        #用于显示和设置网卡的参数</li> <li>systemctl restart network  #重启网络</li> <li>ifup 网卡名       #启动该网卡设备</li> <li>ifdown 网卡名  #禁用该网卡设备</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#修改IP地址</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/sysconfig/network-scripts/ifcfg-ens32 </span>
<span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">&quot;Ethernet&quot;</span>
<span class="token assign-left variable">PROXY_METHOD</span><span class="token operator">=</span><span class="token string">&quot;none&quot;</span>
<span class="token assign-left variable">BROWSER_ONLY</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span><span class="token string">&quot;none&quot;</span>
<span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
<span class="token assign-left variable">IPV6INIT</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token assign-left variable">IPV6_AUTOCONF</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token assign-left variable">IPV6_DEFROUTE</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token assign-left variable">IPV6_FAILURE_FATAL</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
<span class="token assign-left variable">IPV6_ADDR_GEN_MODE</span><span class="token operator">=</span><span class="token string">&quot;stable-privacy&quot;</span>
<span class="token assign-left variable">NAME</span><span class="token operator">=</span><span class="token string">&quot;ens32&quot;</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;16085f4c-f690-4058-b29e-d55c73387026&quot;</span>
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span><span class="token string">&quot;ens32&quot;</span>
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token string">&quot;192.168.0.60&quot;</span>   <span class="token comment">#修改IP地址</span>
<span class="token assign-left variable">PREFIX</span><span class="token operator">=</span><span class="token string">&quot;24&quot;</span>
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token string">&quot;192.168.0.254&quot;</span>
<span class="token assign-left variable">DNS1</span><span class="token operator">=</span><span class="token string">&quot;114.114.114.114&quot;</span>
<span class="token assign-left variable">IPV6_PRIVACY</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
~                    
<span class="token comment">#重启网络（IP地址发生改变，当前终端会断开）</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># systemctl restart network</span>
<span class="token punctuation">[</span>c:<span class="token punctuation">\</span>~<span class="token punctuation">]</span>$ <span class="token function">ssh</span> <span class="token number">192.168</span>.0.60

<span class="token comment">#关闭网卡并激活网卡</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ifdown ens32;ifup ens32</span>

<span class="token comment">#查看所有网卡信息</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># ip a </span>
</code></pre></div><ul><li>使用命令修改网卡IP地址</li></ul> <p>nmcli connection modify 网卡名 ipv4.method manual ipv4.addresses Ip地址/掩码 connection.autoconnect yes</p> <p>解释：2</p> <p>nmcli connection modify（修改）</p> <p>网卡名 ipv4.method（配置ipv4地址方法）</p> <p>manual （手动配置）</p> <p>ipv4.addresses（ipv4地址）</p> <p>Ip地址/掩码 connection.autoconnect yes（开机自动连接）</p> <ul><li>激活网卡：nmcli connection up 网卡名</li> <li>关闭网卡：nmcli connection down 网卡名</li> <li>重启网卡：nmcli connection reload 网卡名</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#使用命令修改网卡IPV地址</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># nmcli connection modify ens32 ipv4.method manual ipv4.addresses 192.168.0.50/24 connection.autoconnect yes</span>

<span class="token comment">#激活网卡</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># nmcli connection up ens32</span>
<span class="token punctuation">[</span>c:<span class="token punctuation">\</span>~<span class="token punctuation">]</span>$ <span class="token function">ssh</span> <span class="token number">192.168</span>.0.50
</code></pre></div><h4 id="host命令"><a href="#host命令" class="header-anchor">#</a> host命令</h4> <ul><li>host用于将一个域名解析到一个IP地址</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># host www.baidu.com</span>
www.baidu.com has address <span class="token number">110.242</span>.68.3
www.baidu.com has address <span class="token number">110.242</span>.68.4
www.baidu.com is an <span class="token builtin class-name">alias</span> <span class="token keyword">for</span> www.a.shifen.com.
www.baidu.com is an <span class="token builtin class-name">alias</span> <span class="token keyword">for</span> www.a.shifen.com.
</code></pre></div><h4 id="nslookup命令"><a href="#nslookup命令" class="header-anchor">#</a> nslookup命令</h4> <ul><li>nslookup用于查询域名解析是否正常，在网络故障时用来诊断网络问题</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># nslookup www.baidu.com</span>
Server:		<span class="token number">114.114</span>.114.114
Address:	<span class="token number">114.114</span>.114.114<span class="token comment">#53</span>

Non-authoritative answer:
Name:	www.baidu.com
Address: <span class="token number">110.242</span>.68.4
Name:	www.baidu.com
Address: <span class="token number">110.242</span>.68.3
</code></pre></div><h4 id="alias别名管理"><a href="#alias别名管理" class="header-anchor">#</a> alias别名管理</h4> <ul><li><p>alias命令用于设置命令别名，用户可以使用alias自定义命令别名来简化命令的复杂度</p></li> <li><p>.bashrc 文件存放命令别名</p></li> <li><p>命令格式：aliasi [别名]=[命令]       #注意事项：等号（=）前后不能有空格</p></li> <li><p>unalias 别名         #取消别名</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#定义别名</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># alias lsnet='ls /etc/sysconfig/network-scripts/'</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># lsnet</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># alias myls='ls -ldh'</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># myls /opt</span>

<span class="token comment">#查看当前系统可用命令别名</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># alias</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">cp</span><span class="token operator">=</span><span class="token string">'cp -i'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">egrep</span><span class="token operator">=</span><span class="token string">'egrep --color=auto'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">fgrep</span><span class="token operator">=</span><span class="token string">'fgrep --color=auto'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">grep</span><span class="token operator">=</span><span class="token string">'grep --color=auto'</span>
<span class="token builtin class-name">alias</span> l.<span class="token operator">=</span><span class="token string">'ls -d .* --color=auto'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">ll</span><span class="token operator">=</span><span class="token string">'ls -l --color=auto'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">ls</span><span class="token operator">=</span><span class="token string">'ls --color=auto'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">lsnet</span><span class="token operator">=</span><span class="token string">'ls /etc/sysconfig/network-scripts/'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">mv</span><span class="token operator">=</span><span class="token string">'mv -i'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">myls</span><span class="token operator">=</span><span class="token string">'ls -ldh'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">rm</span><span class="token operator">=</span><span class="token string">'rm -i'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">which</span><span class="token operator">=</span><span class="token string">'alias | /usr/bin/which --tty-only --read-alias --show-dot --show-tilde'</span>

<span class="token comment">#两条命令效果相同</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># ls -l hello</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># which ls</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">ls</span><span class="token operator">=</span><span class="token string">'ls --color=auto'</span>
	/usr/sbin/ls
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># /usr/sbin/ls</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># ls</span>

<span class="token comment">#取消本次命令的别名功能“\”</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># \ls</span>

<span class="token comment">#取消命令别名</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># unalias myls</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># myls</span>
bash: myls: 未找到命令<span class="token punctuation">..</span>.

<span class="token comment">#定义别名不要跟系统命令发生冲突</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># alias ls=hostname</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
<span class="token builtin class-name">test</span>

<span class="token comment">#取消命令别名</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># unalias ls</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># alias</span>

<span class="token comment">#重新定义别名</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># alias ls='ls --color=auto'</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
</code></pre></div><h4 id="history-管理历史"><a href="#history-管理历史" class="header-anchor">#</a> history 管理历史</h4> <ul><li><p>history命令用于显示历史记录和执行过的命令，登录shell时会读取~./bash_history历史文件中记录下的命令，当退出或登出shell时，会自动保存到历史命令文件，该命令单独使用时，仅显示历史命令</p></li> <li><p>历史命令默认只能存储1000条，可以通过/etc/profile文件修改</p></li> <li><p>命令格式：history [-选项] [参数]</p></li> <li><p>常用选项：</p> <ul><li>-a 追加本次新执行的命令至历史命令文件中</li> <li>-d 删除历史命令中指定的命令</li> <li>-c 清空历史命令列表</li></ul></li> <li><p>快捷操作：</p> <ul><li><p>!# 调用命令历史中第N条命令</p></li> <li><p>!string 调用命令历史中以strind开头的命令</p></li> <li><p>!! 重复执行上一条命令</p></li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#获取命令帮助</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># help history </span>

<span class="token comment">#查看历史命令</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># history</span>

<span class="token comment">#查看记录历史命令文件</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat .bash_history </span>

<span class="token comment">#将历史命令同步至历史命令配置文件中</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># history -a</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat .bash_history </span>

<span class="token comment">#删除历史命令中655条命令历史</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># history -d 655</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># history -d 637</span>

<span class="token comment">#清空缓存中所有历史命令</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># history -c</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># history</span>
    <span class="token number">1</span>  <span class="token function">history</span>

<span class="token comment">#删除历史命令配置文件（该文件删除后系统会再次自动创建）</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># rm -rf .bash_history </span>

<span class="token comment">#快速调用历史命令中第1条</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># !1</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># !3</span>

<span class="token comment">#调用历史命令中以cat开头的命令（只调用最近使用的cat历史命令）</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># !cat</span>

<span class="token comment">#重复执行上一条命令</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># !!</span>

<span class="token comment">#历史命令默认只能记录1000条，可以通过/etc/profile文件修改</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/profile</span>
<span class="token punctuation">..</span>.
<span class="token number">46</span> <span class="token assign-left variable"><span class="token environment constant">HISTSIZE</span></span><span class="token operator">=</span><span class="token number">100</span>
</code></pre></div><h4 id="date日期时间管理"><a href="#date日期时间管理" class="header-anchor">#</a> date日期时间管理</h4> <ul><li><p>date命令用于显示或设置系统日期与时间</p></li> <li><p>命令格式：date [-选项] [+格式符]       #查看系统日期时间</p></li> <li><p>命令格式：date  [-选项]                       #设置日期时间</p></li> <li><p>常用选项：-s 设置日期时间</p></li> <li><p>格式符：</p> <ul><li><p>+%Y 年份</p></li> <li><p>+%B 月份</p></li> <li><p>+%d 日</p></li> <li><p>+%H 时</p></li> <li><p>+%M 分</p></li> <li><p>+%S 秒</p></li> <li><p>+%F 年-月-日</p></li> <li><p>+%X 时：分：秒</p></li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#显示系统日期与时间</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date</span>
<span class="token number">2021</span>年 03月 <span class="token number">28</span>日 星期日 <span class="token number">17</span>:08:34 CST

<span class="token comment">#只显示年分</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date +%Y</span>
<span class="token number">2021</span>

<span class="token comment">#只显示月份</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date +%B</span>
三月

<span class="token comment">#只显示几号</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date +%d</span>
<span class="token number">28</span>

<span class="token comment">#只显示小时</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date +%H</span>
<span class="token number">17</span>

<span class="token comment">#只显示分钟</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date +%M</span>
<span class="token number">10</span>

<span class="token comment">#只显示秒</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date +%S</span>
<span class="token number">24</span>

<span class="token comment">#显示年月日</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date +%F</span>
<span class="token number">2021</span>-03-28

<span class="token comment">#显示时分秒</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date +%X</span>
<span class="token number">17</span>时12分10秒

<span class="token comment">#显示年月日时分秒</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date +%F%X</span>
<span class="token number">2021</span>-03-2817时12分39秒

<span class="token comment">#可以自定义分隔符“-”</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date +%F-%X</span>
<span class="token number">2021</span>-03-28-17时13分38秒

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date +%F:%X</span>
<span class="token number">2021</span>-03-28:17时13分55秒

<span class="token comment">#修改系统年月日</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date -s 2020-03-28</span>
<span class="token number">2020</span>年 03月 <span class="token number">28</span>日 星期六 00:00:00 CST

<span class="token comment">#修改系统时分秒</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date -s 17:16:00</span>
<span class="token number">2020</span>年 03月 <span class="token number">28</span>日 星期六 <span class="token number">17</span>:16:00 CST

<span class="token comment">#修改年月日时分秒</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date -s '2021-03-28 17:17:00'</span>
<span class="token number">2021</span>年 03月 <span class="token number">28</span>日 星期日 <span class="token number">17</span>:17:00 CST
<span class="token comment">#解释：</span>
<span class="token string">''</span>单引号：引用整体，屏蔽特殊符号的功能
<span class="token string">&quot;&quot;</span>双引号：引用整体，不会屏蔽特殊符号的功能

<span class="token comment">#Linux的两种时钟</span>
系统时钟：内核通过CPU的工作频率去计算的时间
硬件时钟：

<span class="token comment">#显示硬件时间</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># clock</span>
<span class="token number">2021</span>年03月28日 星期日 <span class="token number">17</span>时23分42秒  <span class="token parameter variable">-0.945549</span> 秒

<span class="token comment">#显示并同步系统与硬件时钟</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># man hwclock</span>
-s：把系统时间设置成与硬件时间相同
-w：把硬件时间设置成与系统时间相同
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># hwclock -w</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># date</span>
<span class="token number">2021</span>年 03月 <span class="token number">28</span>日 星期日 <span class="token number">17</span>:27:18 CST

<span class="token comment">#cal显示日历</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cal</span>
      三月 <span class="token number">2021</span>     
日 一 二 三 四 五 六
    <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>
 <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span>
<span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span>
<span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span>
<span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span> <span class="token number">31</span>

<span class="token comment">#显示指定的全年月份</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cal 2021</span>
</code></pre></div><h4 id="wc统计命令"><a href="#wc统计命令" class="header-anchor">#</a> wc统计命令</h4> <ul><li><p>wc 用于统计文件的字节数、行数，并将统计的结果输出到屏幕</p></li> <li><p>命令格式：wc [-选项] 文件名</p></li> <li><p>常用选项：</p> <ul><li>-c #统计字节数</li> <li>-l #统计行数</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># wc /etc/passwd</span>
<span class="token number">43</span>   <span class="token number">87</span> <span class="token number">2259</span> /etc/passwd
行数 单词 字节  文件名

<span class="token comment">#统计文件字节数</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># wc -c /etc/passwd</span>
<span class="token number">2259</span> /etc/passwd

<span class="token comment">#统计文件行数</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># wc -l /etc/passwd</span>
<span class="token number">43</span> /etc/passwd

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># wc -l /etc/fstab</span>
<span class="token number">11</span> /etc/fstab
</code></pre></div><h4 id="管道符"><a href="#管道符" class="header-anchor">#</a> 管道符</h4> <ul><li>管道符“|”：将命令的输出结果交给另外一条命令作为参数继续处理</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># head -10 /etc/passwd |tail -5</span>

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># head -10 /etc/passwd |tail -5 |wc -l</span>
<span class="token number">5</span>

root@test ~<span class="token punctuation">]</span><span class="token comment"># cat -n /etc/passwd |head -10|tail -5</span>
     <span class="token number">6</span>	sync:x:5:0:sync:/sbin:/bin/sync
     <span class="token number">7</span>	shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
     <span class="token number">8</span>	halt:x:7:0:halt:/sbin:/sbin/halt
     <span class="token number">9</span>	mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
    <span class="token number">10</span>	operator:x:11:0:operator:/root:/sbin/nologin

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># ifconfig ens32 |head -2</span>
ens32: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span>
        inet <span class="token number">192.168</span>.0.50  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.0.255
</code></pre></div><h4 id="重定向操作"><a href="#重定向操作" class="header-anchor">#</a> 重定向操作</h4> <ul><li><p>重定向操作：将前面命令的输出结果，写入到其他的文本文件中</p></li> <li><p>重定向的表示符号</p> <ul><li>&gt; #重定向输出（覆盖）</li> <li>&gt;&gt; #重定向输出（追加）</li> <li>&lt;  #输入重定向（覆盖）</li> <li>&lt;&lt; #输入重定向（追加）</li> <li>&gt; 只收集正确的输出结果</li> <li>2&gt; 只收集错误的输出结果（覆盖）</li> <li>2&gt;&gt; 只收集错误的输出结果（追加）</li> <li>&amp;&gt; 正确错误都收集（覆盖）</li> <li>&amp;&gt;&gt; 正确错误都收集（追加）</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#将命令的输出结果以覆盖的方式重定向到文件中，（&gt;附带创建文件功能）</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># ifconfig ens32 |head -2 &gt; /opt/ens32.bak</span>
ens32: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span>
        inet <span class="token number">192.168</span>.0.50  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.0.255

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/hostname &gt; /opt/ens32.bak </span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat /opt/ens32.bak </span>
<span class="token builtin class-name">test</span>

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># free -h &gt; /opt/free.bak</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat /opt/free.bak </span>
              total        used        <span class="token function">free</span>      shared  buff/cache   available
Mem:           972M        414M        123M         15M        435M        336M
Swap:          <span class="token number">2</span>.0G          0B        <span class="token number">2</span>.0G

<span class="token comment">#将命令的输出结果以追加的方式重定向到文件中</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/hostname &gt;&gt; /opt/free.bak </span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat /opt/free.bak </span>

<span class="token comment">#“&gt;”只收集正确的输出结果，不收集错误的输出结果</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># ls xxooooxx &gt; /opt/xx.txt</span>
ls: 无法访问xxooooxx: 没有那个文件或目录

<span class="token comment">#“2&gt;”只收集错误的输出结果，不收集正确的输出结果</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># ls xxooooxx 2&gt; /opt/xx.txt</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat /opt/xx.txt </span>
ls: 无法访问xxooooxx: 没有那个文件或目录

<span class="token comment">#“2&gt;”以覆盖的方式将输出结果重定向到文件中</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/abc 2&gt; /opt/ens32.bak </span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat /opt/ens32.bak </span>
cat: /etc/abc: 没有那个文件或目录

<span class="token comment">#“2&gt;&gt;”以追加的方式将输出结果重定向到文件中</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># ls /etc/abcd 2&gt;&gt; /opt/ens32.bak </span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat /opt/ens32.bak </span>
cat: /etc/abc: 没有那个文件或目录
ls: 无法访问/etc/abcd: 没有那个文件或目录

<span class="token comment">#“&amp;&gt;”以覆盖的方式将正确输出与错误输出重定向到文件中</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># lscat &amp;&gt; /opt/abc.txt</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat /opt/abc.txt </span>

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># ls /etc/passwd &amp;&gt; /opt/pass.bak</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat /opt/pass.bak </span>

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># free -h &amp;&gt; /opt/pass.bak </span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat /opt/pass.bak </span>

<span class="token comment">#“&amp;&gt;”以追加的方式将正确输出与错误输出重定向到文件中</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># ifconfig ens32 | head -2 &amp;&gt;&gt; /opt/pass.bak </span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat /opt/pass.bak </span>

<span class="token comment">#以覆盖方式将正确输出与错误输出重定向到不同文件中</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># ll -d /root/  bcd &gt;a.txt 2&gt;b.txt</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat a.txt </span>
dr-xr-x---. <span class="token number">24</span> root root <span class="token number">4096</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">18</span>:07 /root/
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat b.txt </span>
ls: 无法访问bcd: 没有那个文件或目录
</code></pre></div><h4 id="echo命令与sleep命令"><a href="#echo命令与sleep命令" class="header-anchor">#</a> echo命令与sleep命令</h4> <ul><li><p>echo命令用于输出指定的字符串和变量</p></li> <li><p>命令格式：echo [-选项] [参数]</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># echo $PATH</span>
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># echo xxoo</span>
xxoo

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># echo abc</span>
abc

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># echo 男人好难</span>
男人好难

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># echo 123</span>
<span class="token number">123</span>

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/hostname </span>
<span class="token builtin class-name">test</span>

<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># echo localhost &gt; /etc/hostname</span>
<span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/hostname </span>
localhost
</code></pre></div><ul><li><p>sleep命令可以用来将目前动作延迟一段时间</p></li> <li><p>命令格式：sleep 时间</p></li> <li><p>常用选项： s 秒 m 分钟 h 小时 d 日</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@test ~<span class="token punctuation">]</span><span class="token comment"># sleep 3</span>
</code></pre></div><h4 id="课后练习-3"><a href="#课后练习-3" class="header-anchor">#</a> 课后练习</h4> <p>1.查看当前系统内核名称及版本信息</p> <p>uname -sr</p> <p>2.请写系统存放cpu配置文件</p> <p>/proc/cpuinfo</p> <p>3.请写出查看cpu信息命令</p> <p>cat /proc/cpuinfo</p> <p>lscpu</p> <p>4.请写出系统存放内存配置文件</p> <p>/proc/meminfo</p> <p>5.请写出查看内存命令（以人类易读方式显示）</p> <p>free -h</p> <p>6.请写出系统存放网卡配置文件路径</p> <p>/etc/sysconfig/network-scripts/</p> <p>7.请写出查看网卡配置信息命令</p> <p>ifconfig（如果系统最小化安装，需要安装net-tools）</p> <p>ip a （ip address）</p> <p>8.请写出系统存放主机名配置文件</p> <p>/etc/hostname</p> <p>9.请写出查看主机名命令</p> <p>cat /etc/hostname</p> <p>hostname</p> <p>10.将主机名修改为student（永久修改）</p> <p>hostnamectl set-hostname student</p> <p>vim /etc/hostname</p> <p>echo student &gt; /etc/hostname</p> <p>11.请写出vim的三种模式</p> <p>命令模式</p> <p>输入模式</p> <p>底线命令模式（末行模式）</p> <p>12.将/etc/passwd文件复制到/opt目录，使用vim打开文件并显示行号</p> <p>cp /etc/passwd /opt</p> <p>vim /opt/passwd</p> <p>:set nu</p> <p>13.使用vim在/opt/passwd文件中搜索包含root关键字的行</p> <p>/root</p> <p>14.使用vim在/opt/passwd文件中将光标快速跳转到第10行，并将光标跳转到行尾</p> <p>:10  $</p> <p>15.使用vim在/opt/passwd文件中快速跳转到文件最后一行并删除，在将光标跳转到文件第一行，将刚刚删除的行复制到文件第二行</p> <p>G     dd  p</p> <p>16.使用vim将/etc/hostname文件内容读入到/opt/passwd文件最后一行下</p> <p>:r  /etc/hostname</p> <p>17.使用vim在/opt/passwd文件中复制前5行内容并粘贴到文件最后一行下</p> <p>5yy p</p> <p>18.将本次vim的修改恢复至初始状态，并保存退出</p> <p>u</p> <p>:wq</p> <p>19.将本机IP地址修改为192.168.0.100，并重启动网卡</p> <p>vim /etc/sysconfig/network-scripts/ifcfg-ens32</p> <p>systemctl restart network</p> <p>20.如何获取一个域名所对应的IP地址</p> <p>host www.baidu.com</p> <p>21.如何检测本机使用的DNS是否可用</p> <p>nslookup www.jd.com</p> <p>22.请将hostname命令设置别名为hn（临时设置）</p> <p>alias hn=hostname</p> <p>23.取消hostname命令别名</p> <p>unalias hn</p> <p>24.如何查看本机历史命令</p> <p>history</p> <p>25.执行命令历史中第20条命令</p> <p>!20</p> <p>26.删除命令历史中第5条命令</p> <p>history -d 5</p> <p>27.清空所有历史命令</p> <p>history -c</p> <p>rm -rf .bash_history</p> <p>28.查看本机当前系统日期与时间</p> <p>date</p> <p>29.将本机日期时间设置与你当前时间一致</p> <p>date -s '2021-04-10 14:32:00'</p> <p>30.统计/etc/passwd文件行数，并将命令输出结果重定向至/opt/pass.bak文件中</p> <p>wc -l /etc/passwd &gt; /opt/pass.bak</p> <p>31.显示/etc/passwd文件末尾10行的前5行内容，并将输出结果追加至/opt/pass.bak文件中</p> <p>tail -10 /etc/passwd | head -5 &gt; /opt/pass.bak</p> <p>cat -n /etc/passwd | tail -10 | head -5 &gt;&gt; /opt/pass.bak</p> <h4 id="用户账号管理"><a href="#用户账号管理" class="header-anchor">#</a> 用户账号管理</h4> <ul><li>用户账号的作用：用户账号可用来登录系统，可以实现访问控制</li> <li>用户模板目录：/etc/skel/</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls -a /etc/skel/</span>
<span class="token builtin class-name">.</span>  <span class="token punctuation">..</span>  .bash_logout  .bash_profile  .bashrc  .mozilla

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cd /etc/skel/</span>
<span class="token punctuation">[</span>root@localhost skel<span class="token punctuation">]</span><span class="token comment"># vim prompt</span>
</code></pre></div><h4 id="useradd创建用户"><a href="#useradd创建用户" class="header-anchor">#</a> useradd创建用户</h4> <ul><li><p>useradd 命令用于创建新的用户</p></li> <li><p>命令格式：useradd [-选项] 用户名</p></li> <li><p>常用选项：</p> <ul><li><p>-u 指定用户UID</p></li> <li><p>-d 指定用户家目录（了解）</p></li> <li><p>-c 用户描述信息</p></li> <li><p>-g 指定用户基本组（了解）</p></li> <li><p>-G 指定用户附加组</p></li> <li><p>-s 指定用户的解释器程序</p></li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># useradd user1</span>

<span class="token comment">#创建用户并指定用户的UID</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># useradd -u 1100 user2</span>

<span class="token comment">#创建用户并指定用户的家目录</span>
root@localhost ~<span class="token punctuation">]</span><span class="token comment"># useradd -d /opt/user3 user3</span>

<span class="token comment">#创建用户并指定UID与用户描述信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># useradd -u 1400  -c yunwei user4</span>

<span class="token comment">#创建test组</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># groupadd test</span>

<span class="token comment">#创建用户指定用户UID、描述信息、基本组</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># useradd -u 1500 -c xxoo@163.com -g test user5</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># id user5</span>

<span class="token comment">#创建用户指定用户UID、描述信息、附加组</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># useradd -u 1600 -c yunwei -G test xiaozhang</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># id xiaozhang</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1600</span><span class="token punctuation">(</span>xiaozhang<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1600</span><span class="token punctuation">(</span>xiaozhang<span class="token punctuation">)</span> 组<span class="token operator">=</span><span class="token number">1600</span><span class="token punctuation">(</span>xiaozhang<span class="token punctuation">)</span>,1401<span class="token punctuation">(</span>test<span class="token punctuation">)</span>

<span class="token comment">#/sbin/nologin ：禁止用户登录系统</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># useradd -u 1800 -c test -s /sbin/nologin user8</span>
user8:x:1800:1800:test:/home/user8:/sbin/nologin
</code></pre></div><h4 id="id命令"><a href="#id命令" class="header-anchor">#</a> id命令</h4> <ul><li><p>id 命令用于查看系统用户和用户所在组的信息</p></li> <li><p>命令格式：id [-选项] [用户名]</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># id user1</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span> 组<span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span>
</code></pre></div><h4 id="etc-passwd用户信息文件"><a href="#etc-passwd用户信息文件" class="header-anchor">#</a> /etc/passwd用户信息文件</h4> <p>用户的基本信息存放在/etc/passwd文件</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/passwd</span>
root:x:0:0:root:/root:/bin/bash
<span class="token comment">#每个字段含义解释：用户名:密码占位符:UID:基本组GID:用户描述信息:家目录:解释器程序</span>
<span class="token environment constant">UID</span>：0 超级用户
<span class="token environment constant">UID</span>：1-999 系统伪用户，不能登录系统
<span class="token environment constant">UID</span>：1000-65535 普通用户，管理员创建的用户
</code></pre></div><p>组：</p> <p>基本组（初始组）：一个用户只允许有一个基本组</p> <p>附加组（在基本组之外组）：一个用户可以允许有多个附加组</p> <p>用户---&gt;shell程序---&gt;内核---&gt;硬件</p> <h4 id="etc-default-useradd文件"><a href="#etc-default-useradd文件" class="header-anchor">#</a> /etc/default/useradd文件</h4> <p>/etc/default/useradd 存放用户默认值信息</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/default/useradd</span>
<span class="token comment"># useradd defaults file</span>
<span class="token assign-left variable">GROUP</span><span class="token operator">=</span><span class="token number">100</span> <span class="token comment">#用户默认组</span>
<span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span>/home <span class="token comment">#用户家目录</span>
<span class="token assign-left variable">INACTIVE</span><span class="token operator">=</span>-1 <span class="token comment">#密码过期宽限天数（/etc/shadow文件第7个字段）</span>
<span class="token assign-left variable">EXPIRE</span><span class="token operator">=</span> <span class="token comment">#密码失效时间（/etc/shadow文件第8个字段）</span>
<span class="token assign-left variable"><span class="token environment constant">SHELL</span></span><span class="token operator">=</span>/bin/bash <span class="token comment">#默认使用的</span>
<span class="token assign-left variable">SKEL</span><span class="token operator">=</span>/etc/skel <span class="token comment">#模板目录</span>
<span class="token assign-left variable">CREATE_MAIL_SPOOL</span><span class="token operator">=</span>yes <span class="token comment">#是否建立邮箱</span>
</code></pre></div><h4 id="var-spool-mail-用户邮件目录"><a href="#var-spool-mail-用户邮件目录" class="header-anchor">#</a> /var/spool/mail/用户邮件目录</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /var/spool/mail/</span>
laowang  lisi  rpc  user1  user2  user3  user4  user5  user8  xiaozhang

<span class="token comment">#查看邮件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mail</span>
</code></pre></div><h4 id="passwd设置用户密码"><a href="#passwd设置用户密码" class="header-anchor">#</a> passwd设置用户密码</h4> <ul><li>passwd命令用于设置用户密码</li> <li>命令格式：passwd [-选项] [用户名]</li> <li>密码规范：长度不能少于8个字符，复杂度（数字、字母区分大小写，特殊字符）</li> <li>密码规范：本次修改的密码不能和上次修改的密码太相近</li> <li>常用选项
<ul><li>-S 查看密码信息</li> <li>-l 锁定用户密码</li> <li>-u 解锁用户密码</li> <li>-d 删除密码</li> <li>--stdin 通过管道方式设置用户密码</li></ul></li> <li>非交互设置用户密码</li> <li>命令格式：echo '密码' | passwd --stdin 用户名</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#设置用户密码</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># passwd user1</span>
更改用户 user1 的密码 。
新的 密码：1
无效的密码： 密码是一个回文
重新输入新的 密码：1
passwd：所有的身份验证令牌已经成功更新。

<span class="token comment">#使用user1用户登录系统</span>
<span class="token punctuation">[</span>user1@localhost ~<span class="token punctuation">]</span>$ <span class="token function">ls</span>
prompt
<span class="token punctuation">[</span>user1@localhost ~<span class="token punctuation">]</span>$ <span class="token function">cat</span> prompt 
不允许随便修改系统xx文件！
有问题可联系管理员邮箱：xxoo@163.com

<span class="token comment">#查看用户密码信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># passwd -S user1</span>

<span class="token comment">#锁定用户当密码</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># passwd -l user2</span>
锁定用户 user2 的密码 。
passwd: 操作成功

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># passwd -S user2</span>
user2 LK <span class="token number">2021</span>-04-10 <span class="token number">0</span> <span class="token number">99999</span> <span class="token number">7</span> <span class="token parameter variable">-1</span> <span class="token punctuation">(</span>密码已被锁定。<span class="token punctuation">)</span>

<span class="token comment">#解锁用户密码</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># passwd -u user2</span>
解锁用户 user2 的密码。
passwd: 操作成功

<span class="token comment">#删除用户密码</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># passwd -d user2</span>
清除用户的密码 user2。
passwd: 操作成功

<span class="token comment">#非交互设置用户密码</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo 1 | passwd --stdin laowang</span>
更改用户 laowang 的密码 。
passwd：所有的身份验证令牌已经成功更新。
</code></pre></div><h4 id="etc-shadow用户密码文件"><a href="#etc-shadow用户密码文件" class="header-anchor">#</a> /etc/shadow用户密码文件</h4> <ul><li>用户的密码信息存放在/etc/shadow文件中，该文件默认任何人都没有任何权限（不包括root）</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/shadow</span>
root:<span class="token variable">$6</span><span class="token variable">$1ji5e8yglrZWAcI6</span><span class="token variable">$FONKr3qebZufQ</span>.u0Mf/MbipzGw/MVvxS.vgXcy/duc4b/GU0U7tfe37wPQ4XJEXstqBuwvaJqq2/kY/g/783u/::0:99999:7:::
<span class="token comment">#每个字段含义解释：</span>
第一字段：用户名
第二字段：密码加密字符串，加密算法为SHA512散列加密算法，如果密码位是“*”或者“<span class="token operator">!</span><span class="token operator">!</span>”表示密码已过期
第三个字段：密码最后一次修改日期，日期从1970年1月1日起，每过一天时间戳加1
第四个字段：密码修改的期限，如果该字段为0表示随时可以修改密码，例如：该字段为10，代表10天之内不可以修改密
第五个字段：密码有效期
第六个字段：密码到期前警告时间（和第五个字段相比）
第七个字段：密码过期后的宽限天数（和第五个字段相比）
第八个字段：账号失效时间，日期从1970年1月1日起
第九个字段：保留

<span class="token comment">#chage命令用于修改/etc/shadow文件信息，修改文件内容第三个字段（密码最后一次修改时间）</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chage -d 0 user8</span>
</code></pre></div><h4 id="su命令"><a href="#su命令" class="header-anchor">#</a> su命令</h4> <ul><li><p>su命令用于切换当前用户身份到其他用户身份</p></li> <li><p>命令格式：su [-选项] [用户名]</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#只切换用户身份，环境没有改变</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># su user1</span>
<span class="token punctuation">[</span>user1@localhost root<span class="token punctuation">]</span>$ <span class="token function">ls</span>
ls: 无法打开目录.: 权限不够
<span class="token punctuation">[</span>user1@localhost root<span class="token punctuation">]</span>$ <span class="token builtin class-name">cd</span>
<span class="token punctuation">[</span>user1@localhost ~<span class="token punctuation">]</span>$ <span class="token builtin class-name">exit</span>
<span class="token builtin class-name">exit</span>

<span class="token comment">#切换用户身份，连同环境一起切换</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># su - user1</span>
上一次登录：六 <span class="token number">4</span>月 <span class="token number">10</span> <span class="token number">16</span>:54:40 CST 2021pts/1 上
<span class="token punctuation">[</span>user1@localhost ~<span class="token punctuation">]</span>$ <span class="token builtin class-name">pwd</span>
/home/user1

<span class="token comment">#普通用户切换为root（需要输入root用户的密码）</span>
<span class="token punctuation">[</span>user1@localhost ~<span class="token punctuation">]</span>$ <span class="token function">su</span> - root
密码：
上一次登录：六 <span class="token number">4</span>月 <span class="token number">10</span> <span class="token number">16</span>:05:17 CST <span class="token number">2021</span>从 <span class="token number">192.168</span>.0.1pts/2 上
</code></pre></div><h4 id="usermod修改用户属性"><a href="#usermod修改用户属性" class="header-anchor">#</a> usermod修改用户属性</h4> <ul><li><p>usermod 命令用于修改已存在用户的基本信息</p></li> <li><p>命令格式：usermod [-选项] 用户名</p></li> <li><p>常用选项：</p> <ul><li>-u 修改用户UID</li> <li>-d 修改用户家目录</li> <li>-g 修改用户基本组</li> <li>-c 修改用户描述信息</li> <li>-G 添加用户附加组</li> <li>-s 修改用户shell</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#修改用户UID（用户如果以登录系统，不允许修改）</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># usermod -u 1111 user1</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># id user1</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1111</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span> 组<span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span>

<span class="token comment">#修改用户描述信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># usermod -c xxoo@163.com user8</span>

<span class="token comment">#修改用户的附加组</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># usermod -G test user8</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># id user8</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1800</span><span class="token punctuation">(</span>user8<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1800</span><span class="token punctuation">(</span>user8<span class="token punctuation">)</span> 组<span class="token operator">=</span><span class="token number">1800</span><span class="token punctuation">(</span>user8<span class="token punctuation">)</span>,1401<span class="token punctuation">(</span>test<span class="token punctuation">)</span>

<span class="token comment">#修改用户的解释器</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># usermod -s /bin/bash user8</span>
</code></pre></div><h4 id="userdel删除用户"><a href="#userdel删除用户" class="header-anchor">#</a> userdel删除用户</h4> <ul><li><p>userdel 用于删除给定的用户以及与用户相关的文件，该命令若不加选项仅删除用户账号，不删除用户的家目录</p></li> <li><p>命令格式：userdel [-选项] 用户名</p></li> <li><p>常用选项：</p> <ul><li>-r 删除用户同时，并删除用户的家目录</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#删除用户，仅删除账号，不删除家目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># userdel user8</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /home</span>
laowang  lisi  user1  user2  user4  user5  user8  xiaozhang
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># id user8</span>
id: user8: no such user

<span class="token comment">#删除用户，连同用户家目录一并删掉</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># userdel -r user4</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /home</span>
laowang  lisi  user1  user2  user5  user8  xiaozhang
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># id user4</span>
id: user4: no such user
</code></pre></div><h4 id="groupadd添加新组"><a href="#groupadd添加新组" class="header-anchor">#</a> groupadd添加新组</h4> <ul><li><p>groupadd 用于创建一个新的工作组，新组的信息将被添加到/etc/group文件中</p></li> <li><p>命令格式：groupadd [-选项] 组名</p></li> <li><p>常用选项：</p> <ul><li>-g GID                     #指定组的GID</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#创建组</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># groupadd -g 1555 student</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/group</span>
</code></pre></div><h4 id="etc-group组信息文件"><a href="#etc-group组信息文件" class="header-anchor">#</a> /etc/group组信息文件</h4> <ul><li>组信息存放在/etc/group文件中</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/group</span>
root:x:0:
<span class="token comment">#每个字段含义解释：组名:组密码占位符:GID:组中附加用户</span>
</code></pre></div><h4 id="etc-gshadow组密码文件"><a href="#etc-gshadow组密码文件" class="header-anchor">#</a> /etc/gshadow组密码文件</h4> <ul><li>组密码信息存放在/etc/gshadow文件中</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/gshadow</span>
root:::
<span class="token comment">#每个字段含义解释：组名:组密码:组内管理员:组中附加用户</span>
</code></pre></div><h4 id="groupmod修改组属性"><a href="#groupmod修改组属性" class="header-anchor">#</a> groupmod修改组属性</h4> <ul><li><p>groupmod 用于修改指定工作组属性</p></li> <li><p>命令格式：groupmod [-选项] 组名</p></li> <li><p>常用选项：</p> <ul><li>-g GID      #修改组的GID</li> <li>-n 新组名  #修改组名</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#修改组名</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># groupmod -n stugrp student</span>

<span class="token comment">#修改组GID</span>
root@localhost ~<span class="token punctuation">]</span><span class="token comment"># groupmod -g 1666 stugrp</span>
</code></pre></div><h4 id="gpasswd组管理命令"><a href="#gpasswd组管理命令" class="header-anchor">#</a> gpasswd组管理命令</h4> <ul><li><p>gpasswd 是Linux工作组文件/etc/group和/etc/gshadow管理工具，用于将用户添加到组或从组中删除</p></li> <li><p>命令格式：gpasswd [-选项] 用户名 组名</p></li> <li><p>常用选项：</p> <ul><li>-a  #将用户添加到工作组</li> <li>-d  #将用户从工作组中删除</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#创建用户</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># useradd hary</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># useradd tom</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># useradd natasha</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># useradd kenji</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># useradd jack</span>

<span class="token comment">#讲用户加入到组</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># gpasswd -a hary stugrp</span>
正在将用户“hary”加入到“stugrp”组中
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># gpasswd -a tom stugrp</span>
正在将用户“tom”加入到“stugrp”组中
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># gpasswd -a kenji stugrp</span>
正在将用户“kenji”加入到“stugrp”组中
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># gpasswd -a natasha stugrp</span>
正在将用户“natasha”加入到“stugrp”组中
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># gpasswd -a jack stugrp</span>
正在将用户“jack”加入到“stugrp”组中
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># </span>

<span class="token comment">#查看组文件信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/group</span>
stugrp:x:1666:hary,tom,kenji,natasha,jack

<span class="token comment">#将用户从组中删除</span>
root@localhost ~<span class="token punctuation">]</span><span class="token comment"># gpasswd -d tom stugrp</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># gpasswd -d hary stugrp</span>
正在将用户“hary”从“stugrp”组中删除
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># gpasswd -d jack stugrp</span>
正在将用户“jack”从“stugrp”组中删除
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># gpasswd -d kenji stugrp</span>
正在将用户“kenji”从“stugrp”组中删除
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/group</span>
</code></pre></div><h4 id="groupdel删除组"><a href="#groupdel删除组" class="header-anchor">#</a> groupdel删除组</h4> <ul><li><p>groupdel 用于删除指定工作组</p></li> <li><p>命令格式：groupdel 组名</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># groupdel stugrp</span>
</code></pre></div><h4 id="chmod权限管理"><a href="#chmod权限管理" class="header-anchor">#</a> chmod权限管理</h4> <ul><li>chmod（英文全拼：change mode）设置用户对文件的权限</li> <li>命令格式：chmod [-选项] 归属关系+-=权限类别 文件...</li> <li>常用选项：
<ul><li>-R 递归修改目录下所有的子文件与子目录的权限与父目录相同</li></ul></li> <li>归属关系：u 所有者  g 所属组  o 其他人</li> <li>权限类别： r 读取 w 写入 x 执行 - 没有权限</li> <li>操作：+ 添加权限 - 去除权限 = 重新定义权限</li> <li>权限数字表示：r ---- 4   w ---- 2  x ---- 1   0 没有权限</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#查看文件详细属性</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello

<span class="token comment">#为文件所有者添加执行权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod u+x hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-rwxr--r--. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello

<span class="token comment">#为文件所属组添加写权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod g+w hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-rwxrw-r--. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello

<span class="token comment">#为文件其他人添加写权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod o+w hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-rwxrw-rw-. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello

<span class="token comment">#使用（逗号）可以同时为多个用户授权</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod g+x,o+x hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-rwxrwxrwx. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello

<span class="token comment">#去除所有者执行权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod u-x hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-rw-rwxrwx. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello

<span class="token comment">#去除所属组执行权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod g-x hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-rw-rw-rwx. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello

<span class="token comment">#去除其他人执行权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod o-x hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-rw-rw-rw-. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello

<span class="token comment">#同时去除ugo写权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod u-w,g-w,o-w hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-r--r--r--. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello

<span class="token comment">#重新定义所有者权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod u=rwx hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-rwxr--r--. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello

<span class="token comment">#重新定义所属组权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod g=rwx hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-rwxrwxr--. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello

<span class="token comment">#重新定义其他人权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod o=rwx hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-rwxrwxrwx. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello

<span class="token comment">#创建目录并设置目录权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /test</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test</span>
drwxr-xr-x. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:30 /test

<span class="token comment">#为目录所属组添加写权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod g+w /test</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test</span>
drwxrwxr-x. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:30 /test

<span class="token comment">#为目录其他人添加写权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod o+w /test</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test</span>
drwxrwxrwx. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:30 /test
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># </span>

<span class="token comment">#重新定义所有用户权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod u=rwx,g=rx,o=rx /test</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test</span>
drwxr-xr-x. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:30 /test

<span class="token comment">#同时为所有用户定义相同权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod ugo=rwx /test</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test</span>
drwxrwxrwx. <span class="token number">2</span> root root <span class="token number">21</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:37 /test

<span class="token comment">#权限数字定义方式</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-rwxrwxrwx. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello
所有者：rwx   <span class="token number">4</span>+2+1<span class="token operator">=</span><span class="token number">7</span>
所属组：r     <span class="token number">4</span>
其他人：r     <span class="token number">4</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod 744 hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-rwxr--r--. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello

所有者：rw <span class="token number">4</span>+2<span class="token operator">=</span><span class="token number">6</span>
所属组：rw <span class="token number">4</span>+2<span class="token operator">=</span><span class="token number">6</span>
其他人：--- <span class="token number">0</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod 660 hello</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll hello</span>
-rw-rw----. <span class="token number">1</span> root root <span class="token number">426</span> <span class="token number">3</span>月  <span class="token number">28</span> <span class="token number">15</span>:00 hello

所有者：rwx <span class="token number">4</span>+2+1<span class="token operator">=</span><span class="token number">7</span>
所属组：wx  <span class="token number">2</span>+1<span class="token operator">=</span><span class="token number">3</span>
其他人：--- <span class="token number">0</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch /hello.txt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /hello.txt </span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">0</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:45 /hello.txt
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod 730 /hello.txt </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /hello.txt </span>
-rwx-wx---. <span class="token number">1</span> root root <span class="token number">0</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:45 /hello.txt

<span class="token comment">#去除所有用户权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod 000 /hello.txt </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /hello.txt </span>
----------. <span class="token number">1</span> root student <span class="token number">0</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:45 /hello.txt

<span class="token comment">#递归修改目录下所有子文件与子目录权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test</span>
drwxrwxrwx. <span class="token number">2</span> root root <span class="token number">21</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:37 /test

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /test/xxoo</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test/xxoo/</span>
drwxr-xr-x. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:54 /test/xxoo/

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /test/abc.txt </span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">0</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:37 /test/abc.txt
<span class="token comment">#默认用户在该目录下创建文件权限与父目录不一致</span>

<span class="token comment">#递归修改目录下所有子文件与子目录权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod -R 777 /test</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /test/abc.txt </span>
-rwxrwxrwx. <span class="token number">1</span> root root <span class="token number">0</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:37 /test/abc.txt
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test/xxoo</span>
drwxrwxrwx. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:54 /test/xxoo

<span class="token comment">#深入理解权限，</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /test1</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod 777 /test1</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test1</span>
drwxrwxrwx. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:57 /test1

<span class="token comment">#在该目录下创建文件与目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch /test1/root.txt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /test1/rootbak</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod o=rx /test1</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test1</span>
drwxrwxr-x. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:59 /test1
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch /test1/root.txt</span>

<span class="token comment">#普通用户对该目录如果拥有rwx权限是可以删除该目录下任何用户创建的文件（包括root）</span>
<span class="token punctuation">[</span>user1@localhost ~<span class="token punctuation">]</span>$ <span class="token builtin class-name">cd</span> /test1
<span class="token punctuation">[</span>user1@localhost test1<span class="token punctuation">]</span>$ <span class="token function">ls</span>
root.txt
<span class="token punctuation">[</span>user1@localhost test1<span class="token punctuation">]</span>$ ll root.txt 
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">0</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:57 root.txt
<span class="token punctuation">[</span>user1@localhost test1<span class="token punctuation">]</span>$ <span class="token function">rm</span> <span class="token parameter variable">-rf</span> root.txt 
<span class="token punctuation">[</span>user1@localhost test1<span class="token punctuation">]</span>$ <span class="token function">ls</span>
rootbak
<span class="token punctuation">[</span>user1@localhost test1<span class="token punctuation">]</span>$ <span class="token function">rm</span> <span class="token parameter variable">-rf</span> rootbak/
<span class="token punctuation">[</span>user1@localhost test1<span class="token punctuation">]</span>$ <span class="token function">ls</span>
<span class="token punctuation">[</span>user1@localhost test1<span class="token punctuation">]</span>$ ll <span class="token parameter variable">-d</span> /test1
drwxrwxrwx. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:59 /test1

总结：
<span class="token number">1</span>.用户对文件拥有rwx权限
r：查看文件内容
w：对文件内容拥有增删改权限，并不能删除文件，删除文件取决于对文件的父目录有没有rwx权限
x：执行文件写权限可以增加/修改/删除文件里内容

<span class="token number">2</span>.用户对目录拥有rwx权限
r：查看目录下内容
w：在该目录创建文件，修改文件属性，删除任何用户的文件（包括root）
x：可以切换到该目录
</code></pre></div><h4 id="umask预设权限"><a href="#umask预设权限" class="header-anchor">#</a> umask预设权限</h4> <ul><li>umask用于显示或设置创建文件的权限掩码</li> <li>命令格式：umask [-p] [-S] [mode]</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /test2</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test2</span>
drwxr-xr-x. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">15</span>:05 /test2
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># umask --help</span>
umask: 用法:umask <span class="token punctuation">[</span>-p<span class="token punctuation">]</span> <span class="token punctuation">[</span>-S<span class="token punctuation">]</span> <span class="token punctuation">[</span>模式<span class="token punctuation">]</span>

<span class="token comment">#查看目录默认权限掩码，以数字形式显示</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># umask -p</span>
<span class="token builtin class-name">umask</span> 0022

<span class="token comment">#查看目录默认权限掩码，以字母形式显示</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># umask -S</span>
<span class="token assign-left variable">u</span><span class="token operator">=</span>rwx,g<span class="token operator">=</span>rx,o<span class="token operator">=</span>rx

<span class="token comment">#设置目录默认权限掩码，为所属组添加写权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># umask g+w </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /test3</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test3</span>
drwxrwxr-x. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">15</span>:09 /test3

<span class="token comment">#去除目录默认权限掩码</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># umask g-w </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /test4</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test4</span>
drwxr-xr-x. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">15</span>:10 /test4
</code></pre></div><h4 id="chown归属关系管理"><a href="#chown归属关系管理" class="header-anchor">#</a> chown归属关系管理</h4> <ul><li><p>chown（英文全拼：change owner）用于设置文件的所有者和所属组关系</p></li> <li><p>命令格式：</p> <ul><li>chown [-选项] 所有者:所属组 文档                  #同时修改所有者和所属组身份</li> <li>chown [-选项] 所有者 文档                               #只修改所有者身份</li> <li>chown [-选项] :所属组 文档                               #只修改所属组身份</li></ul></li> <li><p>常用选项：</p> <ul><li>-R 递归修改</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#创建文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod 744 /hello.txt </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /hello.txt </span>
-rwxr--r--. <span class="token number">1</span> root student <span class="token number">0</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:45 /hello.txt

<span class="token comment">#修改文件所有者为user1用户</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chown user1 /hello.txt </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /hello.txt </span>
-rwxr--r--. <span class="token number">1</span> user1 student <span class="token number">0</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:45 /hello.txt

<span class="token comment">#修改文件所有者与所属组为lisi</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chown lisi:lisi /hello.txt </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /hello.txt </span>
-rwxr--r--. <span class="token number">1</span> lisi lisi <span class="token number">4</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">15</span>:26 /hello.txt

<span class="token comment">#创建目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /test5</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test5</span>
drwxr-xr-x. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">15</span>:30 /test5

<span class="token comment">#修改目录所有者与所属组为lisi</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chown lisi:lisi /test5</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test5</span>
drwxr-xr-x. <span class="token number">2</span> lisi lisi <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">15</span>:30 /test5

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch /test5/root.txt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /test5/root.txt </span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">0</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">15</span>:31 /test5/root.txt

<span class="token comment">#递归修目录下所有子文件与子目录归属关系</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chown -R lisi:lisi /test5</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /test5/root.txt </span>
-rw-r--r--. <span class="token number">1</span> lisi lisi <span class="token number">0</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">15</span>:31 /test5/root.txt
</code></pre></div><h4 id="setuid特殊权限"><a href="#setuid特殊权限" class="header-anchor">#</a> SetUID特殊权限</h4> <ul><li><p>SetUID（SUID）：对于一个可执行的文件用了SUID权限后，普通用户在执行该文件后，临时拥有文件所有者的身份，该权限只在程序执行过程中有效，程序执行完毕后用户恢复原有身份</p></li> <li><p>SetUID权限会附加在所有者的 x 权限位上，所有者的 x 权限标识会变成 s</p></li> <li><p>设置SetUID命令格式：chmod u+s 文件名</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#搜索命令绝对路径</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># which passwd</span>
/usr/bin/passwd
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /usr/bin/passwd </span>
-rwsr-xr-x. <span class="token number">1</span> root root <span class="token number">27832</span> <span class="token number">6</span>月  <span class="token number">10</span> <span class="token number">2014</span> /usr/bin/passwd

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># which cat</span>
/usr/bin/cat
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /usr/bin/cat</span>
-rwxr-xr-x. <span class="token number">1</span> root root <span class="token number">54160</span> <span class="token number">10</span>月 <span class="token number">31</span> <span class="token number">2018</span> /usr/bin/cat

<span class="token comment">#普通用户使用cat命令是默认无法查看/etc/shadow文件内容</span>
<span class="token punctuation">[</span>lisi@localhost ~<span class="token punctuation">]</span>$ <span class="token function">cat</span> /etc/shadow
cat: /etc/shadow: 权限不够

<span class="token comment">#设置SUID权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod u+s /usr/bin/cat</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /usr/bin/cat</span>
-rwsr-xr-x. <span class="token number">1</span> root root <span class="token number">54160</span> <span class="token number">10</span>月 <span class="token number">31</span> <span class="token number">2018</span> /usr/bin/cat

<span class="token comment">#普通用户再次使用cat命令时临时获取文件所有者身份</span>
<span class="token punctuation">[</span>lisi@localhost ~<span class="token punctuation">]</span>$ <span class="token function">cat</span> /etc/shadow

<span class="token comment">#去除SUID权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod u-s /usr/bin/cat</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /usr/bin/cat</span>
-rwxr-xr-x. <span class="token number">1</span> root root <span class="token number">54160</span> <span class="token number">10</span>月 <span class="token number">31</span> <span class="token number">2018</span> /usr/bin/cat

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># which vim</span>
/usr/bin/vim

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /usr/bin/vim</span>
-rwxr-xr-x. <span class="token number">1</span> root root <span class="token number">2294208</span> <span class="token number">10</span>月 <span class="token number">31</span> <span class="token number">2018</span> /usr/bin/vim

<span class="token comment">#为vim设置SUID权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod u+s /usr/bin/vim</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /usr/bin/vim</span>
-rwsr-xr-x. <span class="token number">1</span> root root <span class="token number">2294208</span> <span class="token number">10</span>月 <span class="token number">31</span> <span class="token number">2018</span> /usr/bin/vim

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /etc/passwd</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">2737</span> <span class="token number">4</span>月  <span class="token number">10</span> <span class="token number">17</span>:26 /etc/passwd

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod u-s /usr/bin/vim</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/passwd</span>
</code></pre></div><h4 id="setgid特殊权限"><a href="#setgid特殊权限" class="header-anchor">#</a> SetGID特殊权限</h4> <ul><li><p>SetGID（SGID）：当对一个可执行的程序文件设置了SGID后，普通用户在执行该文件时临时拥有其所属组的权限，该权限只在程序执行过程中有效，程序执行完毕后用户恢复原有组身份</p></li> <li><p>当对一个目录作设置了SGID权限后，普通用户在该目录下创建的文件的所属组，均与该目录的所属组相同</p></li> <li><p>SetGID权限会附加在所属组的 x 权限位上，所属组的 x 权限标识会变成 s</p></li> <li><p>设置SetGID命令格式：chmod g+s 文件名</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /test6</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod 777 /test6</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test6</span>
drwxrwxrwx. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">15</span>:59 /test6

<span class="token comment">#为目录设置SGID权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod g+s /test6</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test6</span>
drwxrwsrwx. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">15</span>:59 /test6
<span class="token comment">#SGID权限会附加在所属组执行权限位，所属组执行权限变为s</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch /test6/1.txt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /test6/1.txt </span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">0</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">16</span>:00 /test6/1.txt

<span class="token comment">#修改目录所属组为lisi组</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chown :lisi /test6</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test6</span>
drwxrwsrwx. <span class="token number">2</span> root lisi <span class="token number">19</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">16</span>:00 /test6

<span class="token comment">#SGID对目录设置后，在该目录下创建的任何文件都会继承父目录的所属组</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># touch /test6/2.txt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /test6/2.txt </span>
-rw-r--r--. <span class="token number">1</span> root lisi <span class="token number">0</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">16</span>:01 /test6/2.txt
</code></pre></div><h4 id="sticky-bit特殊权限"><a href="#sticky-bit特殊权限" class="header-anchor">#</a> Sticky BIT特殊权限</h4> <ul><li><p>Sticky BIT（SBIT）：该权限只针对于目录有效，当普通用户对一个目录拥有rwx权限时，普通用户可以在此目录下拥有增删改的权限，应为普通用户对目录拥有rwx权限时，是可以删除此目录下的所有文件</p></li> <li><p>如果对一个目录设置了SBIT权限，除了root可以删除所有文件以外，普通用户就算对该目录拥有rwx权限，也只能删除自己建立的文件，不能删除其他用户建立的文件</p></li> <li><p>SBIT权限会附加在其他人的 x 权限位上，其他人的 x 权限标识会变成 t</p></li> <li><p>设置SBIT命令格式：chmod o+t 目录名</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#为目录设置SBIT</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod o+t /test</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test</span>
drwxrwxrwt. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">16</span>:07 /test

<span class="token punctuation">[</span>lisi@localhost test<span class="token punctuation">]</span>$ <span class="token function">ls</span>
kenji.txt  laowang.txt  lisi.txt

<span class="token punctuation">[</span>lisi@localhost test<span class="token punctuation">]</span>$ <span class="token function">rm</span> <span class="token parameter variable">-rf</span> *
rm: 无法删除<span class="token string">&quot;kenji.txt&quot;</span><span class="token builtin class-name">:</span> 不允许的操作
rm: 无法删除<span class="token string">&quot;laowang.txt&quot;</span><span class="token builtin class-name">:</span> 不允许的操作
</code></pre></div><h4 id="facl访问控制列表"><a href="#facl访问控制列表" class="header-anchor">#</a> FACL访问控制列表</h4> <ul><li><p>FACL（Filesystemctl Access Control List）文件系统访问控制列表：利用文件扩展属性保存额外的访问控制权限，单独为每一个用户量身定制一个权限</p></li> <li><p>命令格式：setfacl 选项 归属关系:用户名:权限 文档</p></li> <li><p>常用选项：</p> <ul><li>-m 设置权限</li> <li>-x  删除指定用户权限</li> <li>-b  删除所有用户权限</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#为natasha用户设置ACL权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># setfacl -m u:natasha:rx /yunwei/</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /yunwei/</span>
drwxrwx---+ <span class="token number">2</span> root yunwei <span class="token number">54</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">16</span>:43 /yunwei/
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /test</span>
drwxrwxrwt. <span class="token number">2</span> root root <span class="token number">42</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">16</span>:11 /test

<span class="token comment">#查看目录ACL权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># getfacl /yunwei</span>
getfacl: Removing leading <span class="token string">'/'</span> from absolute path names
<span class="token comment"># file: yunwei</span>
<span class="token comment"># owner: root</span>
<span class="token comment"># group: yunwei</span>
user::rwx
user:natasha:r-x
group::rwx
mask::rwx
other::---

<span class="token comment">#用户测试权限</span>
<span class="token punctuation">[</span>natasha@localhost ~<span class="token punctuation">]</span>$ <span class="token function">ls</span> /yunwei/
hell.sh  kenji.txt  lisi.txt
<span class="token punctuation">[</span>natasha@localhost yunwei<span class="token punctuation">]</span>$ <span class="token function">rm</span> <span class="token parameter variable">-rf</span> kenji.txt 
rm: 无法删除<span class="token string">&quot;kenji.txt&quot;</span><span class="token builtin class-name">:</span> 权限不够
<span class="token punctuation">[</span>natasha@localhost yunwei<span class="token punctuation">]</span>$ <span class="token function">touch</span> natasha.txt
touch: 无法创建<span class="token string">&quot;natasha.txt&quot;</span><span class="token builtin class-name">:</span> 权限不够
<span class="token punctuation">[</span>natasha@localhost yunwei<span class="token punctuation">]</span>$ <span class="token function">vim</span> kenji.txt 


<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># setfacl -m u:tom:rx /yunwei</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># setfacl -m u:jack:rx /yunwei</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># setfacl -m u:hary:rx /yunwei</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># getfacl /yunwei</span>
getfacl: Removing leading <span class="token string">'/'</span> from absolute path names
<span class="token comment"># file: yunwei</span>
<span class="token comment"># owner: root</span>
<span class="token comment"># group: yunwei</span>
user::rwx
user:hary:r-x
user:tom:r-x
user:natasha:r-x
user:jack:r-x
group::rwx
mask::rwx
other::---

<span class="token comment">#删除指定用户ACL权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># setfacl -x u:tom /yunwei</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># getfacl /yunwei</span>
getfacl: Removing leading <span class="token string">'/'</span> from absolute path names
<span class="token comment"># file: yunwei</span>
<span class="token comment"># owner: root</span>
<span class="token comment"># group: yunwei</span>
user::rwx
user:hary:r-x
user:natasha:r-x
user:jack:r-x
group::rwx
mask::rwx
other::---

<span class="token comment">#删除所有用户ACL权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># setfacl -b /yunwei</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># getfacl /yunwei</span>
getfacl: Removing leading <span class="token string">'/'</span> from absolute path names
<span class="token comment"># file: yunwei</span>
<span class="token comment"># owner: root</span>
<span class="token comment"># group: yunwei</span>
user::rwx
group::rwx
other::---
</code></pre></div><h4 id="课后练习-4"><a href="#课后练习-4" class="header-anchor">#</a> 课后练习</h4> <p>1.创建test1用户，并指定用户UID为6666，指定用户描述信息为test1@163.com，指定用户解释器为/sbin/nologin</p> <p>test1❌6666:6666:test1@163.com:/home/test1:/sbin/nologin</p> <p>2.创建名为stugrp组，将test1用户加入到stugrp组</p> <p>[root@localhost ~]# groupadd stugrp</p> <p>[root@localhost ~]# gpasswd -a test1 stugrp</p> <p>3.请写出/etc/passwd文件中每个字段含义</p> <p>用户名 密码占位符 UID GID 描述信息 家目录 解释器</p> <p>4.创建test2用户，并设置密码为123456</p> <p>[root@localhost ~]# useradd test2
[root@localhost ~]# passwd test2</p> <p>5.修改root用户密码为123456</p> <p>[root@localhost ~]# passwd</p> <p>6.请写出Linux系统下存放用户密码信息文件</p> <p>/etc/shadow</p> <p>7.设置test2用户首次登录系统需要修改密码</p> <p>[root@localhost ~]# chage -d 0 test2</p> <p>8.使用root切换为test1用户身份</p> <p>su - 用户名</p> <p>9.将test2用户添加至stugrp组，并锁定用户密码</p> <p>[root@localhost ~]# gpasswd -a test2 stugrp</p> <p>[root@localhost ~]# passwd -l test2</p> <p>10.删除test1用户，连同用户家目录一并删除</p> <p>root@localhost ~]# userdel -r test1</p> <p>11.请写出Linux系统存放组信息文件，与组密码信息文件</p> <p>[root@localhost ~]# ls /etc/group</p> <p>[root@localhost ~]# ls /etc/gshadow</p> <p>12.将test2用户从stugrp组中删除</p> <p>[root@localhost ~]# gpasswd -d test2 stugrp</p> <p>13.在根下创建upload目录，并修改目录所有者为test2用户，所属组为stugrp组，并将lisi用户加入到stugrp组，修改所有者权限rwx，修改所属组权限为rwx，设置其他人没有任何权限</p> <p>[root@localhost ~]# mkdir /upload</p> <p>[root@localhost ~]# chown test2:stugrp /upload/</p> <p>[root@localhost ~]# gpasswd -a lisi stugrp</p> <p>[root@localhost ~]# chmod 770 /upload/</p> <p>14.创建test3用户，非交互式设置用户密码为123456，并设置test3用户可以对upload目录拥有rx权限</p> <p>[root@localhost ~]# useradd test3
[root@localhost ~]# echo 123456 | passwd --stdin test3</p> <p>[root@localhost ~]# setfacl -m u:test3:rx /upload/
[root@localhost ~]# getfacl /upload/</p> <p>15.在根下创建shared目录，并同时设置所有人都有完全权限（至少两种方法设置），要求所有普通用户在该目录下只能修改自己创建的文件</p> <p>[root@localhost ~]# mkdir /shared
[root@localhost ~]# chmod ugo=rwx /shared/
[root@localhost ~]# chmod 777 /shared/
[root@localhost ~]# ll -d /shared/</p> <p>[root@localhost ~]# chmod o+t /shared/</p> <h4 id="常用特殊符号的使用"><a href="#常用特殊符号的使用" class="header-anchor">#</a> 常用特殊符号的使用</h4> <p>Linux系统下特殊符号起到了很大的作用，特殊符号可以完成一些特殊的功</p> <blockquote><p>*常用的特殊符号，在文件名上，用来代表任意多个任意字符</p></blockquote> <blockquote><p>? 常用的特殊符号，在文件名上，用来代表任意单个任意字符</p></blockquote> <blockquote><p>[0-9]  #在文件名上，用来代表多个字符或连续范围中的一个，若无则忽略</p></blockquote> <blockquote><p>{a,b,cd,abcd} #在文件名上，用来代表多组不同的字符串，全匹配</p></blockquote> <ul><li>范例</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#查找以tab结尾的文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /etc/*tab</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /etc/*wd</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /etc/*.conf</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /etc/redhat*</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /etc/*ss*</span>

<span class="token comment">#查找以tty开头的文件，结尾以一个任意字符结尾</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /dev/tty?</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /etc/host?</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /etc/pass??</span>

<span class="token comment">#查找tty开头结尾以1-5连续字符结尾</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /dev/tty[1-5]</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /dev/tty[4-9]</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /dev/tty[1,3,5,7,9,15,20,30]</span>

<span class="token comment">#查找tty开头结尾为不连续字符结尾</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /dev/tty{1,3,5,7,9,15,20,30}</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /dev/tty{1..9}</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /dev/tty{1..10}</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /dev/tty[1-10]</span>
</code></pre></div><h4 id="grep文件内容过滤"><a href="#grep文件内容过滤" class="header-anchor">#</a> grep文件内容过滤</h4> <ul><li><p>grep用于查找文件中符合条件的字符串，它能利用正则表达式搜索文件中的字符串，并把匹配到的字符串的行打印出来</p></li> <li><p>命令格式：grep [-选项] &quot;查找条件&quot; 目标文件</p></li> <li><p>常用选项：</p> <ul><li><p>-n #以行号形式输出</p></li> <li><p>-i #忽略字符串大小写</p></li> <li><p>-v #显示不包含匹配的行（排除）</p></li></ul></li> <li><p>常用正则表达式符号</p> <ul><li>^字符串      #显示以该字符串开头的行(匹配以什么什么开头的行)</li> <li>字符串$     #显示以该字符串结尾的行(匹配以什么什么结尾的行)</li> <li>^$                #显示空行</li></ul></li> <li><p>grep命令示例</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#过滤包含root关键字的行</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep root /etc/passwd</span>
root:x:0:0:root:/root:/bin/bash
operator:x:11:0:operator:/root:/sbin/nologin

<span class="token comment">#以行号形式过滤包含root关键字的行</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep -n root /etc/passwd</span>
<span class="token number">1</span>:root:x:0:0:root:/root:/bin/bash
<span class="token number">10</span>:operator:x:11:0:operator:/root:/sbin/nologin

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep -n bash /etc/passwd</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep -n : /etc/passwd</span>

<span class="token comment">#忽略大小写过滤</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep -i -n ssh /etc/passwd</span>
<span class="token number">38</span>:sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin

<span class="token comment">#排除包含#号的行</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep -n -v '^#' /etc/fstab</span>

<span class="token comment">#过滤以root开头的行</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep ^root /etc/passwd</span>

<span class="token comment">#过滤以root结尾的行</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep -n 'root$' /etc/passwd</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep -n 'bash$' /etc/passwd</span>

<span class="token comment">#语法错误示范</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep -n -v '^#' ^$  /etc/fstab</span>
grep: ^$: 没有那个文件或目录
/etc/fstab:1:
/etc/fstab:9:/dev/mapper/centos-root /                       xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
/etc/fstab:10:UUID<span class="token operator">=</span>ae55ec6b-973b-498e-a366-f35e14b3d153 /boot                   xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
/etc/fstab:11:/dev/mapper/centos-swap swap    

<span class="token comment">#语法错误示范</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep -n -v '^#' /etc/fstab | grep -v ^$</span>
<span class="token number">1</span>:
<span class="token number">9</span>:/dev/mapper/centos-root /                       xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
<span class="token number">10</span>:UUID<span class="token operator">=</span>ae55ec6b-973b-498e-a366-f35e14b3d153 /boot                   xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
<span class="token number">11</span>:/dev/mapper/centos-swap swap                    swap    defaults        <span class="token number">0</span> <span class="token number">0</span>

<span class="token comment">#正确语法</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep  -v '^#' /etc/fstab | grep -v ^$ -n</span>
<span class="token number">2</span>:/dev/mapper/centos-root /                       xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
<span class="token number">3</span>:UUID<span class="token operator">=</span>ae55ec6b-973b-498e-a366-f35e14b3d153 /boot                   xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
<span class="token number">4</span>:/dev/mapper/centos-swap swap                    swap    defaults        <span class="token number">0</span> <span class="token number">0</span>

<span class="token comment">#显示该文件内有效配置的行</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep -v '^#' /etc/login.defs | grep -v ^$ -n | wc -l</span>
</code></pre></div><h4 id="find文件-目录查找命令"><a href="#find文件-目录查找命令" class="header-anchor">#</a> find文件/目录查找命令</h4> <ul><li>find 命令根据预设的条件递归查找文件或目录所在位置</li> <li>命令格式：find 查找路径 查找条件1  查找条件2 ..  [-exec 处理命令 {} ; ]
<ul><li>–exec 可接额外的命令来处理查找到结果</li> <li>{} 代表find查找到的内容被放置{}中</li> <li>; 代表额外处理命令结束</li></ul></li> <li>常用查找条件
<ul><li>-type 类型（f文件 d目录  l链接文件）</li> <li>-name “文件名”</li> <li>-iname 按文件名查找忽略大小写</li> <li>-size 文件大小（k、M、G  + 大于  - 小于）</li> <li>-a （and并且）两个条件同时满足</li> <li>-o （or或者）两个条件满足任意一个即可</li> <li>-user 用户名</li> <li>-mtime 按日期查找（+ 代表多少天之前  - 代表多少天之内，0代表24小时之内）</li></ul></li> <li>find命令范例</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /var/log</span>

<span class="token comment">#按照类型查找，类型为文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /var/log -type f</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll boot.log-20210417</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /var/log/boot.log-20210417</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /var/log/vmware-network.2.log</span>

<span class="token comment">#按照类型查找，类型为目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /var/log -type d</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /var/log/tuned</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /var/log/qemu-ga</span>

<span class="token comment">#按照类型查找，类型为链接文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /var/log -type l</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># fin /etc/ -type l</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /etc/ -type l</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll /etc/scl/conf</span>

<span class="token comment">#按照名字查找</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /etc/ -name passwd</span>
/etc/passwd
/etc/pam.d/passwd

<span class="token comment">#按照名字查找，类型为文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /etc/ -name passwd -type f</span>

<span class="token comment">#按照名字查找，以tab结尾，类型为文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /etc/ -name '*tab' -type f</span>

<span class="token comment">#按照名字查找，以pass开头，类型为文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /etc/ -name 'pass*' -type f</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># find . -name '*.conf' -type f</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /etc/ -name '*tab*' -type f</span>

<span class="token comment">#按照名字忽略大小写查找，类型为文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /etc/ -iname FSTAB -type f</span>
/etc/fstab
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /etc/ -name FSTAB -type f</span>

<span class="token comment">#查找大于10k的文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /var/log -size +10k -type f</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># du -h /var/log/boot.log-20210417</span>
16K	/var/log/boot.log-20210417

<span class="token comment">#查找大于1M的文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /var/log -size +1M -type f</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># du -h /var/log/audit/audit.log</span>
<span class="token number">2</span>.4M	/var/log/audit/audit.log

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /home -size +1M -type f</span>

<span class="token comment">#查找小于1M的文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /var/log -size -1M -type f</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># du -h /var/log/spooler</span>
<span class="token number">0</span>	/var/log/spooler

<span class="token comment">#查找大于10k并且小于20k，类型为文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /var/log -size +10k -a -size -20k -type f</span>

<span class="token comment">#-o或者，当有多个条件时，满足任意其中一个即可</span>
<span class="token punctuation">[</span>root@thinkmo ~<span class="token punctuation">]</span><span class="token comment"># find /var/log -name &quot;*.log&quot; -o -size -10k -type f</span>


<span class="token comment">#查找属于lisi用户的文件/目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /home -user lisi</span>

<span class="token comment">#查找30天之前被修改过，类型为文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /var/log -mtime +30 -type f</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /var/log -mtime +10 -type f</span>

<span class="token comment">#查找10天之内被修改过，类型为文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /var/log -mtime -10 -type f</span>
root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /var/log -mtime -30 -type f</span>

<span class="token comment">#查找30之前被修改过，类型为文件，拷贝到/opt目录下</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># find /var/log -mtime -30 -type f -exec cp {} /opt \;</span>
</code></pre></div><p>题型：</p> <ul><li><p>查找/etc/目录下以.conf结尾的文件（只能在/etc这一层目录去查找）</p> <p>[root@localhost ~]# ls /etc/*.conf</p></li> <li><p>查找/etc/目录下以.conf结尾的文件（包含所有的子目录）</p> <p>[root@localhost ~]# find /etc/ -name '*.conf' -type f</p></li></ul> <p>百度：多查--多查--多查</p> <p>查找/var/log/messages 文件，清空文件内容，使用find实现</p> <blockquote><p>[root@localhost ~]# find /var/log/ -name messages -type f -exec cp /dev/null {} ;</p></blockquote> <p>查找/var/log以.log结尾的文件，清空文件内容，使用find实现</p> <blockquote><p>[root@localhost ~]# find /var/log -name *.log -type f -a -mtime +10 -exec cp /dev/null {} ;</p></blockquote> <h4 id="压缩与解压缩"><a href="#压缩与解压缩" class="header-anchor">#</a> 压缩与解压缩</h4> <ul><li>Linux独有压缩格式及命令工具:
<ul><li>gzip---&gt; .gz</li> <li>bzip2---&gt; .bz2</li> <li>xz---&gt; .xz</li></ul></li> <li>压缩命令格式
<ul><li>gzip [选项...] 文件名
<ul><li>常用选项：-d 解压缩</li></ul></li> <li>bzip2 [选项...]  文件名
<ul><li>常用选项：-d 解压缩</li></ul></li> <li>xz [选项...] 文件名
<ul><li>常用选项：-d 解压缩</li></ul></li></ul></li> <li>查看压缩文件内容
<ul><li>zcat   [选项...] 文件名    #查看gzip格式压缩文件</li> <li>bzcat [选项...] 文件名</li> <li>xzcat [选项...] 文件名</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cp /etc/services /opt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cd /opt</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># ll services </span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">670293</span> <span class="token number">4</span>月  <span class="token number">17</span> <span class="token number">17</span>:06 services
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># ll -h services </span>
-rw-r--r--. <span class="token number">1</span> root root 655K <span class="token number">4</span>月  <span class="token number">17</span> <span class="token number">17</span>:06 services

<span class="token comment">#使用gzip格式对文件进行压缩</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># gzip services </span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># ls</span>
services.gz
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># ll -h services.gz </span>
-rw-r--r--. <span class="token number">1</span> root root 133K <span class="token number">4</span>月  <span class="token number">17</span> <span class="token number">17</span>:06 services.gz

<span class="token comment">#不解压查看压缩文件内容</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># zcat services.gz </span>

<span class="token comment">#解压文件</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># gzip -d services.gz </span>

<span class="token comment">#使用bzip2格式对文件进行压缩</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># bzip2 services </span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># ls</span>
services.bz2
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># ll -h services.bz2 </span>
-rw-r--r--. <span class="token number">1</span> root root 122K <span class="token number">4</span>月  <span class="token number">17</span> <span class="token number">17</span>:06 services.bz2

<span class="token comment">#不解压查看文件内容</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># bzcat services.bz2 </span>

<span class="token comment">#解压文件</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># bzip2 -d services.bz2 </span>

<span class="token comment">#使用xz格式对文件进行压缩</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># xz services </span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># ls</span>
services.xz
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># ll -h services.xz </span>
-rw-r--r--. <span class="token number">1</span> root root 98K <span class="token number">4</span>月  <span class="token number">17</span> <span class="token number">17</span>:06 services.xz

<span class="token comment">#解压文件</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># xz -d services.xz </span>
</code></pre></div><h4 id="tar打包工具"><a href="#tar打包工具" class="header-anchor">#</a> tar打包工具</h4> <ul><li><p>tar命令用在linux下用于对文件/目录打包，使用 tar 程序打出来的包常称为 tar 包，tar 包文件通常都是以 .tar 结尾</p></li> <li><p>tar 命令格式：tar 选项  打包后名字   被打包文件</p></li> <li><p>常用选项：</p> <ul><li>-c 创建打包文件</li> <li>-f 指定打包后的文件名称</li> <li>-z  调用gzip压缩工具   -J 调用xz压缩工具  -j 调用bzip2压缩工具</li> <li>-t 列出打包文档内容</li> <li>-x 解压打包文件</li> <li>-C 指定解压路径</li> <li>-v 显示详细信息</li></ul></li> <li><p>tar命令范例</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#同时打包多个文件/目录并使用gzip格式压缩</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># tar -czf xxx.tar.gz /etc/passwd /etc/fstab /home</span>

<span class="token comment">#将压缩包数据解压到/media目录</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># tar -xf xxx.tar.gz -C /media/</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># ls /media/etc</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># rm -rf xxx.tar.gz </span>

<span class="token comment">#同时打包多个文件/目录并使用xz格式压缩</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># tar -cJf xx.tar.xz /etc/hostname /etc/services /home</span>

<span class="token comment">#错误语法，f选项要放到所有选项右边</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># tar -ft xx.tar.xz </span>
tar: 您必须从<span class="token string">&quot;-Acdtrux&quot;</span>或是<span class="token string">&quot;--test-label&quot;</span>选项中指定一个
请用“tar --help”或“tar --usage”获得更多信息。

<span class="token comment">#不解压查看压缩包数据</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># tar -tf xx.tar.xz </span>
etc/hostname

<span class="token comment">#将压缩包数据解压到/tmp目录</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># tar -vxf xx.tar.xz -C /tmp</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># ls /tmp</span>

<span class="token comment">#同时打包多个文件/目录并使用bzip2格式压缩</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># tar -cjf abc.tar.bz2 /etc/hostname /etc/group /home</span>

<span class="token comment">#解压缩</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment"># tar -xf abc.tar.bz2 -C /media/</span>
</code></pre></div><h4 id="磁盘介绍"><a href="#磁盘介绍" class="header-anchor">#</a> 磁盘介绍</h4> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1619020721408.png" alt="1619020721408"></p> <h4 id="分区过程"><a href="#分区过程" class="header-anchor">#</a> 分区过程</h4> <p>添加新硬盘--分区--格式化文件系统--挂载使用</p> <p>扇区是磁盘存储数据的最小单元，默认一个扇区可以存储512字节的数据</p> <h4 id="磁盘类型介绍"><a href="#磁盘类型介绍" class="header-anchor">#</a> 磁盘类型介绍</h4> <ul><li>IDE接口类型：主要用于个人家用计算机领域，优点价格便宜，缺点数据传输速度慢</li> <li>SCSI接口类型：早期主要用于服务器理领域，数据传输速度快</li> <li>SAS接口类型：目前在服务器领域比较流行</li> <li>SATA接口类型：串口磁盘，主要用于个人家用计算机领域，偶尔也应用在服务器领域</li> <li>SSD接口类型：固态硬盘接口，价格昂贵，数据传输速度快，利用内存的机制读写数据，主要应用在个人电脑</li> <li>NVMe接口类型：固态硬盘接口，价格昂贵，数据传输速度快，利用内存的机制读写数据</li></ul> <h4 id="linux常用分区格式"><a href="#linux常用分区格式" class="header-anchor">#</a> Linux常用分区格式</h4> <ul><li><p>MBR分区格式：比较古老的分区格式，最初只能划分4个主分区，后来新增加扩展分区（容器）功能，可在扩展分区内划分更多逻辑分区，最大支持2.2T磁盘容量</p> <ul><li>IDE接口硬盘逻辑分区最多可以划分59个</li> <li>SCSI接口硬盘逻辑分区最多可以划分11个</li> <li>最大支持2.2T以内磁盘容量</li></ul></li> <li><p>GPT分区格式：可划分128个主分区，最大支持18EB磁盘容量（1EB=1024PB，1PB=1024TB，1TB=1024GB）</p></li></ul> <h4 id="文件系统类型详解"><a href="#文件系统类型详解" class="header-anchor">#</a> 文件系统类型详解</h4> <ul><li><p>文件管理系统，赋予分区文件系统，分区才可以正常的使用，根文件系统，多少个多少个文件系统</p></li> <li><p>CentOS5：分区默认使用文件系统类型ext3</p></li> <li><p>CentOS6：分区默认使用文件系统类型ext4</p> <ul><li>ext4日志记录功能，意外宕机，通过日志记录把没有保存的数据，在系统再次重启时快速恢复回来</li> <li>单个文件系统最大支持1EB的分区容量，单个文件最大可以存储16TB数据</li></ul></li> <li><p>CentOS7：分区默认使用文件系统类型xfs</p> <ul><li>xfs开启了日志记录的功能，意外宕机，通过日志记录把没有保存的数据，在系统再次重启时快速恢复回来，数据恢复的速度比ext4文件系统快</li> <li>单个文件系统最大支持8EB分区容量，单个文件最大可以存储500TB的数据</li> <li>单个文件每秒读写数据的速度可以达到4G</li></ul></li> <li><p>swap文件系统：交换分区，硬盘空间去充当内存去使用</p></li></ul> <h4 id="挂载"><a href="#挂载" class="header-anchor">#</a> 挂载</h4> <ul><li>在Linux系统中用户无法直接使用硬件设备的，硬件设备在系统中都是以只读的方式存在的，必须挂载</li> <li>挂载就是给我们用户提供一个可以使用设备的一个接口</li> <li>挂载注意事项：
<ul><li>挂载点必须是一个目录，理论上还得是一个空目录</li> <li>一个文件系统不允许重复挂载到多个目录下</li> <li>一个目录不允许重复挂载多个文件系统</li></ul></li></ul> <h4 id="lsblk查看系统所有磁盘信息"><a href="#lsblk查看系统所有磁盘信息" class="header-anchor">#</a> lsblk查看系统所有磁盘信息</h4> <ul><li><p>lsblk（英文全拼：list block）用于列出当前系统所有磁盘与磁盘内的分区信息</p></li> <li><p>命令格式：lsblk [选项...] [设备名]</p></li> <li><p>常用选项：</p> <ul><li>-d  #仅显示磁盘本身，不会列出磁盘的分区数据</li> <li>-f   #列出磁盘分区使用的文件系统类型</li></ul></li> <li><p>lsblk命令示例</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#列出当前系统所有磁盘与磁盘内的分区信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lsblk </span>
NAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda               <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
├─sda1            <span class="token number">8</span>:1    <span class="token number">0</span>    1G  <span class="token number">0</span> part /boot
└─sda2            <span class="token number">8</span>:2    <span class="token number">0</span>   19G  <span class="token number">0</span> part 
  ├─centos-root <span class="token number">253</span>:0    <span class="token number">0</span>   17G  <span class="token number">0</span> lvm  /
  └─centos-swap <span class="token number">253</span>:1    <span class="token number">0</span>    2G  <span class="token number">0</span> lvm  <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sr0              <span class="token number">11</span>:0    <span class="token number">1</span>  <span class="token number">4</span>.3G  <span class="token number">0</span> rom  /mnt/centos

<span class="token comment">#sda1：sd代表SCSI磁盘，a代表第一块磁盘，1代表第一个分区</span>
<span class="token comment">#sdb：sd代表SCSI磁盘，b代表第二块磁盘，1代表第一个分区</span>
<span class="token comment">#解释：</span>
NAME		<span class="token comment">#设备名称</span>
MAJ:MIN		<span class="token comment">#主设备号:次设备号，内核通过主次设备号识别磁盘</span>
RM			<span class="token comment">#是否为可卸载设备，1可卸载，0不可卸载</span>
SIZE		<span class="token comment">#设备的容量大小</span>
RO			<span class="token comment">#表示设备是否为只读，0非只读设备，1只读设备</span>
TYPE		<span class="token comment">#表示设备类型（disk为磁盘，part为分区，lvm逻辑卷，rom只读）</span>
MOUNTPOINT	<span class="token comment">#设备挂载点（SWAP没有挂载点）</span>

<span class="token comment">#列出指定的磁盘信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lsblk -d /dev/sda</span>
NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
sda    <span class="token number">8</span>:0    <span class="token number">0</span>  20G  <span class="token number">0</span> disk 

<span class="token comment">#列出所有磁盘分区内使用的文件系统类型</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lsblk -f </span>
NAME            FSTYPE      LABEL           UUID                                   MOUNTPOINT
sda                                                                                
├─sda1          xfs                         4cb9bb38-c34a-4415-9614-ba38642bb86d   /boot
└─sda2          LVM2_member                 cKn0jP-z8Bq-SNvl-BsNa-7vTg-GBU2-OiHCro 
  ├─centos-root xfs                         55dad88d-a600-42d1-b387-236db62ce396   /
  └─centos-swap swap                        2e91599a-6d72-483d-add8-6dfb84296170   <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sr0             iso9660     CentOS <span class="token number">7</span> x86_64 <span class="token number">2018</span>-11-25-23-54-16-00                 /mnt/centos

<span class="token comment">#列出指定分区的文件系统类型</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lsblk -df /dev/sda1</span>
NAME FSTYPE LABEL UUID                                 MOUNTPOINT
sda1 xfs          4cb9bb38-c34a-4415-9614-ba38642bb86d /boot

</code></pre></div><h4 id="df查看分区使用情况"><a href="#df查看分区使用情况" class="header-anchor">#</a> df查看分区使用情况</h4> <ul><li><p>df命令用于查看文件系统使用情况</p></li> <li><p>命令格式：df [选项...] [参数...]</p></li> <li><p>常用选项：</p> <ul><li>-h 以人类易读方式显示文件系统容量</li> <li>T   显示文件系统类型</li></ul></li> <li><p>df 命令示例</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># df</span>
Filesystem              1K-blocks    Used Available Use% Mounted on
/dev/mapper/centos-root  <span class="token number">17811456</span> <span class="token number">3746320</span>  <span class="token number">14065136</span>  <span class="token number">22</span>% /
devtmpfs                   <span class="token number">480884</span>       <span class="token number">0</span>    <span class="token number">480884</span>   <span class="token number">0</span>% /dev
tmpfs                      <span class="token number">497948</span>       <span class="token number">0</span>    <span class="token number">497948</span>   <span class="token number">0</span>% /dev/shm
tmpfs                      <span class="token number">497948</span>    <span class="token number">8340</span>    <span class="token number">489608</span>   <span class="token number">2</span>% /run
tmpfs                      <span class="token number">497948</span>       <span class="token number">0</span>    <span class="token number">497948</span>   <span class="token number">0</span>% /sys/fs/cgroup
/dev/sr0                  <span class="token number">4480476</span> <span class="token number">4480476</span>         <span class="token number">0</span> <span class="token number">100</span>% /mnt
/dev/sda1                 <span class="token number">1038336</span>  <span class="token number">169448</span>    <span class="token number">868888</span>  <span class="token number">17</span>% /boot
tmpfs                       <span class="token number">99592</span>      <span class="token number">12</span>     <span class="token number">99580</span>   <span class="token number">1</span>% /run/user/42
tmpfs                       <span class="token number">99592</span>       <span class="token number">0</span>     <span class="token number">99592</span>   <span class="token number">0</span>% /run/user/0

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># df -h /</span>
Filesystem               Size  Used Avail Use% Mounted on
/dev/mapper/centos-root   17G  <span class="token number">3</span>.6G   14G  <span class="token number">22</span>% /
</code></pre></div><h4 id="du统计文件-目录大小"><a href="#du统计文件-目录大小" class="header-anchor">#</a> du统计文件/目录大小</h4> <ul><li><p>du命令用于统计磁盘下目录或文件大小</p></li> <li><p>命令格式：du [选项...] [参数...]</p></li> <li><p>常用选项：</p> <ul><li>-h        #以人类易读方式（Kb，MB，GB）显示文件大小</li> <li>-s         #只统计每个参数的总数</li></ul></li> <li><p>du 命令示例</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># du -h /etc/services </span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># du -hs /etc</span>
38M	/etc

</code></pre></div><ul><li>/dev/目录下文件详解</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /dev</span>
hd<span class="token punctuation">[</span>a-t<span class="token punctuation">]</span>:IDE设备
sd<span class="token punctuation">[</span>a-z<span class="token punctuation">]</span>:SCSI设备
fd<span class="token punctuation">[</span><span class="token number">0</span>-7<span class="token punctuation">]</span>：软盘驱动设备
md<span class="token punctuation">[</span><span class="token number">0</span>-32<span class="token punctuation">]</span>：软RAID设备
loop<span class="token punctuation">[</span><span class="token number">0</span>-7<span class="token punctuation">]</span>：本地回环设设备
lp<span class="token punctuation">[</span><span class="token number">0</span>-3<span class="token punctuation">]</span>:打印机设备
mem：内存设备
null：空设备，也称为黑洞，任何写入的数据都将被丢弃
zero：零资源设备，任何写入的数据都将被丢弃
full：满设备，任何写入的数据都将失败
tty<span class="token punctuation">[</span><span class="token number">0</span>-63<span class="token punctuation">]</span>：虚拟终端设备
random：随机数设备
urandom：随机数设备
port：存取I/O端口
</code></pre></div><h4 id="blkid查看设备属性"><a href="#blkid查看设备属性" class="header-anchor">#</a> blkid查看设备属性</h4> <ul><li><p>blkid命令显示块设备属性信息（设备名称，设备UUID，文件系统类型）</p></li> <li><p>命令格式：blkid [选项...] [参数...]</p></li> <li><p>blkid命令示例</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#显示系统所有块设备属性信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># blkid</span>
/dev/sda1: <span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;4cb9bb38-c34a-4415-9614-ba38642bb86d&quot;</span> <span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">&quot;xfs&quot;</span> 
/dev/sda2: <span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;cKn0jP-z8Bq-SNvl-BsNa-7vTg-GBU2-OiHCro&quot;</span> <span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">&quot;LVM2_member&quot;</span> 
/dev/sr0: <span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;2018-11-25-23-54-16-00&quot;</span> <span class="token assign-left variable">LABEL</span><span class="token operator">=</span><span class="token string">&quot;CentOS 7 x86_64&quot;</span> <span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">&quot;iso9660&quot;</span> <span class="token assign-left variable">PTTYPE</span><span class="token operator">=</span><span class="token string">&quot;dos&quot;</span> 
/dev/mapper/centos-root: <span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;55dad88d-a600-42d1-b387-236db62ce396&quot;</span> <span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">&quot;xfs&quot;</span> 
/dev/mapper/centos-swap: <span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;2e91599a-6d72-483d-add8-6dfb84296170&quot;</span> <span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">&quot;swap&quot;</span> 

<span class="token comment">#查看执行分区属性信息</span>
root@localhost ~<span class="token punctuation">]</span><span class="token comment"># blkid /dev/sda1</span>
/dev/sda1: <span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;4cb9bb38-c34a-4415-9614-ba38642bb86d&quot;</span> <span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">&quot;xfs&quot;</span> 
</code></pre></div><h4 id="mbr分区格式"><a href="#mbr分区格式" class="header-anchor">#</a> MBR分区格式</h4> <ul><li><p>fdisk命令用于查看磁盘使用情况和磁盘分区（MBR分区格式）</p></li> <li><p>命令格式：fdisk [选项...] [设备路径]</p></li> <li><p>常用选项：-l   列出磁盘分区表类型与分区信息</p></li> <li><p>分区</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># fdisk /dev/sdb</span>
m	<span class="token comment">#获取命令帮助		※</span>
p	<span class="token comment">#显示磁盘分区表   ※</span>
n	<span class="token comment">#新增加一个分区   ※</span>
q	<span class="token comment">#不保存分区退出   ※</span>
d	<span class="token comment">#删除一个分区     ※</span>
w	<span class="token comment">#保存分区退出     ※</span>
a	<span class="token comment">#设置可引导标记</span>
b	<span class="token comment">#编辑bsd磁盘标签</span>
c	<span class="token comment">#设置DOS操作系统兼容标记</span>
l	<span class="token comment">#显示已知的文件系统类型，82为swap交换分区，83为Linux分区</span>
o	<span class="token comment">#建立空白DOS分区表</span>
s	<span class="token comment">#新建空白SUN磁盘标签</span>
t	<span class="token comment">#改变分区的系统ID</span>
u	<span class="token comment">#改变显示记录单位</span>
<span class="token function">v</span>	<span class="token comment">#验证分区表</span>
x	<span class="token comment">#附加功能</span>

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：m
命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p

<span class="token comment">#划分第一个主分区</span>
命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span>:   回车
分区号 <span class="token punctuation">(</span><span class="token number">1</span>-4，默认 <span class="token number">1</span><span class="token punctuation">)</span>：回车
起始 扇区 <span class="token punctuation">(</span><span class="token number">2048</span>-209715199，默认为 <span class="token number">2048</span><span class="token punctuation">)</span>：回车
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">2048</span>-209715199，默认为 <span class="token number">209715199</span><span class="token punctuation">)</span>：+10G  <span class="token comment">#指定大小（K,M,G）</span>
分区 <span class="token number">1</span> 已设置为 Linux 类型，大小设为 <span class="token number">10</span> GiB

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p
磁盘标签类型：dos
磁盘标识符：0xefc65503

   设备 Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span class="token number">2048</span>    <span class="token number">20973567</span>    <span class="token number">10485760</span>   <span class="token number">83</span>  Linux

<span class="token comment">#划分第二个主分区</span>
命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span>: 
分区号 <span class="token punctuation">(</span><span class="token number">2</span>-4，默认 <span class="token number">2</span><span class="token punctuation">)</span>：
起始 扇区 <span class="token punctuation">(</span><span class="token number">20973568</span>-209715199，默认为 <span class="token number">20973568</span><span class="token punctuation">)</span>：
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">20973568</span>-209715199，默认为 <span class="token number">209715199</span><span class="token punctuation">)</span>：+10G  <span class="token comment">#指定分区大小</span>

<span class="token comment">#划分第三个主分区</span>
命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span>: 
分区号 <span class="token punctuation">(</span><span class="token number">3,4</span>，默认 <span class="token number">3</span><span class="token punctuation">)</span>：
起始 扇区 <span class="token punctuation">(</span><span class="token number">41945088</span>-209715199，默认为 <span class="token number">41945088</span><span class="token punctuation">)</span>：
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">41945088</span>-209715199，默认为 <span class="token number">209715199</span><span class="token punctuation">)</span>：+10G

<span class="token comment">#查看分区信息</span>
命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p
磁盘标签类型：dos
磁盘标识符：0xefc65503

   设备 Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span class="token number">2048</span>    <span class="token number">20973567</span>    <span class="token number">10485760</span>   <span class="token number">83</span>  Linux
/dev/sdb2        <span class="token number">20973568</span>    <span class="token number">41945087</span>    <span class="token number">10485760</span>   <span class="token number">83</span>  Linux
/dev/sdb3        <span class="token number">41945088</span>    <span class="token number">62916607</span>    <span class="token number">10485760</span>   <span class="token number">83</span>  Linux

<span class="token comment">#划分第四个分区</span>
命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
Select <span class="token punctuation">(</span>default e<span class="token punctuation">)</span>: p
起始 扇区 <span class="token punctuation">(</span><span class="token number">62916608</span>-209715199，默认为 <span class="token number">62916608</span><span class="token punctuation">)</span>：
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">62916608</span>-209715199，默认为 <span class="token number">209715199</span><span class="token punctuation">)</span>：+10G

<span class="token comment">#继续划分分区</span>
命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
If you want to create <span class="token function">more</span> than four partitions, you must replace a
primary partition with an extended partition first.
<span class="token comment">#提示如果想要创建更多的分区，先将一个主分区替换为扩展分区</span>

<span class="token comment">#删除分区</span>
命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：d4
分区号 <span class="token punctuation">(</span><span class="token number">1</span>-4，默认 <span class="token number">4</span><span class="token punctuation">)</span>：
分区 <span class="token number">4</span> 已删除

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：d
分区号 <span class="token punctuation">(</span><span class="token number">1</span>-3，默认 <span class="token number">3</span><span class="token punctuation">)</span>：3
分区 <span class="token number">3</span> 已删除

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p
磁盘标签类型：dos
磁盘标识符：0xefc65503

   设备 Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span class="token number">2048</span>    <span class="token number">20973567</span>    <span class="token number">10485760</span>   <span class="token number">83</span>  Linux
/dev/sdb2        <span class="token number">20973568</span>    <span class="token number">41945087</span>    <span class="token number">10485760</span>   <span class="token number">83</span>  Linux

<span class="token comment">#创建主分区</span>
命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span>: 
分区号 <span class="token punctuation">(</span><span class="token number">3,4</span>，默认 <span class="token number">3</span><span class="token punctuation">)</span>：
起始 扇区 <span class="token punctuation">(</span><span class="token number">41945088</span>-209715199，默认为 <span class="token number">41945088</span><span class="token punctuation">)</span>：
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">41945088</span>-209715199，默认为 <span class="token number">209715199</span><span class="token punctuation">)</span>：+10G

<span class="token comment">#创建按扩展分区</span>
命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
Select <span class="token punctuation">(</span>default e<span class="token punctuation">)</span>: 
Using default response e
已选择分区 <span class="token number">4</span>
起始 扇区 <span class="token punctuation">(</span><span class="token number">62916608</span>-209715199，默认为 <span class="token number">62916608</span><span class="token punctuation">)</span>：
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">62916608</span>-209715199，默认为 <span class="token number">209715199</span><span class="token punctuation">)</span>：
分区 <span class="token number">4</span> 已设置为 Extended 类型，大小设为 <span class="token number">70</span> GiB

<span class="token comment">#创建逻辑分区</span>
命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
添加逻辑分区 <span class="token number">5</span>
起始 扇区 <span class="token punctuation">(</span><span class="token number">62918656</span>-209715199，默认为 <span class="token number">62918656</span><span class="token punctuation">)</span>：
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">62918656</span>-209715199，默认为 <span class="token number">209715199</span><span class="token punctuation">)</span>：+10G
分区 <span class="token number">5</span> 已设置为 Linux 类型，大小设为 <span class="token number">10</span> GiB

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p
磁盘 /dev/sdb：107.4 GB, <span class="token number">107374182400</span> 字节，209715200 个扇区
磁盘标签类型：dos
磁盘标识符：0xefc65503

   设备 Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span class="token number">2048</span>    <span class="token number">20973567</span>    <span class="token number">10485760</span>   <span class="token number">83</span>  Linux
/dev/sdb2        <span class="token number">20973568</span>    <span class="token number">41945087</span>    <span class="token number">10485760</span>   <span class="token number">83</span>  Linux
/dev/sdb3        <span class="token number">41945088</span>    <span class="token number">62916607</span>    <span class="token number">10485760</span>   <span class="token number">83</span>  Linux
/dev/sdb4        <span class="token number">62916608</span>   <span class="token number">209715199</span>    <span class="token number">73399296</span>    <span class="token number">5</span>  Extended
/dev/sdb5        <span class="token number">62918656</span>    <span class="token number">83890175</span>    <span class="token number">10485760</span>   <span class="token number">83</span>  Linux
命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：w
</code></pre></div><h4 id="格式化文件系统"><a href="#格式化文件系统" class="header-anchor">#</a> 格式化文件系统</h4> <ul><li>mkfs命令用于在分区上建立文件系统</li> <li>常用文件系统类型
<ul><li>ext4，xfs</li></ul></li> <li>命令格式：
<ul><li>mkfs.xfs 分区设备路径     #格式化为xfs类型文件系统</li> <li>mkfs.ext4  分区设备路径  #格式化为ext4类型文件系统</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#格式化文件系统</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkfs.xfs /dev/sdb1</span>

<span class="token comment">#查看文件系统类型</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># blkid /dev/sdb1</span>
/dev/sdb1: <span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;3bb79b0b-3f17-4ad9-ad47-f00dcb6a5afa&quot;</span> <span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">&quot;xfs&quot;</span> 
</code></pre></div><h4 id="mount挂载"><a href="#mount挂载" class="header-anchor">#</a> mount挂载</h4> <ul><li>mount文件系统挂载命令</li> <li>命令格式：mount  设备路径   挂载点目录</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#创建挂载点目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /mybak</span>

<span class="token comment">#挂载文件系统</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mount /dev/sdb1 /mybak</span>

<span class="token comment">#查看正在使用中的分区信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># df -Th </span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># df -Th /mybak</span>
文件系统       类型  容量  已用  可用 已用% 挂载点
/dev/sdb1      xfs    10G   33M   10G    <span class="token number">1</span>% /mybak
</code></pre></div><p>总结：</p> <ul><li>添加硬盘---查看系统是否识别新硬盘  lsblk</li> <li>划分分区---fdisk  设备路径</li> <li>格式化文件系统---mkfs.xfs</li> <li>挂载---创建挂载点目录--挂载  mount  设备路径  挂载点目录</li> <li>查看分区使用情况   df  -hT</li></ul> <h4 id="umount卸载"><a href="#umount卸载" class="header-anchor">#</a> umount卸载</h4> <ul><li>umount命令用于卸载文件系统</li> <li>命令格式：umount 挂载点目录</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#卸载文件系统</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># umount /mybak</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># df -h </span>
</code></pre></div><h4 id="开机自动挂载"><a href="#开机自动挂载" class="header-anchor">#</a> 开机自动挂载</h4> <ul><li><p>/etc/fstab用于存放文件系统信息，当系统启动时，系统会自动读取文件内容将指定的文件系统挂载到指定的目录</p></li> <li><p>文件内容详解</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/fstab</span>
/dev/mapper/centos-root /                       xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>5d36a8b5-5a58-450f-acf9-81fcddaa62de /boot                   xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
/dev/mapper/centos-swap swap                    swap    defaults        <span class="token number">0</span> <span class="token number">0</span>
<span class="token comment">#解释：该文件内容为6个字段，每个字段详解如下</span>
第一个字段：要挂载的设备路径
第二个字段：挂载点目录
第三个字段：设备文件系统类型
第四个字段：挂载参数，参数如下↓
sync，async：  此文件系统是否使用同步写入 <span class="token punctuation">(</span>sync<span class="token punctuation">)</span> 或异步 <span class="token punctuation">(</span>async<span class="token punctuation">)</span> 的内存机制，默认为异步（async） 
atime，noatime：更新访问时间/不更新访问时间，访问分区时，是否更新文件的访问时间，默认为更新
ro，rw：挂载文件为只读（ro）或读写（rw），默认为rw
auto，noauto：自动挂载/手动挂载，执行mount -a时，是否自动挂载/etc/fstab文件内容，默认为自动（auto）
dev，nodev：是否允许此文件系统上，可建立装置文件，默认为允许（dev）
suid，nosuid：是否允许文件系统上含有SUID与SGID特殊权限，默认为允许（SUID）
exec，noexec：是否允许文件系统上拥有可执行文件，默认为允许（exec）
user，nouser：是否允许普通用户执行挂载操作，默认为不允许（nouser），只有root用户可以挂载分区
defaults默认值：代表async，rw，auto，dev，suid，exec，nouser七个选项
第五个字段：是否对文件系统进行备份，0不备份，1为备份
第六个字段：是否检查文件系统顺序，允许的数字是0，1，2，0表示不检查，1的优先权最高

/dev/mapper/centos-root /                       xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>ae55ec6b-973b-498e-a366-f35e14b3d153 /boot                   xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
/dev/mapper/centos-swap swap                    swap    defaults        <span class="token number">0</span> <span class="token number">0</span>
/dev/sdb1 /mybak xfs defaults <span class="token number">0</span> <span class="token number">0</span>     <span class="token comment">#手动添加                                                    </span>
</code></pre></div><ul><li><p>mount常用选项：</p> <ul><li>-a：依照配置文件/etc/fstab的数据将所有未挂载的磁盘都挂载上来</li> <li>-o：该选项后边可跟挂载时额外参数</li></ul></li> <li><p>remount命令：重新挂载文件系统，在文件系统出错时或重新挂载文件系统时非常重要</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mount -a</span>
</code></pre></div><h4 id="gpt分区格式"><a href="#gpt分区格式" class="header-anchor">#</a> GPT分区格式</h4> <ul><li><p>gdisk命令用于查看磁盘使用情况和磁盘分区（GPT分区格式）</p></li> <li><p>命令格式：gdisk [选项...] [设备路径]</p></li> <li><p>常用选项：-l 列出磁盘分区表类型与分区信息</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># gdisk /dev/sdc</span>
GPT <span class="token function">fdisk</span> <span class="token punctuation">(</span>gdisk<span class="token punctuation">)</span> version <span class="token number">0.8</span>.10 <span class="token comment">#GPT版本</span>

Partition table scan:   <span class="token comment">#分区表扫描</span>
  MBR: not present		<span class="token comment">#MBR分区不存在</span>
  BSD: not present		<span class="token comment">#BSD分区不存在</span>
  APM: not present		<span class="token comment">#APM分区不存在</span>
  GPT: not present		<span class="token comment">#GPT分区不存在</span>

Creating new GPT entries.  <span class="token comment">#创建新的GPT分区</span>

Command <span class="token punctuation">(</span>? <span class="token keyword">for</span> <span class="token builtin class-name">help</span><span class="token punctuation">)</span>: ?   <span class="token comment">#输入？号获取命令帮助</span>
p	<span class="token comment">#显示磁盘分区表   ※</span>
n	<span class="token comment">#新增加一个分区   ※</span>
q	<span class="token comment">#不保存分区退出   ※</span>
d	<span class="token comment">#删除一个分区     ※</span>
w	<span class="token comment">#保存分区退出     ※</span>

<span class="token comment">#创建新的分区</span>
Command <span class="token punctuation">(</span>? <span class="token keyword">for</span> <span class="token builtin class-name">help</span><span class="token punctuation">)</span>: n
Partition number <span class="token punctuation">(</span><span class="token number">1</span>-128, default <span class="token number">1</span><span class="token punctuation">)</span>: 回车
First sector <span class="token punctuation">(</span><span class="token number">34</span>-209715166, default <span class="token operator">=</span> <span class="token number">2048</span><span class="token punctuation">)</span> or <span class="token punctuation">{</span>+-<span class="token punctuation">}</span>size<span class="token punctuation">{</span>KMGTP<span class="token punctuation">}</span>: 回车  <span class="token comment">#输入起始扇区，默认2048开始</span>
Last sector <span class="token punctuation">(</span><span class="token number">2048</span>-209715166, default <span class="token operator">=</span> <span class="token number">209715166</span><span class="token punctuation">)</span> or <span class="token punctuation">{</span>+-<span class="token punctuation">}</span>size<span class="token punctuation">{</span>KMGTP<span class="token punctuation">}</span>: +20G <span class="token comment">#输入新增分区的大小，可以通过扇区数来增加，也可以通过+size{KMGTP}方式来增加</span>
Hex code or GUID <span class="token punctuation">(</span>L to show codes, Enter <span class="token operator">=</span> <span class="token number">8300</span><span class="token punctuation">)</span>:  <span class="token comment">#这里要求输入分区的类型，直接回车就行</span>

<span class="token comment">#查看分区类型</span>
Command <span class="token punctuation">(</span>? <span class="token keyword">for</span> <span class="token builtin class-name">help</span><span class="token punctuation">)</span>: p  <span class="token comment">#输入p查看创建的分区</span>
Disk /dev/sdc: <span class="token number">209715200</span> sectors, <span class="token number">100.0</span> GiB  <span class="token comment">#磁盘总容量</span>
<span class="token punctuation">..</span>.
Total <span class="token function">free</span> space is <span class="token number">167772093</span> sectors <span class="token punctuation">(</span><span class="token number">80.0</span> GiB<span class="token punctuation">)</span>  <span class="token comment">#磁盘剩余容量</span>

Number  Start <span class="token punctuation">(</span>sector<span class="token punctuation">)</span>    End <span class="token punctuation">(</span>sector<span class="token punctuation">)</span>  Size       Code  Name
   <span class="token number">1</span>            <span class="token number">2048</span>        <span class="token number">41945087</span>   <span class="token number">20.0</span> GiB    <span class="token number">8300</span>  Linux filesystem
<span class="token comment">#以创建的分区</span>

Command <span class="token punctuation">(</span>? <span class="token keyword">for</span> <span class="token builtin class-name">help</span><span class="token punctuation">)</span>: w   <span class="token comment">#输入w保存配置，如果不想保存可以输入q退出</span>
Do you want to proceed? <span class="token punctuation">(</span>Y/N<span class="token punctuation">)</span>: y  <span class="token comment">#问你是否相想继续，输入y继续 </span>
OK<span class="token punctuation">;</span> writing new GUID partition table <span class="token punctuation">(</span>GPT<span class="token punctuation">)</span> to /dev/sdc.
The operation has completed successfully.   <span class="token comment">#写入成功</span>

<span class="token comment">#格式化文件系统</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkfs.xfs /dev/sdc1</span>

<span class="token comment">#查看文件系统类型</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># blkid /dev/sdc1</span>
/dev/sdc1: <span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;c57746eb-8170-4c86-82ad-6aae95de19f3&quot;</span> <span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">&quot;xfs&quot;</span> 

<span class="token comment">#创建挂载点</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /webbak</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mount /dev/sdc1 /webbak</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># df -hT</span>
/dev/sdc1               xfs        20G   33M   20G    <span class="token number">1</span>% /webbak

<span class="token comment">#开机自动挂载</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/fstab</span>
/dev/mapper/centos-root /                       xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>ae55ec6b-973b-498e-a366-f35e14b3d153 /boot                   xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
/dev/mapper/centos-swap swap                    swap    defaults        <span class="token number">0</span> <span class="token number">0</span>
/dev/sdb1              /mybak                   xfs     defaults        <span class="token number">0</span> <span class="token number">0</span> 
/dev/sdc1              /webbak                  xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>   <span class="token comment">#手动添加</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mount -a</span>
</code></pre></div><h4 id="lvm逻辑卷"><a href="#lvm逻辑卷" class="header-anchor">#</a> LVM逻辑卷</h4> <ul><li>逻辑卷：LVM（Logical Volume Manager）逻辑卷管理系统</li> <li>逻辑卷可以实现将底层的物理分区整合成一个大的虚拟硬盘</li> <li>逻辑卷技术是通过Linux系统内核dm（device mapper）设备映射组</li></ul> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618737987640.png" alt="1618737987640"></p> <h4 id="创建卷组"><a href="#创建卷组" class="header-anchor">#</a> 创建卷组</h4> <ul><li><p>创建卷组思路：将创建好的物理卷组成卷组（或者直接创建卷组）</p></li> <li><p>命令格式：vgcreate  卷组名  设备路径1 设备路径2...</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#创建卷组</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vgcreate systemvg  /dev/sdb2 /dev/sdb3</span>

<span class="token comment">#详细显示卷组信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vgdisplay  systemvg</span>
  --- Volume group ---
  VG Name               systemvg  <span class="token comment">#卷组名字</span>
  System ID             
  Format                lvm2      <span class="token comment">#卷组格式</span>
  Metadata Areas        <span class="token number">2</span>
  Metadata Sequence No  <span class="token number">1</span>
  VG Access             read/write
  VG Status             resizable
  MAX LV                <span class="token number">0</span>
  Cur LV                <span class="token number">0</span>
  Open LV               <span class="token number">0</span>
  Max PV                <span class="token number">0</span>
  Cur PV                <span class="token number">2</span>
  Act PV                <span class="token number">2</span>
  VG Size               <span class="token number">19.99</span> GiB  <span class="token comment">#卷组大小</span>
  PE Size               <span class="token number">4.00</span> MiB
  Total PE              <span class="token number">5118</span>
  Alloc PE / Size       <span class="token number">0</span> / <span class="token number">0</span>   
  Free  PE / Size       <span class="token number">5118</span> / <span class="token number">19.99</span> GiB
  VG UUID               KEP7XS-wrkI-rTUY-RqBa-UJA6-YRkK-iKDabR  <span class="token comment">#卷组UUID</span>

<span class="token comment">#简要显示卷组信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vgs systemvg</span>
  VG       <span class="token comment">#PV #LV #SN Attr   VSize  VFree </span>
  systemvg   <span class="token number">2</span>   <span class="token number">0</span>   <span class="token number">0</span> wz--n- <span class="token number">19</span>.99g <span class="token number">19</span>.99g
</code></pre></div><h4 id="创建逻辑卷"><a href="#创建逻辑卷" class="header-anchor">#</a> 创建逻辑卷</h4> <ul><li><p>创建逻辑卷思路：从创建好的卷组中创建逻辑卷</p></li> <li><p>命令格式：lvcreate -L 大小 -n 逻辑卷名 卷组名</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#创建逻辑卷</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lvcreate -L 10G -n mylv systemvg</span>
  Logical volume <span class="token string">&quot;mylv&quot;</span> created.

<span class="token comment">#简要查看逻辑卷信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lvs</span>
  LV   VG       Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  root centos   -wi-ao---- <span class="token operator">&lt;</span><span class="token number">17</span>.00g                                                    
  swap centos   -wi-ao----   <span class="token number">2</span>.00g                                                    
  mylv systemvg -wi-a-----  <span class="token number">10</span>.00g     
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lvs /dev/systemvg/mylv </span>
  LV   VG       Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  mylv systemvg -wi-a----- <span class="token number">10</span>.00g    
  
 <span class="token comment">#查看卷组信息，卷组信息以变小</span>
 <span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vgs</span>
  VG       <span class="token comment">#PV #LV #SN Attr   VSize   VFree</span>
  centos     <span class="token number">1</span>   <span class="token number">2</span>   <span class="token number">0</span> wz--n- <span class="token operator">&lt;</span><span class="token number">19</span>.00g    <span class="token number">0</span> 
  systemvg   <span class="token number">2</span>   <span class="token number">1</span>   <span class="token number">0</span> wz--n-  <span class="token number">19</span>.99g <span class="token number">9</span>.99g
</code></pre></div><h4 id="格式化文件系统-2"><a href="#格式化文件系统-2" class="header-anchor">#</a> 格式化文件系统</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#格式化文件系统</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkfs.xfs /dev/systemvg/mylv</span>

<span class="token comment">#查看文件系统类型</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># blkid /dev/systemvg/mylv</span>
/dev/systemvg/mylv: <span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;7f08daf8-ae3c-40b2-a282-4514a6f37111&quot;</span> <span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">&quot;xfs&quot;</span> 

<span class="token comment">#挂载使用</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /dbbak</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mount /dev/systemvg/mylv /dbbak</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># df -hT</span>
/dev/mapper/systemvg-mylv xfs        10G   33M   10G    <span class="token number">1</span>% /dbbak
</code></pre></div><h4 id="扩展逻辑卷"><a href="#扩展逻辑卷" class="header-anchor">#</a> 扩展逻辑卷</h4> <ul><li>逻辑卷支线上扩容，逻辑卷的空间来源于卷组，当卷组有足够的空间时，才可以扩展逻辑卷</li> <li>扩展命令：lvextend</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#扩容逻辑卷</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lvextend -L +9G /dev/systemvg/mylv </span>

<span class="token comment">#查看逻辑卷信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lvs </span>
  LV   VG       Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  root centos   -wi-ao---- <span class="token operator">&lt;</span><span class="token number">17</span>.00g                                                    
  swap centos   -wi-ao----   <span class="token number">2</span>.00g                                                    
  mylv systemvg -wi-ao----  <span class="token number">19</span>.00g    <span class="token comment">#扩容成功</span>
</code></pre></div><h4 id="扩展文件系统"><a href="#扩展文件系统" class="header-anchor">#</a> 扩展文件系统</h4> <ul><li><p>当逻辑卷扩大以后，也需要对逻辑卷的文件系统进行扩展</p></li> <li><p>扩展文件系统容量：</p> <ul><li>xfs_growfs    #用于扩容XFS设备</li> <li>resize2fs       #用于扩容EXT3/EXT4设备（了解）resize2fs /dev/systemvg/xxoo</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#扩展文件系统</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># xfs_growfs /dbbak</span>

<span class="token comment">#[root@localhost ~]# df -hT</span>
/dev/mapper/systemvg-mylv xfs        19G   33M   19G    <span class="token number">1</span>% /dbbak

<span class="token comment">#查看卷组信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vgs</span>
  VG       <span class="token comment">#PV #LV #SN Attr   VSize   VFree   </span>
  centos     <span class="token number">1</span>   <span class="token number">2</span>   <span class="token number">0</span> wz--n- <span class="token operator">&lt;</span><span class="token number">19</span>.00g       <span class="token number">0</span> 
  systemvg   <span class="token number">2</span>   <span class="token number">1</span>   <span class="token number">0</span> wz--n-  <span class="token number">19</span>.99g <span class="token number">1016</span>.00m

</code></pre></div><h4 id="扩展卷组"><a href="#扩展卷组" class="header-anchor">#</a> 扩展卷组</h4> <ul><li>卷组的空间来源于物理分区，当卷组没有足够空间提供给逻辑卷时，须扩容卷组</li> <li>扩展卷组命令：vgextend</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vgextend systemvg /dev/sdb5 /dev/sdb6 /dev/sdb7 /dev/sdb8</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vgs</span>
  VG       <span class="token comment">#PV #LV #SN Attr   VSize   VFree  </span>
  centos     <span class="token number">1</span>   <span class="token number">2</span>   <span class="token number">0</span> wz--n- <span class="token operator">&lt;</span><span class="token number">19</span>.00g      <span class="token number">0</span> 
  systemvg   <span class="token number">6</span>   <span class="token number">1</span>   <span class="token number">0</span> wz--n- <span class="token operator">&lt;</span><span class="token number">59</span>.98g <span class="token operator">&lt;</span><span class="token number">40</span>.98g

<span class="token comment">#扩容逻辑卷</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lvextend -L +40G /dev/systemvg/mylv </span>


<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lvs</span>
  LV   VG       Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  root centos   -wi-ao---- <span class="token operator">&lt;</span><span class="token number">17</span>.00g                                                    
  swap centos   -wi-ao----   <span class="token number">2</span>.00g                                                    
  mylv systemvg -wi-ao----  <span class="token number">59</span>.00g   
  
<span class="token comment">#扩展文件系统</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># xfs_growfs /dbbak</span>
/dev/mapper/systemvg-mylv   59G   34M   59G    <span class="token number">1</span>% /dbbak
</code></pre></div><h4 id="课后作业"><a href="#课后作业" class="header-anchor">#</a> 课后作业</h4> <p>1.查看/var/log目录下以包含log的文件</p> <p>[root@localhost ~]# ls /var/log/<em>log</em></p> <p>2.查看/var/log目录下以数字结尾的文件</p> <p>[root@localhost ~]# ls /var/log/*[0-9]</p> <p>3.查看/var/log目录下以字母结尾的文件（包括大写）</p> <p>[root@localhost ~]# ls /var/log/*[a-Z]</p> <p>4.过滤/etc/sudoers文件以root开头的行</p> <p>root@localhost ~]# grep ^root /etc/sudoers
root	ALL=(ALL) 	ALL</p> <p>5.看/etc/sudoers文件有效的配置</p> <p>[root@localhost ~]# grep -v '^#' /etc/sudoers | grep -v '^$' -n</p> <p>6.查找/etc/目录下crontab文件存放位置，并查看文件内容</p> <p>[root@localhost ~]# find /etc/ -name crontab -type f</p> <p>[root@localhost ~]# cat /etc/crontab</p> <p>[root@localhost ~]# find /etc/ -name crontab -type f -exec cat {} ;</p> <p>7.查找10分钟内被修改的文件</p> <p>[root@localhost ~]# find / -cmin -10 -type f</p> <p>8.查找/var/log目录下30天之前被修改且大于1M的文件，清空文件内容</p> <p>[root@localhost ~]# find /var/log -mtime +30 -type f -size +10k  -exec cp /dev/null {} ;</p> <p>9.Linux下你常熟悉的压缩格式有哪些？</p> <p>gzip  bzip2  xz</p> <p>10.对/home目录打包并压缩，打包后名为home.tar.gz</p> <p>[root@localhost ~]# tar -czf home.tar.gz /home</p> <p>11.将home.tar.gz压缩包内容解压至/homebak目录下</p> <p>[root@localhost ~]# tar -xvf home.tar.gz -C /homebak/</p> <p>12.MBR分区格式可以划分多少个主分区？支持多大容量磁盘？</p> <p>4个主分区，2.2T</p> <p>13.GPT分区格式可以划分多少个主分区？支持多大容量磁盘？</p> <p>128主分区，18EB</p> <p>14.CentOS7分区默认使用的文件系统类型是什么？</p> <p>xfs</p> <p>15.如何查看一块磁盘的分区格式？及扩展分区大小？</p> <p>[root@localhost ~]# fdisk -l /dev/sdc</p> <p>磁盘标签类型：gpt</p> <p>16如何查看一块磁盘剩余容量？</p> <p>[root@localhost ~]# lsblk /dev/sdc</p> <p>17.linux下开机自动挂载文件是哪个？</p> <p>/etc/fstab</p> <p>18.如何查看一个分区文件系统类型？及使用情况？</p> <p>[root@localhost ~]# df -hT</p> <p>19.为根分区扩容40G空间（添加硬盘、分区）</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#查看根分区卷组</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vgs</span>
  VG       <span class="token comment">#PV #LV #SN Attr   VSize   VFree   </span>
  centos     <span class="token number">1</span>   <span class="token number">2</span>   <span class="token number">0</span> wz--n- <span class="token operator">&lt;</span><span class="token number">19</span>.00g       <span class="token number">0</span> 

<span class="token comment">#扩容根分区卷组</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vgextend centos /dev/sdc2 /dev/sdc3</span>

<span class="token comment">#查看根分区逻辑卷信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lvs</span>
  LV   VG       Attr       LSize   
  root centos   -wi-ao---- <span class="token operator">&lt;</span><span class="token number">17</span>.00g  
  
<span class="token comment">#扩容逻辑卷</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lvextend -L +39G /dev/centos/root </span>

<span class="token comment">#查看逻辑卷信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lvs</span>
  root centos   -wi-ao---- <span class="token operator">&lt;</span><span class="token number">56</span>.00g  
  
<span class="token comment">#查看正在使用的分区信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># df -hT</span>
文件系统                类型      容量  已用  可用 已用% 挂载点
/dev/mapper/centos-root xfs        17G  <span class="token number">4</span>.4G   13G   <span class="token number">26</span>% /

<span class="token comment">#扩容文件系统</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># xfs_growfs /</span>

<span class="token comment">#查看使用情况</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># df -h</span>
文件系统                 容量  已用  可用 已用% 挂载点
/dev/mapper/centos-root   56G  <span class="token number">4</span>.4G   52G    <span class="token number">8</span>% /
</code></pre></div><h4 id="删除逻辑卷"><a href="#删除逻辑卷" class="header-anchor">#</a> 删除逻辑卷</h4> <ul><li>逻辑卷的删除不允许联机操作，需要先卸载，在执行删除</li> <li>在执行删除操作时，首先删除LV逻辑卷，在删除VG卷组，最后删除PV物理卷</li> <li>删除命令：lvremove</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#删除逻辑卷错误示范</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lvremove /dev/systemvg/mylv </span>
  Logical volume systemvg/mylv contains a filesystem <span class="token keyword">in</span> use.  <span class="token comment">#提示文件正在使用中</span>

<span class="token comment">#需要先卸载</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># umount /dblod/</span>

<span class="token comment">#删除逻辑卷</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lvremove /dev/systemvg/mylv </span>
Do you really want to remove active logical volume systemvg/mylv? <span class="token punctuation">[</span>y/n<span class="token punctuation">]</span>: y
  Logical volume <span class="token string">&quot;mylv&quot;</span> successfully removed

<span class="token comment">#删除卷组</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vgremove systemvg</span>
  Volume group <span class="token string">&quot;systemvg&quot;</span> successfully removed

<span class="token comment">#删除物理卷后将恢复至普通分区</span>
<span class="token comment">#查看物理卷</span>
<span class="token punctuation">[</span>root@thinkmo ~<span class="token punctuation">]</span><span class="token comment"># pvs   </span>

<span class="token comment">#删除物理卷</span>
<span class="token punctuation">[</span>root@thinkmo ~<span class="token punctuation">]</span><span class="token comment"># pvremove /dev/sdb2 /dev/sdb3 /dev/sdb5 /dev/sdb6 /dev/sdb6 /dev/sdb7 /dev/sdb8</span>
</code></pre></div><h4 id="逻辑卷的缩减"><a href="#逻辑卷的缩减" class="header-anchor">#</a> 逻辑卷的缩减</h4> <ul><li>命令lvreduce</li> <li>不允许联机缩减</li> <li>先缩减文件系统的空间，在缩减逻辑卷的空间</li></ul> <h4 id="raid磁盘阵列"><a href="#raid磁盘阵列" class="header-anchor">#</a> RAID磁盘阵列</h4> <ul><li>RAID中文全称：独立磁盘冗余阵列 ，简称磁盘阵列</li> <li>RAID可通过技术（软件/硬件）将多个独立的磁盘整合成一个巨大容量大逻辑磁盘使用</li> <li>RAID可以提高数据I/O（读写）速度，和冗余数据的功能</li></ul> <h4 id="raid级别"><a href="#raid级别" class="header-anchor">#</a> RAID级别</h4> <p>RAID0：等量存储，至少由2块磁盘组成，同一个文档等量存放在不同的磁盘并行写入数据来提高效率，但只是单纯的提高效率，并没有冗余功能，如果其中一块盘故障，数据会丢失，不适合存放重要数据</p> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618897853478.png" alt="1618897853478"></p> <p>RAID1：完整备份，至少由两块磁组成，同一个文档复制成多份存储到不同磁盘提高可靠性，读写速度没有提升，适合存储重要的数据</p> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618899100153.png" alt="1618899100153"></p> <p>RAID2：至少由3块磁盘组成，数据分散存储在不同磁盘，在读写数据时需要对数据时时校验，由于采用的校验算法复杂，数据量比原有数据增大，而且导致硬件开销较大</p> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618900912522.png" alt="1618900912522"></p> <p>RAID3：至少由三块磁盘组成，同一份文档分散写入不同的磁盘，校验数据单独存放在另外一块磁盘，由于每次读写操作都会访问校验盘，容易导致校验盘长时间高负荷工作而挂掉，如果校验盘损坏数据将无法恢复</p> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618901200523.png" alt="1618901200523"></p> <p>RAID4：与RAID3类似，至少由3块磁盘组成，同一份文档分散存写入不同磁盘，校验数据单独存放在另外一块磁盘，由于每次读写操作都会访问校验盘，容易导致校验盘长时间高负荷工作而挂掉，如果校验盘损坏数据将无法恢复，与RAID3的区别是数据分割方式不一样</p> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618901653596.png" alt="1618901653596"></p> <p>RAID5：至少由3块磁盘组成，同一份文档分散写入不同磁盘，每个硬盘都有校验数据，其中校验数据会占用磁盘三分之一的空间，三分之二的空间存放原始数据，允许同时坏一块磁盘，当一块磁盘损坏，其他磁盘里的数据配合校验信息可将数据恢复回来</p> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618902056141.png" alt="1618902056141"></p> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618904086682.png" alt="1618904086682"></p> <p>RAID6：至少由4块磁盘组成，同一份文档分散写入不同磁盘，每个磁盘都有校验数据，由于采用双校验算法，所以校验数据量是RAID5的两倍，需要占用2块磁盘空间存放校验数据，两块盘存放原始数据，由于数据校验的算法计算量偏大，所以在速写速度上没有RAID5快，允许同时坏2块磁盘</p> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618904332017.png" alt="1618904332017"></p> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618904036923.png" alt="1618904036923"></p> <p>RAID7：美国SCC公司专利，花钱</p> <p>RAID10：RAID10=RAID1+RAID0合二为一，最少需要4块磁盘，先将4块硬盘组成两组RAID1，在将两组RAID1组成一个RAID0，既提高数据读写速度，又能保障数据安全性，缺点是可用容量是总容量的一半</p> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618907637359.png" alt="1618907637359"></p> <h4 id="实现raid方式"><a href="#实现raid方式" class="header-anchor">#</a> 实现RAID方式</h4> <ul><li>实现RAID通常有三种方式，通过软件技术实现RAID功能（软RAID），不稳定</li> <li>外接式磁盘阵列柜，被常用在大型服务器上，不过这类产品价格昂贵</li> <li>RAID磁盘阵列卡，分为服务器自带和额外安装，硬RAID比软RAID更安全稳定，RAID卡带有缓存功能可实现数据自动恢复，RAID卡有电池</li></ul> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618909597594.png" alt="1618909597594"></p> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618857273424.png" alt="1618857273424"></p> <ul><li>配置硬RAID方式</li></ul> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618988695705.png" alt="1618988695705"></p> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618988740634.png" alt="1618988740634"></p> <p><img src="C:%5CUsers%5Czhiy_%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1618988754045.png" alt="1618988754045"></p> <h4 id="进程管理"><a href="#进程管理" class="header-anchor">#</a> 进程管理</h4> <ul><li>什么是程序：用计算机语言编写的命令序列集合，用来实现特定的目标或解决特定的问题，程序占用磁盘空间，程序是静态并且是永久的</li> <li>什么是进程：正在运行中的程序叫进程，占用内存空间，进程是动态的，进程是有生命周期的，进程有自己的独立内存空间，每启动一个进程，系统就会为它分配内存空间并分配一个PID号，每个进程都会对应一个父进程，而父进程可以复制多个子进程，每种进程都有两种方式存在，前台与后台，一般进程都是以后台方式运</li> <li>什么是线程：线程也被称为轻量级进程，被包含在进程中，是进程的一个子集，是进程中的实际运作单位，一个进程中可以并发多个线程，每条线程并行执行不同的任务，每个线程都是独立的，线程之间共享进程的内存空间，在多线程的程序中，由于线程很“轻”，故线程的切换非常迅速且开销小（在同一进程中）</li></ul> <h4 id="查看进程树"><a href="#查看进程树" class="header-anchor">#</a> 查看进程树</h4> <ul><li>pstree以树状结构显示进程信息，包括进程之间的关系</li> <li>命令格式：pstree  [选项...] [参数...]</li> <li>常用选项：
<ul><li>-p     #显示进程PID</li> <li>-a     #显示完整的命令行</li> <li>-u     #列出每个进程所属账号名称</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#查看进程树</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pstree</span>
systemd─┬─ModemManager───2*<span class="token punctuation">[</span><span class="token punctuation">{</span>ModemManager<span class="token punctuation">}</span><span class="token punctuation">]</span>
CentOS7版本：天父进程systemd
CentOS6版本：天父进程init，Apstart
CentOS5版本：天赋进程init

<span class="token comment">#以PID形式显示进程信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pstree -p</span>
systemd<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>─┬─ModemManager<span class="token punctuation">(</span><span class="token number">6714</span><span class="token punctuation">)</span>─┬─<span class="token punctuation">{</span>ModemManager<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">6739</span><span class="token punctuation">)</span>

<span class="token comment">#查看系统用户的进程信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pstree -p lisi</span>
sshd<span class="token punctuation">(</span><span class="token number">15086</span><span class="token punctuation">)</span>───bash<span class="token punctuation">(</span><span class="token number">15089</span><span class="token punctuation">)</span>───vim<span class="token punctuation">(</span><span class="token number">15244</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pstree -pa lisi</span>
sshd,15086    
  └─bash,15089
      └─vim,15244 <span class="token number">1</span>.txt

<span class="token comment">#查看系统所有用户的进程</span>
root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pstree -up</span>
<span class="token punctuation">..</span>.
           ├─smartd<span class="token punctuation">(</span><span class="token number">6726</span><span class="token punctuation">)</span>
           ├─sshd<span class="token punctuation">(</span><span class="token number">7337</span><span class="token punctuation">)</span>─┬─sshd<span class="token punctuation">(</span><span class="token number">8880</span><span class="token punctuation">)</span>───bash<span class="token punctuation">(</span><span class="token number">8887</span><span class="token punctuation">)</span>───pstree<span class="token punctuation">(</span><span class="token number">15395</span><span class="token punctuation">)</span>
           │            └─sshd<span class="token punctuation">(</span><span class="token number">15066</span><span class="token punctuation">)</span>───sshd<span class="token punctuation">(</span><span class="token number">15086</span>,lisi<span class="token punctuation">)</span>───bash<span class="token punctuation">(</span><span class="token number">15089</span><span class="token punctuation">)</span>───vim<span class="token punctuation">(</span><span class="token number">15244</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>ps aux：unix格式静态查看系统进程，查看系统所有进程信息
<ul><li>a   #显示当前终端所有进程</li> <li>u    #以用户格式输出</li> <li>x     #当前用户在所有终端下的进程</li></ul></li> <li>ps -ef：Linux格式静态查看系统进程，查看系统所有进程信息
<ul><li>-e    #显示系统所有进程</li> <li>-l     #以长格式输出信息</li> <li>-f     #显示最完整的进程信息</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#查看系统所有进程信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux</span>
<span class="token environment constant">USER</span> PID %CPU %MEM VSZ   RSS TTY STAT START TIME COMMAND
root  <span class="token number">1</span>  <span class="token number">2.2</span>  <span class="token number">0.3</span> <span class="token number">127992</span> <span class="token number">6576</span> ?  Ss   09:08 <span class="token number">0</span>:01 /usr/lib/systemd/systemd --switched-root
<span class="token comment">#个字段含义如下：</span>
user：进程属于那个用户
PID ：进程PID号
%CPU：进程占用CPU资源百分比
%MEM：进程占用物理内存百分比
VSZ ：进程使用掉的虚拟内存量（单位：Kb）
RSS ：进程占用固定内存量（单位：Kb）
TTY ：进程在那个终端运行，如果内核直接调用则显示“？”，tty1-tty6表示本机终端登录的用户进程，pts/0-255则表示远程终端登录用户的进程
STAT：进程状态：R（Running）运行，S（Sleep）休眠，s包含子进程，T（stop）停止，Z（Zombie）僵尸，+后台进程
START：进程启动时间
TIME ：占用CPU运算时间
COMMAND：产生进程的命令

<span class="token comment">#查看系统所有进程信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps -ef</span>
<span class="token environment constant">UID</span>  PID <span class="token environment constant">PPID</span>  C STIME TTY    TIME  CMD
root <span class="token number">1</span>      <span class="token number">0</span>  <span class="token number">0</span> 09:08 ?  00:00:01 /usr/lib/systemd/systemd --switched-root <span class="token parameter variable">--system</span> <span class="token parameter variable">--dese</span>
<span class="token comment">#PPID ：该进程的父进程ID号</span>
</code></pre></div><h4 id="top查看系统健康状态"><a href="#top查看系统健康状态" class="header-anchor">#</a> top查看系统健康状态</h4> <ul><li>top命令动态来查看系统运行性能及状态信息</li> <li>命令格式：top [选项...]</li> <li>常用选项：-d   #指定刷新秒数，默认为3秒刷新一次</li> <li>交互界面显示指令：
<ul><li>键盘上下键翻行</li> <li>h              #获取交互模式帮助</li> <li>P(大写)    #按照CPU使用资源排序</li> <li>M             #按照内存使用资源排序</li> <li>q              #退出</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># top</span>
<span class="token function">top</span> - <span class="token number">21</span>:22:04 up <span class="token number">12</span>:13,  <span class="token number">2</span> users,  load average: <span class="token number">0.00</span>, <span class="token number">0.01</span>, <span class="token number">0.05</span>
Tasks: <span class="token number">115</span> total,   <span class="token number">1</span> running, <span class="token number">114</span> sleeping,   <span class="token number">0</span> stopped,   <span class="token number">0</span> zombie
%Cpu<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:  <span class="token number">0.3</span> us,  <span class="token number">0.3</span> sy,  <span class="token number">0.0</span> ni, <span class="token number">99.3</span> id,  <span class="token number">0.0</span> wa,  <span class="token number">0.0</span> hi,  <span class="token number">0.0</span> si,  <span class="token number">0.0</span> st
KiB Mem <span class="token builtin class-name">:</span>  <span class="token number">1863224</span> total,  <span class="token number">1502920</span> free,   <span class="token number">107872</span> used,   <span class="token number">252432</span> buff/cache
KiB Swap:  <span class="token number">2097148</span> total,  <span class="token number">2097148</span> free,        <span class="token number">0</span> used.  <span class="token number">1565576</span> avail Mem 
   
   PID <span class="token environment constant">USER</span>      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND   
   <span class="token number">8317</span> root      <span class="token number">20</span>   <span class="token number">0</span>  <span class="token number">161984</span>   <span class="token number">2220</span>   <span class="token number">1568</span> R  <span class="token number">0.7</span>  <span class="token number">0.1</span>   <span class="token number">0</span>:01.62 <span class="token function">top</span>   
<span class="token comment">#第一行top每个字段含义如下：</span>
第二列：21:22:04：当前系统时间
第三列：up <span class="token number">12</span>:13：系统运行时间，该系统以运行12小时13分钟（up <span class="token number">10</span> day，12:13 代表运行10天12小时13分钟）
第四列：2 users：当前系统登录终端数量
第五列：load average: <span class="token number">0.00</span>, <span class="token number">0.01</span>, <span class="token number">0.05</span>：CPU1分钟，5分钟，15分钟之前平均负载量，根据CPU核数判断系统CPU负载量，1核CPU若高于1代表负载过高，2核CPU若高于2代表负载过高，依次类推。。。

<span class="token comment">#第二行Tasks每个字段含义如下：</span>
第二列：115 total：当前系统中进程的总数量
第三列：1 running：正在运行的进程数量
第四列：114 sleeping：正在睡眠的进程数量
第五列：0 stopped：正在停止的进程数量
第六列：0 zombie：僵尸进程数量，僵尸进程是当子进程比父进程先结束，而父进程又没有回收子进程，释放子进程占用的资源，此时子进程将成为一个僵尸进程。
<span class="token comment">#查找僵尸进程与其父进程</span>
<span class="token function">ps</span> <span class="token parameter variable">-e</span> <span class="token parameter variable">-o</span> ppid,stat <span class="token operator">|</span> <span class="token function">grep</span> Z
命令解释：
<span class="token parameter variable">-o</span> 自定义输出字段，我们设定显示字段为 stat（状态）, ppid（父进程id）, z或者Z的进程为僵尸进程，所以我们使用grep抓取stat状态为zZ进程
<span class="token comment">#杀死进程</span>
<span class="token function">kill</span> <span class="token parameter variable">-9</span> + 父进程号

<span class="token comment">#第三行%Cpu(s)每个字段含义如下</span>
第二列：0.0 us：用户进程占用的CPU百分比
第三列：0.0 sy：系统进程占用的CPU百分比
第四列：0.0 ni：改变过优先级的用户进程占用的CPU百分比
第五列：100.0 id：空闲的CPU百分比（重点关注）
第六列：0.0 wa：等待输入/输出的进程的占用CPU百分比
第七列：0.0 hi：硬中断请求服务占用的CPU百分比
第八列：0.0 si：软中断请求服务占用的CPU百分比
第九列：0.0 st：虚拟时间百分比，当有虚拟机时，虚拟CPU等待实际CPU的时间百分比

<span class="token comment">#第四行KiB Mem每个字段含义如下：</span>
第二列：1863224 total：物理内存总量，单位KB
第三列：1502516 free： 空闲内存总量，单位KB
第四列：108240 used：  以使用的内存总量，单位KB
第五列：252468 buff/cache：块设备与普通文件占用的缓存数量

<span class="token comment">#第五行KiB Swap每个字段含义如下：</span>
第二列：2097148 total：交换空间总量，单位KB
第三列：2097148 free：可用空闲交换空间总量，单位KB
第四列：0 used：：以使用的交换空间总量，单位KB
第五列：1565180 avail Mem：可用于进程下一次分配的物理内存数量

<span class="token comment">#第六行每个字段含义如下：</span>
PID：进程PID号
<span class="token environment constant">USER</span>：进程所有者的用户名
PR：进程优先级执行顺序，越小越优先被执行
NI：负值表示高优先级，正值表示低优先级，越小越优先被执行
VIRT：进程使用的虚拟内存总量，单位kb   
RES：进程使用的、未被换出的物理内存大小，单位kb
SHR：共享内存大小，单位kb
S：进程状态。D<span class="token operator">=</span>不可中断的睡眠状态 <span class="token assign-left variable">R</span><span class="token operator">=</span>运行 <span class="token assign-left variable">S</span><span class="token operator">=</span>睡眠 <span class="token assign-left variable">T</span><span class="token operator">=</span>跟踪/停止 <span class="token assign-left variable">Z</span><span class="token operator">=</span>僵尸进程
%CPU：进程使用的CPU百分比（重点关注）
%MEM：进程使用的物理内存百分比（重点关注）
TIME+：进程使用的CPU时间总计，单位1/100秒
COMMAND：命令名/命令行
</code></pre></div><h4 id="检索进程"><a href="#检索进程" class="header-anchor">#</a> 检索进程</h4> <ul><li>pgrep 通过匹配其程序名，找到匹配的进程</li> <li>命令格式：pgrep [选项...] [参数...]</li> <li>常用选项：
<ul><li>-l    #输出进程名与PID</li> <li>-U   #检索指定用户进程</li> <li>-t     #检索指定终端进程</li> <li>-x     #精确匹配完整进程名</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#过滤sshd进程</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pgrep sshd</span>
<span class="token number">7337</span>
<span class="token number">8880</span>
<span class="token number">15066</span>
<span class="token number">15086</span>
<span class="token number">17027</span>

过滤sshd进程，并显示进程名称
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pgrep -l sshd</span>
<span class="token number">7337</span> sshd
<span class="token number">8880</span> sshd
<span class="token number">15066</span> sshd
<span class="token number">15086</span> sshd
<span class="token number">17027</span> sshd

<span class="token comment">#过滤指定用户的进程</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pgrep -lU lisi</span>
<span class="token number">15086</span> sshd
<span class="token number">15089</span> <span class="token function">bash</span>
<span class="token number">15244</span> <span class="token function">vim</span>

<span class="token comment">#按照用户名过滤进程时，选项不要颠倒</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pgrep -Ul lisi</span>
pgrep: invalid user name: l


<span class="token comment">#查看系统所有终端用户</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># who</span>
root     pts/0        <span class="token number">2021</span>-04-24 <span class="token number">14</span>:06 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>
lisi     pts/1        <span class="token number">2021</span>-04-24 <span class="token number">15</span>:57 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>
root     pts/2        <span class="token number">2021</span>-04-24 <span class="token number">16</span>:29 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>

<span class="token comment">#过滤用户在指定终端开启的进程信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pgrep -lU lisi -t pts/1</span>
<span class="token number">15089</span> <span class="token function">bash</span>
<span class="token number">15244</span> <span class="token function">vim</span>

<span class="token comment">#过滤用户在指定终端开启的进程信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pgrep -lU lisi -t pts/3</span>
<span class="token number">19704</span> <span class="token function">bash</span>
<span class="token number">19754</span> <span class="token function">top</span>

<span class="token comment">#精确匹配进程名（没有则不显示）</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pgrep -x ssh</span>

<span class="token comment">#精确匹配进程名</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pgrep -xl crond</span>
<span class="token number">7362</span> crond
</code></pre></div><h4 id="进程的前后台调度"><a href="#进程的前后台调度" class="header-anchor">#</a> 进程的前后台调度</h4> <ul><li>&amp; 					      #将进程放入后台运行</li> <li>jobs -l                   #查看后台进程列表</li> <li>fg 进程编号          #将后台进程恢复至前台运行</li> <li>ctrl + z 组合键      #挂起当前进程并放入后台</li> <li>bg 进程编号          #激活后台被挂起进程</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 5m &amp;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">20130</span>

<span class="token comment">#查看后台进程信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># jobs -l</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>+ <span class="token number">20130</span> 运行中               <span class="token function">sleep</span> 5m <span class="token operator">&amp;</span>

<span class="token comment">#将后台进程放入前台运行</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># fg 1</span>
<span class="token function">sleep</span> 5m

<span class="token comment">#挂起前台进程放入后台</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># jobs</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>+  已停止               <span class="token function">sleep</span> 5m

<span class="token comment">#激活后台的进程</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># bg 1</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>+ <span class="token function">sleep</span> 5m <span class="token operator">&amp;</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># jobs -l</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>+ <span class="token number">20130</span> 运行中               <span class="token function">sleep</span> 5m <span class="token operator">&amp;</span>
</code></pre></div><h4 id="杀死进程"><a href="#杀死进程" class="header-anchor">#</a> 杀死进程</h4> <ul><li>杀死进程的方式</li> <li>ctrl + c 组合键结束当前命令程序</li> <li>kill [选项...] PID
<ul><li>常用选项：-l   #列出可用进程信号</li> <li>常用信号：-1重启进程，-9强制杀死进程，-15正常杀死进程（默认信号无需指定）</li></ul></li> <li>killall -9 进程名                    #强制杀死进程</li> <li>killall -9 -u 用户名              #强制杀死该用户所有进程</li> <li>pkill  -9  进程名                   #强制杀死进程
<ul><li>常用选项：-t  终端号   #提出指定终端用户</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#结束前台正在运行的进程</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 5m</span>
^C

<span class="token comment">#启用进程放入后台</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 5m &amp;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">21150</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 6m &amp;</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token number">21155</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 7m &amp;</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token number">21159</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 8m &amp;</span>
<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token number">21162</span>

<span class="token comment">#查看后台进程</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># jobs -l</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token number">21150</span> 运行中               <span class="token function">sleep</span> 5m <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>  <span class="token number">21155</span> 运行中               <span class="token function">sleep</span> 6m <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>- <span class="token number">21159</span> 运行中               <span class="token function">sleep</span> 7m <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>+ <span class="token number">21162</span> 运行中               <span class="token function">sleep</span> 8m <span class="token operator">&amp;</span>

<span class="token comment">#杀死后台指定的进程（按照PID）</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># kill 21150</span>

<span class="token comment">#查看后台进程</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># jobs -l</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token number">21150</span> 已终止               <span class="token function">sleep</span> 5m
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>  <span class="token number">21155</span> 运行中               <span class="token function">sleep</span> 6m <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>- <span class="token number">21159</span> 运行中               <span class="token function">sleep</span> 7m <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>+ <span class="token number">21162</span> 运行中               <span class="token function">sleep</span> 8m <span class="token operator">&amp;</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># kill 21155</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># jobs -l</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>  <span class="token number">21155</span> 已终止               <span class="token function">sleep</span> 6m
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>- <span class="token number">21159</span> 运行中               <span class="token function">sleep</span> 7m <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>+ <span class="token number">21162</span> 运行中               <span class="token function">sleep</span> 8m <span class="token operator">&amp;</span>

<span class="token comment">#强制杀死进程</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># kill -9 21159</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># jobs -l</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>- <span class="token number">21159</span> 已杀死               <span class="token function">sleep</span> 7m
<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>+ <span class="token number">21162</span> 运行中               <span class="token function">sleep</span> 8m <span class="token operator">&amp;</span>

<span class="token comment">#启动进程</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 4m &amp;</span>
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token number">21402</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 5m &amp;</span>
<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token number">21406</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 6m &amp;</span>
<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token number">21409</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 7m &amp;</span>
<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token number">21412</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># jobs -l</span>
<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>  <span class="token number">21162</span> 运行中               <span class="token function">sleep</span> 8m <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span>  <span class="token number">21402</span> 运行中               <span class="token function">sleep</span> 4m <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span>  <span class="token number">21406</span> 运行中               <span class="token function">sleep</span> 5m <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span>- <span class="token number">21409</span> 运行中               <span class="token function">sleep</span> 6m <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span>+ <span class="token number">21412</span> 运行中               <span class="token function">sleep</span> 7m <span class="token operator">&amp;</span>

<span class="token comment">#按照进程名去杀</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># killall sleep</span>
<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>   已终止               <span class="token function">sleep</span> 8m
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span>   已终止               <span class="token function">sleep</span> 4m
<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span>   已终止               <span class="token function">sleep</span> 5m
<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span>-  已终止               <span class="token function">sleep</span> 6m
<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span>+  已终止               <span class="token function">sleep</span> 7m

<span class="token comment">#启动进程</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 5m &amp;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">21491</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 6m &amp;</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token number">21495</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 7m &amp;</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token number">21498</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># jobs -l</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token number">21491</span> 运行中               <span class="token function">sleep</span> 5m <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>- <span class="token number">21495</span> 运行中               <span class="token function">sleep</span> 6m <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>+ <span class="token number">21498</span> 运行中               <span class="token function">sleep</span> 7m <span class="token operator">&amp;</span>

<span class="token comment">#按照进程名强制杀死进程</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># killall -9 sleep</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>   已杀死               <span class="token function">sleep</span> 5m
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>-  已杀死               <span class="token function">sleep</span> 6m
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>+  已杀死               <span class="token function">sleep</span> 7m

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># who</span>
root     pts/0        <span class="token number">2021</span>-04-24 <span class="token number">14</span>:06 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>
lisi     pts/1        <span class="token number">2021</span>-04-24 <span class="token number">15</span>:57 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>
root     pts/2        <span class="token number">2021</span>-04-24 <span class="token number">16</span>:29 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>
lisi     pts/3        <span class="token number">2021</span>-04-24 <span class="token number">17</span>:14 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>

<span class="token comment">#杀死指定用户的所有进程（讲用户提出系统）</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># killall -9 -u lisi</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># who</span>
root     pts/0        <span class="token number">2021</span>-04-24 <span class="token number">14</span>:06 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>
root     pts/2        <span class="token number">2021</span>-04-24 <span class="token number">16</span>:29 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>

<span class="token comment">#pkill命令演示</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 4m &amp;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">21870</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 5m &amp;</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token number">21873</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 6m &amp;</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token number">21876</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># jobs </span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>   运行中               <span class="token function">sleep</span> 4m <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>-  运行中               <span class="token function">sleep</span> 5m <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>+  运行中               <span class="token function">sleep</span> 6m <span class="token operator">&amp;</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pkill sleep</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>   已终止               <span class="token function">sleep</span> 4m
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>-  已终止               <span class="token function">sleep</span> 5m
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>+  已终止               <span class="token function">sleep</span> 6m

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># who</span>
root     pts/0        <span class="token number">2021</span>-04-24 <span class="token number">14</span>:06 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>
lisi     pts/1        <span class="token number">2021</span>-04-24 <span class="token number">17</span>:47 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>
root     pts/2        <span class="token number">2021</span>-04-24 <span class="token number">16</span>:29 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>
lisi     pts/3        <span class="token number">2021</span>-04-24 <span class="token number">17</span>:48 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pkill -9 -t pts/3</span>
</code></pre></div><h4 id="用户登录分析"><a href="#用户登录分析" class="header-anchor">#</a> 用户登录分析</h4> <ul><li><p>users  who  w   #查看以登录的用户信息（详细度不同）</p></li> <li><p>last   #显示登录成功的用户信息</p></li> <li><p>lastb #显示登录失败的用户信息</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># users</span>
lisi root root
<span class="token comment">#root：以登录系统的用户名</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># who</span>
root     pts/0        <span class="token number">2021</span>-04-24 <span class="token number">14</span>:06 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>
lisi     pts/1        <span class="token number">2021</span>-04-24 <span class="token number">17</span>:47 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>
root     pts/2        <span class="token number">2021</span>-04-24 <span class="token number">16</span>:29 <span class="token punctuation">(</span><span class="token number">192.168</span>.0.1<span class="token punctuation">)</span>
<span class="token comment">#第一列：以登录系统的用户名</span>
<span class="token comment">#第二列：用户登录的终端编号</span>
<span class="token comment">#第三列：登陆时间</span>
<span class="token comment">#第四列：远程登录地址</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># w</span>
 08:16:10 up <span class="token number">55</span> min,  <span class="token number">1</span> user,  load average: <span class="token number">0.00</span>, <span class="token number">0.01</span>, <span class="token number">0.05</span>
<span class="token environment constant">USER</span>     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT
root     pts/0    <span class="token number">192.168</span>.0.1      07:21    <span class="token number">2</span>.00s  <span class="token number">0</span>.10s  <span class="token number">0</span>.00s w
<span class="token comment">#第一行为top命令显示的第一行数据</span>
<span class="token comment">#第二行每列含义如下：</span>
<span class="token environment constant">USER</span>：以登录的用户名
TTY：用户登录终端编号
FROM：登录地址
LOGIN@：登录时间
IDLE：用户空闲时间，这是个计时器，一旦用户执行任何操作，该计时器便会被重置
JCPU：该终端所有进程占用CPU处理时间，包括正在运行和后台作业占用时间。
PCPU：进程执行以后消耗的CPU时间
WHAT：当前正在执行的任务

<span class="token comment">#显示登录成功用户</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># last</span>
lisi     pts/1        <span class="token number">192.168</span>.0.1      Sat Apr <span class="token number">24</span> 07:56 - 08:03  <span class="token punctuation">(</span>00:07<span class="token punctuation">)</span> 
<span class="token comment">#第一列：用户名</span>
<span class="token comment">#第二列：用户登录终端编号</span>
<span class="token comment">#第三列：登录地址</span>
<span class="token comment">#第四列：登录起使时间</span>
<span class="token comment">#第五列：登录结束时间</span>
<span class="token comment">#第六列：登录持续时间</span>

<span class="token comment">#查看最近2次登录系统成功的用户</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># last -2</span>
lisi     pts/3        <span class="token number">192.168</span>.0.1      Sat Apr <span class="token number">24</span> <span class="token number">17</span>:48 - <span class="token number">17</span>:50  <span class="token punctuation">(</span>00:01<span class="token punctuation">)</span>    
lisi     pts/3        <span class="token number">192.168</span>.0.1      Sat Apr <span class="token number">24</span> <span class="token number">17</span>:47 - <span class="token number">17</span>:48  <span class="token punctuation">(</span>00:00<span class="token punctuation">)</span>  

<span class="token comment">#查看登录失败用户</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lastb</span>
lisi     ssh:notty    <span class="token number">192.168</span>.0.1      Sat Apr <span class="token number">24</span> 08:52 - 08:52  <span class="token punctuation">(</span>00:00<span class="token punctuation">)</span> 
</code></pre></div><h4 id="linux软件包类型"><a href="#linux软件包类型" class="header-anchor">#</a> Linux软件包类型</h4> <ul><li>开源软件：软件源代码开放，供用户免费学习，允许用户二次开发，用户使用放心，后期开发者不维护，有人提我们维护！</li> <li>闭源软件：软件源代码不公开发布，无法二次开发，后期开发者不维护对公司损失很大！</li></ul> <h4 id="开源软件包类型"><a href="#开源软件包类型" class="header-anchor">#</a> <strong>开源软件包类型</strong></h4> <ul><li>源码包</li> <li>二进制包（RPM包）</li></ul> <h4 id="源码包特点"><a href="#源码包特点" class="header-anchor">#</a> 源码包特点</h4> <ul><li><p>源码包优点：可以看到软件源代码，安装灵活，可以自定义安装路径与安装功能，卸载方便</p></li> <li><p>源码包缺点：安装过程麻烦，需要用户手动编译，需要手动解决软件包的依赖关系</p></li></ul> <h4 id="rpm包特点"><a href="#rpm包特点" class="header-anchor">#</a> RPM包特点</h4> <ul><li><p>RPM包优点：由于已经提前被编译过，所以安装简单，安装速度快</p></li> <li><p>RPM包缺点：所有功能用户无法自定义，安装没有源码包灵活，不可以看到软件源代码</p></li> <li><p>RPM包命名规则，如：vsftpd-3.0.2-25.el7.x86_64.rpm</p> <ul><li>vsftpd      #软件包名称</li> <li>3.0.2        #软件包版本，主版本.次版本.修改版本</li> <li>25            #补丁次数</li> <li>el7           #适合的系统（el7表示RHEL7）</li> <li>x86_64    #适合的CPU架构</li> <li>rpm         #rpm包扩展名</li></ul></li></ul> <h4 id="rpm管理软件包"><a href="#rpm管理软件包" class="header-anchor">#</a> RPM管理软件包</h4> <ul><li><p>RPM命令管理软件包需要手动解决软件包之间依赖关系</p> <ul><li>树形依赖：a--&gt;b--&gt;c--d</li> <li>环形依赖：a--&gt;b--&gt;c--a</li> <li>模块依赖：需要模块文件支持，模块查询地址：www.rpmfind.net</li></ul></li> <li><p>命令格式：rpm  选项...  程序名/软件包全名</p></li> <li><p>常用选项：</p> <ul><li>-q         #仅查询软件是否安装</li> <li>-qa       #列出所有已经安装在系统中的所有软件，可配合grep过滤指定的软件包</li> <li>-qi        #列出软件包详细信息，包含版本与官网地址</li> <li>-qf       #后边接文件名，查询配置文件由哪个软件包产生</li> <li>-ql        #列出与该软件包相关所有文件与目录的存放位置</li> <li>-ivh      #i安装，v显示详细信息，h显示软件安装进度</li> <li>-Uvh    #升级安装软件包（升级时要做好相关配置文件的备份）</li> <li>-e          #卸载软件包</li> <li>--nodesps #卸载软件包时忽略依赖关系</li> <li>--import   #导入红帽签名文件</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#挂载iso镜像文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkdir /mnt/centos</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mount /dev/cdrom  /mnt/centos/</span>

<span class="token comment">#实现永久挂载，查看iso镜像文件系统类型</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># df -hT</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/fstab</span>
<span class="token punctuation">..</span>.
/dev/cdrom /mnt/centos iso9660 defaults <span class="token number">0</span> <span class="token number">0</span>

<span class="token comment">#重新加载</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mount -a</span>

<span class="token comment">#查询软件包是否安装</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -q vsftpd</span>
未安装软件包 vsftpd 

<span class="token comment">#安装vsftpd软件包</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -i Packages/vsftpd-3.0.2-25.el7.x86_64.rpm </span>

<span class="token comment">#查询系统中以安装的所有软件</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -qa</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -qa | grep vsftpd</span>
vsftpd-3.0.2-25.el7.x86_64

<span class="token comment">#查询软件包详细的信息</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -qi vsftpd</span>
Name        <span class="token builtin class-name">:</span> vsftpd    <span class="token comment">#软件包名</span>
Version     <span class="token builtin class-name">:</span> <span class="token number">3.0</span>.2     <span class="token comment">#版本</span>
Release     <span class="token builtin class-name">:</span> <span class="token number">25</span>.el7    <span class="token comment">#适合安装的系统版本</span>
Architecture: x86_64    <span class="token comment">#适合安装的CPU架构</span>
Install Date: <span class="token number">2021</span>年05月04日 星期二 <span class="token number">14</span>时47分06秒   <span class="token comment">#安装时间</span>
Group       <span class="token builtin class-name">:</span> System Environment/Daemons        <span class="token comment">#软件包属于哪个群组</span>
Size        <span class="token builtin class-name">:</span> <span class="token number">361335</span>      <span class="token comment">#软件包大小</span>
License     <span class="token builtin class-name">:</span> GPLv2 with exceptions
Signature   <span class="token builtin class-name">:</span> RSA/SHA256, <span class="token number">2018</span>年11月12日 星期一 <span class="token number">22</span>时48分54秒, Key ID 24c6a8a7f4a80eb5
Source RPM  <span class="token builtin class-name">:</span> vsftpd-3.0.2-25.el7.src.rpm
Build Date  <span class="token builtin class-name">:</span> <span class="token number">2018</span>年10月31日 星期三 03时45分10秒
Build Host  <span class="token builtin class-name">:</span> x86-01.bsys.centos.org
Relocations <span class="token builtin class-name">:</span> <span class="token punctuation">(</span>not relocatable<span class="token punctuation">)</span>
Packager    <span class="token builtin class-name">:</span> CentOS BuildSystem <span class="token operator">&lt;</span>http://bugs.centos.org<span class="token operator">&gt;</span>
Vendor      <span class="token builtin class-name">:</span> CentOS
URL         <span class="token builtin class-name">:</span> https://security.appspot.com/vsftpd.html   <span class="token comment">#软件包官网地址</span>
Summary     <span class="token builtin class-name">:</span> Very Secure Ftp Daemon
Description <span class="token builtin class-name">:</span>      <span class="token comment">#描述信息</span>
vsftpd is a Very Secure FTP daemon. It was written completely from
scratch.


<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># which ls</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">ls</span><span class="token operator">=</span><span class="token string">'ls --color=auto'</span>
	/usr/sbin/ls
	
<span class="token comment">#查询文件由哪个软件包产生	</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -qf /usr/bin/ls</span>
coreutils-8.22-23.el7.x86_64

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># which vim</span>
/usr/bin/vim

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -qf /usr/bin/vim</span>
vim-enhanced-7.4.160-5.el7.x86_64

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -qi vim-enhanced</span>

<span class="token comment">#查询软件包自带的文件与目录安装路径</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ql vsftpd</span>

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -qf /usr/bin/vim</span>
vim-enhanced-7.4.160-5.el7.x86_64

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ql vim-enhanced</span>
/etc/profile.d/vim.csh
/etc/profile.d/vim.sh
/usr/bin/rvim
/usr/bin/vim
/usr/bin/vimdiff
/usr/bin/vimtutor

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -q vsftpd</span>
vsftpd-3.0.2-25.el7.x86_64

<span class="token comment">#卸载软件包</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -e vsftpd</span>

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -q vsftpd</span>
未安装软件包 vsftpd 

<span class="token comment">#安装vsftpd软件包</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ivh Packages/vsftpd-3.0.2-25.el7.x86_64.rpm </span>
警告：Packages/vsftpd-3.0.2-25.el7.x86_64.rpm: 头V3 RSA/SHA256 Signature, 密钥 ID f4a80eb5: NOKEY
准备中<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
正在升级/安装<span class="token punctuation">..</span>.
   <span class="token number">1</span>:vsftpd-3.0.2-25.el7              <span class="token comment">################################# [100%]</span>

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -q vsftpd</span>
vsftpd-3.0.2-25.el7.x86_64

<span class="token comment">#升级安装软件包</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -Uvh Packages/vsftpd-3.0.2-25.el7.x86_64.rpm </span>
警告：Packages/vsftpd-3.0.2-25.el7.x86_64.rpm: 头V3 RSA/SHA256 Signature, 密钥 ID f4a80eb5: NOKEY
准备中<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
	软件包 vsftpd-3.0.2-25.el7.x86_64 已经安装

<span class="token comment">#导入红帽签名文件</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm --import RPM-GPG-KEY-CentOS-7</span>

<span class="token comment">#安装软件包，查看是否还有警告信息</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -q vsftpd</span>
vsftpd-3.0.2-25.el7.x86_64
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -e vsftpd</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ivh Packages/vsftpd-3.0.2-25.el7.x86_64.rpm </span>
准备中<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
正在升级/安装<span class="token punctuation">..</span>.
   <span class="token number">1</span>:vsftpd-3.0.2-25.el7              <span class="token comment">################################# [100%]</span>

<span class="token comment">#安装httpd软件包</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ivh Packages/httpd-(tab键)</span>
httpd-2.4.6-88.el7.centos.x86_64.rpm         httpd-manual-2.4.6-88.el7.centos.noarch.rpm
httpd-devel-2.4.6-88.el7.centos.x86_64.rpm   httpd-tools-2.4.6-88.el7.centos.x86_64.rpm
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ivh Packages/httpd-2.4.6-88.el7.centos.x86_64.rpm </span>
错误：依赖检测失败：
	/etc/mime.types 被 httpd-2.4.6-88.el7.centos.x86_64 需要
	httpd-tools <span class="token operator">=</span> <span class="token number">2.4</span>.6-88.el7.centos 被 httpd-2.4.6-88.el7.centos.x86_64 需要
	libapr-1.so.0<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>64bit<span class="token punctuation">)</span> 被 httpd-2.4.6-88.el7.centos.x86_64 需要
	libaprutil-1.so.0<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>64bit<span class="token punctuation">)</span> 被 httpd-2.4.6-88.el7.centos.x86_64 需要
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># ls /etc/mime.types</span>
ls: 无法访问/etc/mime.types: 没有那个文件或目录

<span class="token comment">#解决依赖关系</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ivh Packages/mailcap-2.1.41-2.el7.noarch.rpm </span>
准备中<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
正在升级/安装<span class="token punctuation">..</span>.
   <span class="token number">1</span>:mailcap-2.1.41-2.el7             <span class="token comment">################################# [100%]</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># ls /etc/mime.types</span>
/etc/mime.types

<span class="token comment">#解决依赖关系</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ivh Packages/httpd-tools-2.4.6-88.el7.centos.x86_64.rpm </span>
错误：依赖检测失败：
	libapr-1.so.0<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>64bit<span class="token punctuation">)</span> 被 httpd-tools-2.4.6-88.el7.centos.x86_64 需要
	libaprutil-1.so.0<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>64bit<span class="token punctuation">)</span> 被 httpd-tools-2.4.6-88.el7.centos.x86_64 需要

<span class="token comment">#解决依赖关系（www.rpmfind.net官网查询提供libapr-1.so.0模块文件的软件包）</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ivh Packages/apr-(tab键)</span>
apr-1.4.8-3.el7_4.1.x86_64.rpm         apr-util-1.5.2-6.el7.x86_64.rpm        
apr-devel-1.4.8-3.el7_4.1.x86_64.rpm   apr-util-devel-1.5.2-6.el7.x86_64.rpm  
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ivh Packages/apr-1.4.8-3.el7_4.1.x86_64.rpm </span>
准备中<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
正在升级/安装<span class="token punctuation">..</span>.
   <span class="token number">1</span>:apr-1.4.8-3.el7_4.1              <span class="token comment">################################# [100%]</span>

<span class="token comment">#解决依赖关系（www.rpmfind.net官网查询提供libaprutil-1.so.0模块文件的软件包）</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ivh Packages/apr-util-(tab键)</span>
apr-util-1.5.2-6.el7.x86_64.rpm        apr-util-devel-1.5.2-6.el7.x86_64.rpm  
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ivh Packages/apr-util-</span>
apr-util-1.5.2-6.el7.x86_64.rpm        apr-util-devel-1.5.2-6.el7.x86_64.rpm  
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ivh Packages/apr-util-1.5.2-6.el7.x86_64.rpm </span>
准备中<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
正在升级/安装<span class="token punctuation">..</span>.
   <span class="token number">1</span>:apr-util-1.5.2-6.el7             <span class="token comment">################################# [100%]</span>

<span class="token comment">#安装依赖关系</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ivh Packages/httpd-tools-2.4.6-88.el7.centos.x86_64.rpm </span>
准备中<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
正在升级/安装<span class="token punctuation">..</span>.
   <span class="token number">1</span>:httpd-tools-2.4.6-88.el7.centos  <span class="token comment">################################# [100%]</span>

<span class="token comment">#安装httpd主包</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ivh Packages/httpd-(tab键)</span>
httpd-2.4.6-88.el7.centos.x86_64.rpm         httpd-manual-2.4.6-88.el7.centos.noarch.rpm
httpd-devel-2.4.6-88.el7.centos.x86_64.rpm   httpd-tools-2.4.6-88.el7.centos.x86_64.rpm
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ivh Packages/httpd-2.4.6-88.el7.centos.x86_64.rpm </span>
准备中<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
正在升级/安装<span class="token punctuation">..</span>.
   <span class="token number">1</span>:httpd-2.4.6-88.el7.centos        <span class="token comment">################################# [100%]</span>

</code></pre></div><h4 id="yum软件包管理"><a href="#yum软件包管理" class="header-anchor">#</a> yum软件包管理</h4> <ul><li><p>yum（软件仓库）：提供众多软件包的仓库，并自动解决软件包之间复杂依赖关系</p></li> <li><p>yum常用命令：</p> <ul><li>yum  repolist                        #列出仓库可用软件包</li> <li>yum  list  软件包名               #查看系统中提供的软件包（包含未安装的软件包）</li> <li>yum  install  软件包名          #安装软件包，-y自动回答yes</li> <li>yum  update  软件包名       #升级软件包版本</li> <li>yum  remove  软件包名      #卸载软件包</li> <li>yum clean all                       #清除仓库缓存</li> <li>yum  provides  文件名        #查看文件由哪个软件包产生（主要用于查找程序文件）</li> <li>yum makecache                 #生成缓存</li></ul></li> <li><p>本地yum源配置（本地软件仓库）</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/yum.repos.d/local.repo </span>
<span class="token punctuation">[</span>local<span class="token punctuation">]</span>               <span class="token comment">#仓库名称，名称自定义，但具有唯一性</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>local_centos     <span class="token comment">#仓库描述，（类似于仓库解释），描述信息自定义，不具备唯一性</span>
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>file:///mnt/centos   <span class="token comment">#指定软件仓库地址，file://用于指定本地软件包存放位置</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>    <span class="token comment">#软件仓库是否启动，1启动，0不启动</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">0</span>   <span class="token comment">#是否检测软件包签名，0不检测，1检测</span>


<span class="token comment">#检测仓库可用性</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># yum repolist</span>
已加载插件：fastestmirror, langpacks
    
源标识        源名称            状态
<span class="token builtin class-name">local</span>       local_centos      <span class="token number">4,021</span>
repolist: <span class="token number">4,021</span>

<span class="token comment">#查找指定的软件包</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># yum list gcc</span>

<span class="token comment">#安装软件包</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># yum install gcc</span>
<span class="token punctuation">..</span>.
Is this ok <span class="token punctuation">[</span>y/d/N<span class="token punctuation">]</span>: y <span class="token punctuation">(</span>y安装/d下载到本地不安装/N不安装<span class="token punctuation">)</span>

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -q gcc</span>
gcc-4.8.5-36.el7.x86_64

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -qi gcc</span>

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ql gcc</span>

<span class="token comment">#安装软件包并自动回答yes</span>
<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># yum -y install  gcc-c++ </span>

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -q gcc</span>

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -qi gcc</span>

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -ql gcc</span>

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># rpm -qf /usr/bin/ls</span>

<span class="token punctuation">[</span>root@localhost centos<span class="token punctuation">]</span><span class="token comment"># yum provides /usr/bin/ls</span>

<span class="token comment">#下载挂载点</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># umount /mnt/centos/</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls /mnt/centos/</span>

<span class="token comment">#查看仓库可用性</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum repolist</span>
源标识          源名称                             状态
<span class="token builtin class-name">local</span>          local_centos                     <span class="token number">4,021</span>
repolist: <span class="token number">4,021</span>


<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rpm -e vsftpd</span>
root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum -y install vsftpd</span>
Error downloading packages:
  vsftpd-3.0.2-25.el7.x86_64: <span class="token punctuation">[</span>Errno <span class="token number">256</span><span class="token punctuation">]</span> No <span class="token function">more</span> mirrors to try.

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum clean all</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum repolist</span>
源标识      源名称                                  状态
<span class="token builtin class-name">local</span>      local_centos                            <span class="token number">0</span>
repolist: <span class="token number">0</span>

<span class="token comment">#挂载</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mount -a</span>
mount: /dev/sr0 写保护，将以只读方式挂载
</code></pre></div><ul><li>网络yum源配置（网络软件仓库，配置阿里开源软件仓库）</li> <li>https://developer.aliyun.com/special/mirrors/notice  阿里软件仓库</li> <li>https://mirrors.tuna.tsinghua.edu.cn/centos/7/os/x86_64/  清华大学软件仓库</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#下载wget工具</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum -y install wget</span>

<span class="token comment">#下载阿里Base源（基本软件仓库，解决rpm软件的依赖关系）</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#  wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo</span>

<span class="token comment">#下载阿里epel源（额外软件仓库，包含许多基本软件仓库没有的软件包）</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#  wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/yum.repos.d/CentOS-Base.repo</span>
<span class="token punctuation">[</span>base<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Base - mirrors.aliyun.com
<span class="token assign-left variable">failovermethod</span><span class="token operator">=</span>priority   <span class="token comment">#故障转移方法，默认优先</span>
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/<span class="token variable">$releasever</span>/os/<span class="token variable">$basearch</span>/
        http://mirrors.aliyuncs.com/centos/<span class="token variable">$releasever</span>/os/<span class="token variable">$basearch</span>/
        http://mirrors.cloud.aliyuncs.com/centos/<span class="token variable">$releasever</span>/os/<span class="token variable">$basearch</span>/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7

<span class="token comment">#配置清华大学开源镜象站</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/yum.repos.d/local.repo </span>
<span class="token punctuation">[</span>local<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>local_centos
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>file:///mnt/centos/
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">0</span>

<span class="token punctuation">[</span>tuna.tsinghua.edu.cn<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>tuna.tsinghua.edu.cn
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>https://mirrors.tuna.tsinghua.edu.cn/centos/7/os/x86_64/
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">0</span>

<span class="token comment">#生成yum仓库缓存提高软件包下载速度</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum makecache</span>
<span class="token punctuation">..</span>.
元数据缓存已建立
</code></pre></div><h4 id="设置yum源优先级"><a href="#设置yum源优先级" class="header-anchor">#</a> 设置yum源优先级</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#安装yum-priorities插件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum -y install yum-priorities</span>

<span class="token comment">#设置本地yum为最高优先级</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/yum.repos.d/local.repo</span>
<span class="token punctuation">[</span>local<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>local_centos
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>file:///mnt/centos
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">priority</span><span class="token operator">=</span><span class="token number">1</span>  <span class="token comment">#优先级为1-99之间，数字越小越优先</span>
</code></pre></div><h4 id="源码包安装方式"><a href="#源码包安装方式" class="header-anchor">#</a> 源码包安装方式</h4> <p>源码包安装步骤：</p> <ul><li>官网下载源码包</li> <li>系统安装源码包依赖</li> <li>解压源码包&amp;&amp;进入源码包路径</li> <li>configure检测系统环境&amp;&amp;指定安装路径与功能</li> <li>make编译，将源代码转换成二进制</li> <li>make     install 安装软件包</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#从官网下载源码包</span>
http://nginx.org/

<span class="token comment">#安装源码包依赖包</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum -y install gcc pcre-devel openssl-devel zlib</span>

<span class="token comment">#解压源码包并进入源码包路径</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tar -xf nginx-1.20.0.tar.gz </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cd nginx-1.20.0/</span>
<span class="token punctuation">[</span>root@localhost nginx-1.20.0<span class="token punctuation">]</span><span class="token comment"># ls</span>
auto  CHANGES  CHANGES.ru  conf  configure  contrib  html  LICENSE  <span class="token function">man</span>  README  src

<span class="token comment">#使用configure程序检查系统环境并指定安装参数</span>
<span class="token punctuation">[</span>root@localhost nginx-1.20.0<span class="token punctuation">]</span><span class="token comment"># ./configure --with-http_ssl_module  --with-file-aio  --with-http_realip_module</span>
  
  nginx path prefix: <span class="token string">&quot;/usr/local/nginx&quot;</span>
  nginx binary file: <span class="token string">&quot;/usr/local/nginx/sbin/nginx&quot;</span>
  nginx modules path: <span class="token string">&quot;/usr/local/nginx/modules&quot;</span>
  nginx configuration prefix: <span class="token string">&quot;/usr/local/nginx/conf&quot;</span>
  nginx configuration file: <span class="token string">&quot;/usr/local/nginx/conf/nginx.conf&quot;</span>
  nginx pid file: <span class="token string">&quot;/usr/local/nginx/logs/nginx.pid&quot;</span>
  nginx error log file: <span class="token string">&quot;/usr/local/nginx/logs/error.log&quot;</span>
  nginx http access log file: <span class="token string">&quot;/usr/local/nginx/logs/access.log&quot;</span>
  nginx http client request body temporary files: <span class="token string">&quot;client_body_temp&quot;</span>
  nginx http proxy temporary files: <span class="token string">&quot;proxy_temp&quot;</span>
  nginx http fastcgi temporary files: <span class="token string">&quot;fastcgi_temp&quot;</span>
  nginx http uwsgi temporary files: <span class="token string">&quot;uwsgi_temp&quot;</span>
  nginx http scgi temporary files: <span class="token string">&quot;scgi_temp&quot;</span>


<span class="token comment">#make将源码包转换成二进制</span>
<span class="token punctuation">[</span>root@localhost nginx-1.20.0<span class="token punctuation">]</span><span class="token comment"># make</span>

<span class="token comment">#make install安装源码包</span>
<span class="token punctuation">[</span>root@localhost nginx-1.20.0<span class="token punctuation">]</span><span class="token comment"># make install</span>

<span class="token punctuation">[</span>root@localhost nginx-1.20.0<span class="token punctuation">]</span><span class="token comment"># cd /usr/local/nginx/</span>
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># ls</span>
conf  html  logs  sbin

</code></pre></div><h4 id="源码包管理方式"><a href="#源码包管理方式" class="header-anchor">#</a> 源码包管理方式</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#启动nginx服务</span>
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># sbin/nginx</span>

<span class="token comment">#netstat|ss命令用于查看系统中启动的端口信息</span>
<span class="token parameter variable">-a</span>	显示所有端口信息
<span class="token parameter variable">-n</span>	以数字格式显示端口号
<span class="token parameter variable">-t</span>	显示TCP连接的端口
<span class="token parameter variable">-u</span>	显示UDP连接的端口
<span class="token parameter variable">-l</span>	显示服务正在监听的端口信息
<span class="token parameter variable">-p</span>	显示监听端口的服务名称是什么（也就是程序名）

<span class="token comment">#查看nginx服务端口信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ss -anptul | grep nginx</span>
tcp    LISTEN     <span class="token number">0</span>      <span class="token number">128</span>       *:80  <span class="token comment">#Nginx服务默认通过TCP 80 端口监听客户端请求</span>

<span class="token comment">#查看系统所有服务占用的端口信息</span>
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># ss -ntlp </span>

<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># ss -anptul | grep sshd</span>

<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># ss -anptul | grep vsftpd</span>
</code></pre></div><h4 id="systemd管理服务"><a href="#systemd管理服务" class="header-anchor">#</a> systemd管理服务</h4> <ul><li><p>systemd是内核加载的第一个进程（PID=1），systemd负责整个Linux系统的运行与服务控制，systemd为用户提供systemctl命令来管理RPM包的服务，如：启动服务、重启服务、关闭服务、查看服务状态，服务随机自启</p></li> <li><p>服务的启动有两个阶段，一是系统开机时随着系统的启动而启动（随机自启），二是系统启动以后用户手动将服务启动</p></li> <li><p>常用命令：</p> <ul><li>systemctl start      程序名        #启动服务</li> <li>systemctl restart  程序名         #重启服务</li> <li>systemctl stop      程序名         #停止服务</li> <li>systemctl enable  程序名         #设置服务随机自启</li> <li>systemctl disable 程序名         #设置服务不随机自启</li> <li>systemctl status   程序名         #查看服务状态</li> <li>systemctl is-enabled  程序名  #查看服务是否被设置随机自启</li></ul></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># yum -y install vsftpd</span>

<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># rpm -ql vsftpd</span>
<span class="token punctuation">..</span>.
/usr/sbin/vsftpd

<span class="token comment">#启动vsftpd服务</span>
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># systemctl start vsftpd</span>

<span class="token comment">#查看服务运行状态</span>
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># systemctl status vsftpd</span>
● vsftpd.service - Vsftpd <span class="token function">ftp</span> daemon
   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/vsftpd.service<span class="token punctuation">;</span> disabled<span class="token punctuation">;</span> vendor preset: disabled<span class="token punctuation">)</span>
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since 二 <span class="token number">2021</span>-05-04 <span class="token number">17</span>:58:38 CST<span class="token punctuation">;</span> 1min 7s ago
  Process: <span class="token number">14028</span> <span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/sbin/vsftpd /etc/vsftpd/vsftpd.conf <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">0</span>/SUCCESS<span class="token punctuation">)</span>
 Main PID: <span class="token number">14030</span> <span class="token punctuation">(</span>vsftpd<span class="token punctuation">)</span>

<span class="token comment">#查看端口信息</span>
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># ss -anptul | grep vsftpd</span>
tcp  LISTEN  <span class="token number">0</span>  <span class="token number">32</span>  :::21    :::*     users:<span class="token variable"><span class="token punctuation">((</span>&quot;vsftpd&quot;<span class="token punctuation">,</span>pid<span class="token operator">=</span><span class="token number">14030</span><span class="token punctuation">,</span>fd<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">))</span></span>

<span class="token comment">#重启服务（用于对配置发生修改且立即生效时使用）</span>
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># systemctl restart vsftpd</span>

<span class="token comment">#停止服务</span>
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># systemctl stop vsftpd</span>

<span class="token comment">#启动服务并设置服务随机自启</span>
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># systemctl start vsftpd</span>
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># systemctl enable vsftpd</span>
Created symlink from /etc/systemd/system/multi-user.target.wants/vsftpd.service to /usr/lib/systemd/system/vsftpd.service.

<span class="token comment">#查看服务是否被设置随机自启</span>
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># systemctl is-enabled vsftpd</span>
enabled  <span class="token comment">#随机自启</span>

<span class="token comment">#设置服务不随机自启</span>
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># systemctl disable vsftpd</span>
Removed symlink /etc/systemd/system/multi-user.target.wants/vsftpd.service.

<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># systemctl is-enabled vsftpd</span>
disabled  <span class="token comment">#不随机自启</span>

<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># systemctl is-enabled sshd</span>
enabled
</code></pre></div><h4 id="课后作业-2"><a href="#课后作业-2" class="header-anchor">#</a> 课后作业</h4> <p>1.请说出RAID0、RAID1、RAID5、RAID10的特点</p> <p>RAID0：等量存储，至少由两块磁盘组成，同一个文档分散并行存储，提高数据的读写速度，没有冗余功能</p> <p>RAID1：完整备份，至少由两块磁盘组成，同一个文档复制成多份分散存储，提高数据的安全性，没有提高读写速度</p> <p>RAID5：至少由三块磁盘组成，同一份文档分散写入不同磁盘，每个磁盘中都有校验数据，允许坏一块磁盘的数据，校验数据会占用磁盘的三分之一存储空间</p> <p>RAID10：至少需要4快磁盘组成，先将4快磁盘组成两组RAID1，在将两组RAID1组成一个RAID0，既能够提高数据读写速度，还有冗余功能，可用容量是总容量一半</p> <p>2.如何查看系统中的进程树，并显示每个进程的PID</p> <p>pstree -p</p> <p>3.如何查找到系统中lisi用户开启了哪些进程？</p> <p>pstree -p lisi</p> <p>4.如何将进程放入后台运行？</p> <p>&amp;</p> <p>5.如何将后台运行进程调度到前台运行？</p> <p>fg 进程编号</p> <p>6.如何查看后台进程？</p> <p>jobs</p> <p>7.kill与killall命令的区别是什么？</p> <p>kill 结束进程时，按照进程的PID结束</p> <p>killall 结束进程时候，按照进程名字结束</p> <p>8.如何将lisi用户提出系统？</p> <p>killall -9 -u lisi</p> <p>9.如何查看系统中登录失败的用户？</p> <p>lastb</p> <p>10.如何查看系统中登录成功的用户？</p> <p>last</p> <p>11.如何查询一个软件包在系统中安装了哪些文件与目录？</p> <p>rpm -ql 软件包名</p> <p>12.如何查询ifconfig命令是由哪个软件包产生？</p> <p>[root@localhost ~]# which ifconfig
/usr/sbin/ifconfig
[root@localhost ~]# rpm -qf /usr/sbin/ifconfig
net-tools-2.0-0.24.20131004git.el7.x86_64</p> <p>13.如何查看一个软件包是否被安装在系统中？</p> <p>rpm -q 软件包名</p> <p>14.如何卸载一个软件包？</p> <p>卸载RPM包：rpm -e 软件包名</p> <p>卸载源码包：直接删除源码包安装路径</p> <p>15.说明本地yum仓库每一行的配置含义</p> <p>[仓库名字]</p> <p>name=仓库描述</p> <p>baseurl=仓库地址</p> <p>enabled=仓库状态（1/0，启用/不起用）</p> <p>16.源码包的安装过程大体步骤</p> <p>下载源码包</p> <p>安装源码包依赖关系</p> <p>解压源码包，进入源码包路径</p> <p>./configure 安装参数</p> <p>make 编译</p> <p>make install 安装</p> <p>17.如何查看一个服务占用的端口信息？</p> <p>ss/netstat  -anptul | grep 程序名称</p> <p>18.如何启动vsftpd服务？</p> <p>systemctl start vsftpd</p> <p>19.如何查看vsftpd运行状态？</p> <p>systemctl status vsftpd</p> <p>20.如何设置vsftpd服务随机自启？</p> <p>systemctl enable vsftpd</p> <p>21.如何停止vsftpd服务？</p> <p>systemctl stop vsftpd</p></div></div>  <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/07/09, 16:20:21</span></div></div> <div class="page-nav-wapper"><!----> <!----></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:2942894660@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/gaoziman" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2023
    <span>Cisyam | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/blogs/assets/js/app.6703720a.js" defer></script><script src="/blogs/assets/js/2.2891cb31.js" defer></script><script src="/blogs/assets/js/99.52a327c1.js" defer></script>
  </body>
</html>
