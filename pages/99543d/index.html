<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spring5学习笔记——AOP | Cisyam</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/blogs/img/favicon.ico">
    <link rel="stylesheet" href="/blogs//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <script src="https://cdn.wwads.cn/js/makemoney.js" type="text/javascript"></script>
    <meta name="description" content="一个基于VuePress的 知识管理&amp;博客 主题">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    <meta name="wwads-cn-verify" content="6c4b761a28b734fe93831e3fb400ce87">
    
    <link rel="preload" href="/blogs/assets/css/0.styles.d190f907.css" as="style"><link rel="preload" href="/blogs/assets/js/app.6703720a.js" as="script"><link rel="preload" href="/blogs/assets/js/2.2891cb31.js" as="script"><link rel="preload" href="/blogs/assets/js/68.418729c4.js" as="script"><link rel="prefetch" href="/blogs/assets/js/10.29af8a7f.js"><link rel="prefetch" href="/blogs/assets/js/100.c7ec5c9d.js"><link rel="prefetch" href="/blogs/assets/js/11.bdeeba6d.js"><link rel="prefetch" href="/blogs/assets/js/12.713dd16b.js"><link rel="prefetch" href="/blogs/assets/js/13.59a174b0.js"><link rel="prefetch" href="/blogs/assets/js/14.68a58203.js"><link rel="prefetch" href="/blogs/assets/js/15.82a1fdde.js"><link rel="prefetch" href="/blogs/assets/js/16.9c54c3e4.js"><link rel="prefetch" href="/blogs/assets/js/17.11ba4e45.js"><link rel="prefetch" href="/blogs/assets/js/18.2818cf53.js"><link rel="prefetch" href="/blogs/assets/js/19.96755560.js"><link rel="prefetch" href="/blogs/assets/js/20.7481fcc2.js"><link rel="prefetch" href="/blogs/assets/js/21.907b70d0.js"><link rel="prefetch" href="/blogs/assets/js/22.a166ad24.js"><link rel="prefetch" href="/blogs/assets/js/23.77d2dca0.js"><link rel="prefetch" href="/blogs/assets/js/24.aa87f4c6.js"><link rel="prefetch" href="/blogs/assets/js/25.dad97827.js"><link rel="prefetch" href="/blogs/assets/js/26.bb52f77c.js"><link rel="prefetch" href="/blogs/assets/js/27.9e1ea639.js"><link rel="prefetch" href="/blogs/assets/js/28.ba119082.js"><link rel="prefetch" href="/blogs/assets/js/29.18832ed6.js"><link rel="prefetch" href="/blogs/assets/js/3.fefeb4f4.js"><link rel="prefetch" href="/blogs/assets/js/30.b3c42b31.js"><link rel="prefetch" href="/blogs/assets/js/31.4635ac31.js"><link rel="prefetch" href="/blogs/assets/js/32.d2b68837.js"><link rel="prefetch" href="/blogs/assets/js/33.f7b79f8b.js"><link rel="prefetch" href="/blogs/assets/js/34.ce01b9ce.js"><link rel="prefetch" href="/blogs/assets/js/35.09a87cc8.js"><link rel="prefetch" href="/blogs/assets/js/36.76cf8512.js"><link rel="prefetch" href="/blogs/assets/js/37.d0062b5b.js"><link rel="prefetch" href="/blogs/assets/js/38.7f84a2f0.js"><link rel="prefetch" href="/blogs/assets/js/39.e2188bfb.js"><link rel="prefetch" href="/blogs/assets/js/4.b9356ecc.js"><link rel="prefetch" href="/blogs/assets/js/40.c5791be3.js"><link rel="prefetch" href="/blogs/assets/js/41.6e456626.js"><link rel="prefetch" href="/blogs/assets/js/42.f177def6.js"><link rel="prefetch" href="/blogs/assets/js/43.d522573e.js"><link rel="prefetch" href="/blogs/assets/js/44.6add112a.js"><link rel="prefetch" href="/blogs/assets/js/45.5f2862b3.js"><link rel="prefetch" href="/blogs/assets/js/46.bbdad8ea.js"><link rel="prefetch" href="/blogs/assets/js/47.4b8eccad.js"><link rel="prefetch" href="/blogs/assets/js/48.790c3f48.js"><link rel="prefetch" href="/blogs/assets/js/49.7a6b72f8.js"><link rel="prefetch" href="/blogs/assets/js/5.dbc14407.js"><link rel="prefetch" href="/blogs/assets/js/50.1d07348b.js"><link rel="prefetch" href="/blogs/assets/js/51.baf090ad.js"><link rel="prefetch" href="/blogs/assets/js/52.aa82caa4.js"><link rel="prefetch" href="/blogs/assets/js/53.54b14a71.js"><link rel="prefetch" href="/blogs/assets/js/54.1c49a9fe.js"><link rel="prefetch" href="/blogs/assets/js/55.e745f470.js"><link rel="prefetch" href="/blogs/assets/js/56.66db2bce.js"><link rel="prefetch" href="/blogs/assets/js/57.cfbf7fad.js"><link rel="prefetch" href="/blogs/assets/js/58.7c34f72a.js"><link rel="prefetch" href="/blogs/assets/js/59.2411d34a.js"><link rel="prefetch" href="/blogs/assets/js/6.8e27846d.js"><link rel="prefetch" href="/blogs/assets/js/60.bd4c3a01.js"><link rel="prefetch" href="/blogs/assets/js/61.376a94a9.js"><link rel="prefetch" href="/blogs/assets/js/62.e1ed876a.js"><link rel="prefetch" href="/blogs/assets/js/63.519e802c.js"><link rel="prefetch" href="/blogs/assets/js/64.d1de0951.js"><link rel="prefetch" href="/blogs/assets/js/65.68804e09.js"><link rel="prefetch" href="/blogs/assets/js/66.fa157ac3.js"><link rel="prefetch" href="/blogs/assets/js/67.3ac0f5f0.js"><link rel="prefetch" href="/blogs/assets/js/69.27b1a4cd.js"><link rel="prefetch" href="/blogs/assets/js/7.8503034e.js"><link rel="prefetch" href="/blogs/assets/js/70.ccbe6f1e.js"><link rel="prefetch" href="/blogs/assets/js/71.9bd4782d.js"><link rel="prefetch" href="/blogs/assets/js/72.cd2999cc.js"><link rel="prefetch" href="/blogs/assets/js/73.79fc8d67.js"><link rel="prefetch" href="/blogs/assets/js/74.19768d7a.js"><link rel="prefetch" href="/blogs/assets/js/75.61498db4.js"><link rel="prefetch" href="/blogs/assets/js/76.2c210d98.js"><link rel="prefetch" href="/blogs/assets/js/77.673ebfb2.js"><link rel="prefetch" href="/blogs/assets/js/78.efeb93e2.js"><link rel="prefetch" href="/blogs/assets/js/79.892e6e6f.js"><link rel="prefetch" href="/blogs/assets/js/8.1477cb30.js"><link rel="prefetch" href="/blogs/assets/js/80.cc1efe6f.js"><link rel="prefetch" href="/blogs/assets/js/81.9029edfe.js"><link rel="prefetch" href="/blogs/assets/js/82.ebfed7ad.js"><link rel="prefetch" href="/blogs/assets/js/83.8c745cc8.js"><link rel="prefetch" href="/blogs/assets/js/84.2d5bf3dd.js"><link rel="prefetch" href="/blogs/assets/js/85.655b076a.js"><link rel="prefetch" href="/blogs/assets/js/86.0b926ace.js"><link rel="prefetch" href="/blogs/assets/js/87.39251ad6.js"><link rel="prefetch" href="/blogs/assets/js/88.9031ffae.js"><link rel="prefetch" href="/blogs/assets/js/89.9a2bbb31.js"><link rel="prefetch" href="/blogs/assets/js/9.c71f6b55.js"><link rel="prefetch" href="/blogs/assets/js/90.3fabd32f.js"><link rel="prefetch" href="/blogs/assets/js/91.51ad2e66.js"><link rel="prefetch" href="/blogs/assets/js/92.dff42051.js"><link rel="prefetch" href="/blogs/assets/js/93.4f7c903c.js"><link rel="prefetch" href="/blogs/assets/js/94.7b8dc99c.js"><link rel="prefetch" href="/blogs/assets/js/95.5b05ce73.js"><link rel="prefetch" href="/blogs/assets/js/96.c252c42c.js"><link rel="prefetch" href="/blogs/assets/js/97.29426949.js"><link rel="prefetch" href="/blogs/assets/js/98.b857e1ec.js"><link rel="prefetch" href="/blogs/assets/js/99.52a327c1.js">
    <link rel="stylesheet" href="/blogs/assets/css/0.styles.d190f907.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogs/" class="home-link router-link-active"><img src="/blogs/img/logo.png" alt="Cisyam" class="logo"> <span class="site-name can-hide">Cisyam</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blogs/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="程序日常" class="dropdown-title"><!----> <span class="title" style="display:;">程序日常</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>日常配置</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/0ec974/" class="nav-link">系统重装日记</a></li><li class="dropdown-subitem"><a href="/blogs/pages/63554c/" class="nav-link">IDEA日常配置和操作小结</a></li><li class="dropdown-subitem"><a href="/blogs/pages/97b3a1/" class="nav-link">在IDEA中配置Git的Push键</a></li><li class="dropdown-subitem"><a href="/blogs/pages/8cab39/" class="nav-link">Git的安装以及SSH配置</a></li><li class="dropdown-subitem"><a href="/blogs/pages/5e65f3/" class="nav-link">win11下的Maven安装配置教程</a></li><li class="dropdown-subitem"><a href="/blogs/pages/bc4cea/" class="nav-link">基于jmeter完成压测</a></li><li class="dropdown-subitem"><a href="/blogs/pages/513ac4/" class="nav-link">Typora+PicGo+阿里云OSS搭建博客图床</a></li><li class="dropdown-subitem"><a href="/blogs/pages/79620e/" class="nav-link">Git图文使用教程详解(一)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/7e3ca6/" class="nav-link">Git图文使用教程详解(二)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/c6a5fd/" class="nav-link">Git图文使用教程详解(三)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/9f9143/" class="nav-link">带你认识Hutool工具包</a></li></ul></li><li class="dropdown-item"><h4>Bug修复</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/c1d525/" class="nav-link">Java连接SqlServer错误</a></li></ul></li><li class="dropdown-item"><h4>其他学习</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/58d18b/" class="nav-link">计算机相关常见英语单词,带读音!</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a0bf4c/" class="nav-link">常用emoji表情包</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><!----> <span class="title" style="display:;">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/882008/" class="nav-link">Java开发环境的搭建</a></li><li class="dropdown-item"><!----> <a href="/blogs/pages/7263a2/" class="nav-link">Java基础语法</a></li><li class="dropdown-item"><h4>Java集合</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/882008/" class="nav-link">初始Java基础知识</a></li></ul></li><li class="dropdown-item"><h4>Java知识点</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/868901/" class="nav-link">Thymeleaf一篇就够了</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java进阶" class="dropdown-title"><!----> <span class="title" style="display:;">Java进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/e32cf5/" class="nav-link">泛型就这么简单</a></li><li class="dropdown-item"><h4>流</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/918085/" class="nav-link">初步认识IO流</a></li></ul></li><li class="dropdown-item"><h4>JVM</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/8b1290/" class="nav-link">Java内存区域介绍以及JDK1.8内存变化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>MySQL基础知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/6ca3af/" class="nav-link">数据库原理及应用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/460b04/" class="nav-link">MySQL 8.0 绿色版安装</a></li></ul></li><li class="dropdown-item"><h4>康师傅MySQL基础篇</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/37fc57/" class="nav-link">第01章_数据库概述</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f3f3ab/" class="nav-link">第02章_MySQL环境搭建</a></li><li class="dropdown-subitem"><a href="/blogs/pages/1e92f0/" class="nav-link">第03章_基本的SELECT语句</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0cd93d/" class="nav-link">第04章_运算符</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f60350/" class="nav-link">第05章_排序与分页</a></li><li class="dropdown-subitem"><a href="/blogs/pages/79f1c4/" class="nav-link">第06章_多表查询</a></li><li class="dropdown-subitem"><a href="/blogs/pages/9757a1/" class="nav-link">第07章_单行函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e8846a/" class="nav-link">第08章_聚合函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0ececa/" class="nav-link">第09章_子查询</a></li><li class="dropdown-subitem"><a href="/blogs/pages/667605/" class="nav-link">第10章_创建和管理表</a></li><li class="dropdown-subitem"><a href="/blogs/pages/07f3df/" class="nav-link">第11章_数据处理之增删改</a></li><li class="dropdown-subitem"><a href="/blogs/pages/b3a365/" class="nav-link">第12章_MySQL数据类型精讲</a></li><li class="dropdown-subitem"><a href="/blogs/pages/6bfb13/" class="nav-link">第13章_约束</a></li><li class="dropdown-subitem"><a href="/blogs/pages/745f2d/" class="nav-link">第14章_视图</a></li><li class="dropdown-subitem"><a href="/blogs/pages/8c180e/" class="nav-link">第15章_存储过程与函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/566d1d/" class="nav-link">第16章_变量、流程控制与游标</a></li><li class="dropdown-subitem"><a href="/blogs/pages/afb0d0/" class="nav-link">第17章_触发器</a></li><li class="dropdown-subitem"><a href="/blogs/pages/15bba8/" class="nav-link">第18章_MySQL8其它新特性</a></li></ul></li><li class="dropdown-item"><h4>康师傅MySQL高级篇</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/80d360/" class="nav-link">第01章 Linux下MySQL的安装与使用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f532a4/" class="nav-link">第02章 MySQL的数据目录</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a5fa3c/" class="nav-link">第03章 用户与权限管理</a></li><li class="dropdown-subitem"><a href="/blogs/pages/b462b5/" class="nav-link">第04章_逻辑架构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a5b6cd/" class="nav-link">第05章_存储引擎</a></li><li class="dropdown-subitem"><a href="/blogs/pages/4eb165/" class="nav-link">第06章_索引的数据结构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/85a02c/" class="nav-link">第7章_InnoDB数据存储结构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/badf0e/" class="nav-link">第8章_索引的创建与设计原则</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0e9cf5/" class="nav-link">第09章_性能分析工具的使用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/baf28a/" class="nav-link">第10章_索引优化与查询优化</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a30800/" class="nav-link">第11章_数据库的设计规范</a></li><li class="dropdown-subitem"><a href="/blogs/pages/453178/" class="nav-link">第12章_数据库其它调优策略</a></li><li class="dropdown-subitem"><a href="/blogs/pages/2f2499/" class="nav-link">第13章_事务基础知识</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e14c2c/" class="nav-link">第14章_MySQL事务日志</a></li><li class="dropdown-subitem"><a href="/blogs/pages/52fd96/" class="nav-link">第15章_锁</a></li><li class="dropdown-subitem"><a href="/blogs/pages/dc28af/" class="nav-link">第16章_多版本并发控制</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0aeb1a/" class="nav-link">第17章_其他数据库日志</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e50c30/" class="nav-link">第18章_主从复制</a></li><li class="dropdown-subitem"><a href="/blogs/pages/92db10/" class="nav-link">第19章_数据库备份与恢复</a></li></ul></li><li class="dropdown-item"><h4>MySQL进阶知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/ad9574/" class="nav-link">MySQL里的那些日志们</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><!----> <span class="title" style="display:;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/b40868/" class="nav-link"> SSM整合完整流程</a></li><li class="dropdown-item"><h4>MyBatis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/b40868/" class="nav-link">框架</a></li></ul></li><li class="dropdown-item"><h4>Spring</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/e6482d/" class="nav-link">Spring5学习笔记——工厂</a></li><li class="dropdown-subitem"><a href="/blogs/pages/99543d/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Spring5学习笔记——AOP</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e630fa/" class="nav-link">Spring5学习笔记——持久层整合</a></li><li class="dropdown-subitem"><a href="/blogs/pages/667215/" class="nav-link">Spring5学习笔记——MVC框架整合</a></li><li class="dropdown-subitem"><a href="/blogs/pages/398673/" class="nav-link">Spring5学习笔记——注解编程</a></li></ul></li><li class="dropdown-item"><h4>SpringMVC</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/b40868/" class="nav-link">框架</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><!----> <span class="title" style="display:;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/52d5c3/" class="nav-link">中间件</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><!----> <span class="title" style="display:;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>初始微服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/8c6be2/" class="nav-link">初步了解SpringCloud微服务架构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/6fc14f/" class="nav-link">认识SpringCloud核心组件</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0f8ce6/" class="nav-link">Ribbon和 Nacos服务注册中心</a></li><li class="dropdown-subitem"><a href="/blogs/pages/59a269/" class="nav-link">微服务远程调用openFeign整合</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><!----> <span class="title" style="display:;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/a2a23c/" class="nav-link">程序员必知必会之计算机系统概论</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><!----> <span class="title" style="display:;">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/5316bc/" class="nav-link">Linux命令笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><!----> <span class="title" style="display:;">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/964e0e/" class="nav-link">面试题</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/blogs/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="程序日常" class="dropdown-title"><!----> <span class="title" style="display:;">程序日常</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>日常配置</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/0ec974/" class="nav-link">系统重装日记</a></li><li class="dropdown-subitem"><a href="/blogs/pages/63554c/" class="nav-link">IDEA日常配置和操作小结</a></li><li class="dropdown-subitem"><a href="/blogs/pages/97b3a1/" class="nav-link">在IDEA中配置Git的Push键</a></li><li class="dropdown-subitem"><a href="/blogs/pages/8cab39/" class="nav-link">Git的安装以及SSH配置</a></li><li class="dropdown-subitem"><a href="/blogs/pages/5e65f3/" class="nav-link">win11下的Maven安装配置教程</a></li><li class="dropdown-subitem"><a href="/blogs/pages/bc4cea/" class="nav-link">基于jmeter完成压测</a></li><li class="dropdown-subitem"><a href="/blogs/pages/513ac4/" class="nav-link">Typora+PicGo+阿里云OSS搭建博客图床</a></li><li class="dropdown-subitem"><a href="/blogs/pages/79620e/" class="nav-link">Git图文使用教程详解(一)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/7e3ca6/" class="nav-link">Git图文使用教程详解(二)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/c6a5fd/" class="nav-link">Git图文使用教程详解(三)</a></li><li class="dropdown-subitem"><a href="/blogs/pages/9f9143/" class="nav-link">带你认识Hutool工具包</a></li></ul></li><li class="dropdown-item"><h4>Bug修复</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/c1d525/" class="nav-link">Java连接SqlServer错误</a></li></ul></li><li class="dropdown-item"><h4>其他学习</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/58d18b/" class="nav-link">计算机相关常见英语单词,带读音!</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a0bf4c/" class="nav-link">常用emoji表情包</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><!----> <span class="title" style="display:;">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/882008/" class="nav-link">Java开发环境的搭建</a></li><li class="dropdown-item"><!----> <a href="/blogs/pages/7263a2/" class="nav-link">Java基础语法</a></li><li class="dropdown-item"><h4>Java集合</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/882008/" class="nav-link">初始Java基础知识</a></li></ul></li><li class="dropdown-item"><h4>Java知识点</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/868901/" class="nav-link">Thymeleaf一篇就够了</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java进阶" class="dropdown-title"><!----> <span class="title" style="display:;">Java进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/e32cf5/" class="nav-link">泛型就这么简单</a></li><li class="dropdown-item"><h4>流</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/918085/" class="nav-link">初步认识IO流</a></li></ul></li><li class="dropdown-item"><h4>JVM</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/8b1290/" class="nav-link">Java内存区域介绍以及JDK1.8内存变化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>MySQL基础知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/6ca3af/" class="nav-link">数据库原理及应用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/460b04/" class="nav-link">MySQL 8.0 绿色版安装</a></li></ul></li><li class="dropdown-item"><h4>康师傅MySQL基础篇</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/37fc57/" class="nav-link">第01章_数据库概述</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f3f3ab/" class="nav-link">第02章_MySQL环境搭建</a></li><li class="dropdown-subitem"><a href="/blogs/pages/1e92f0/" class="nav-link">第03章_基本的SELECT语句</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0cd93d/" class="nav-link">第04章_运算符</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f60350/" class="nav-link">第05章_排序与分页</a></li><li class="dropdown-subitem"><a href="/blogs/pages/79f1c4/" class="nav-link">第06章_多表查询</a></li><li class="dropdown-subitem"><a href="/blogs/pages/9757a1/" class="nav-link">第07章_单行函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e8846a/" class="nav-link">第08章_聚合函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0ececa/" class="nav-link">第09章_子查询</a></li><li class="dropdown-subitem"><a href="/blogs/pages/667605/" class="nav-link">第10章_创建和管理表</a></li><li class="dropdown-subitem"><a href="/blogs/pages/07f3df/" class="nav-link">第11章_数据处理之增删改</a></li><li class="dropdown-subitem"><a href="/blogs/pages/b3a365/" class="nav-link">第12章_MySQL数据类型精讲</a></li><li class="dropdown-subitem"><a href="/blogs/pages/6bfb13/" class="nav-link">第13章_约束</a></li><li class="dropdown-subitem"><a href="/blogs/pages/745f2d/" class="nav-link">第14章_视图</a></li><li class="dropdown-subitem"><a href="/blogs/pages/8c180e/" class="nav-link">第15章_存储过程与函数</a></li><li class="dropdown-subitem"><a href="/blogs/pages/566d1d/" class="nav-link">第16章_变量、流程控制与游标</a></li><li class="dropdown-subitem"><a href="/blogs/pages/afb0d0/" class="nav-link">第17章_触发器</a></li><li class="dropdown-subitem"><a href="/blogs/pages/15bba8/" class="nav-link">第18章_MySQL8其它新特性</a></li></ul></li><li class="dropdown-item"><h4>康师傅MySQL高级篇</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/80d360/" class="nav-link">第01章 Linux下MySQL的安装与使用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/f532a4/" class="nav-link">第02章 MySQL的数据目录</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a5fa3c/" class="nav-link">第03章 用户与权限管理</a></li><li class="dropdown-subitem"><a href="/blogs/pages/b462b5/" class="nav-link">第04章_逻辑架构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a5b6cd/" class="nav-link">第05章_存储引擎</a></li><li class="dropdown-subitem"><a href="/blogs/pages/4eb165/" class="nav-link">第06章_索引的数据结构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/85a02c/" class="nav-link">第7章_InnoDB数据存储结构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/badf0e/" class="nav-link">第8章_索引的创建与设计原则</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0e9cf5/" class="nav-link">第09章_性能分析工具的使用</a></li><li class="dropdown-subitem"><a href="/blogs/pages/baf28a/" class="nav-link">第10章_索引优化与查询优化</a></li><li class="dropdown-subitem"><a href="/blogs/pages/a30800/" class="nav-link">第11章_数据库的设计规范</a></li><li class="dropdown-subitem"><a href="/blogs/pages/453178/" class="nav-link">第12章_数据库其它调优策略</a></li><li class="dropdown-subitem"><a href="/blogs/pages/2f2499/" class="nav-link">第13章_事务基础知识</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e14c2c/" class="nav-link">第14章_MySQL事务日志</a></li><li class="dropdown-subitem"><a href="/blogs/pages/52fd96/" class="nav-link">第15章_锁</a></li><li class="dropdown-subitem"><a href="/blogs/pages/dc28af/" class="nav-link">第16章_多版本并发控制</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0aeb1a/" class="nav-link">第17章_其他数据库日志</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e50c30/" class="nav-link">第18章_主从复制</a></li><li class="dropdown-subitem"><a href="/blogs/pages/92db10/" class="nav-link">第19章_数据库备份与恢复</a></li></ul></li><li class="dropdown-item"><h4>MySQL进阶知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/ad9574/" class="nav-link">MySQL里的那些日志们</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><!----> <span class="title" style="display:;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/b40868/" class="nav-link"> SSM整合完整流程</a></li><li class="dropdown-item"><h4>MyBatis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/b40868/" class="nav-link">框架</a></li></ul></li><li class="dropdown-item"><h4>Spring</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/e6482d/" class="nav-link">Spring5学习笔记——工厂</a></li><li class="dropdown-subitem"><a href="/blogs/pages/99543d/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Spring5学习笔记——AOP</a></li><li class="dropdown-subitem"><a href="/blogs/pages/e630fa/" class="nav-link">Spring5学习笔记——持久层整合</a></li><li class="dropdown-subitem"><a href="/blogs/pages/667215/" class="nav-link">Spring5学习笔记——MVC框架整合</a></li><li class="dropdown-subitem"><a href="/blogs/pages/398673/" class="nav-link">Spring5学习笔记——注解编程</a></li></ul></li><li class="dropdown-item"><h4>SpringMVC</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/b40868/" class="nav-link">框架</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><!----> <span class="title" style="display:;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/52d5c3/" class="nav-link">中间件</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><!----> <span class="title" style="display:;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>初始微服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blogs/pages/8c6be2/" class="nav-link">初步了解SpringCloud微服务架构</a></li><li class="dropdown-subitem"><a href="/blogs/pages/6fc14f/" class="nav-link">认识SpringCloud核心组件</a></li><li class="dropdown-subitem"><a href="/blogs/pages/0f8ce6/" class="nav-link">Ribbon和 Nacos服务注册中心</a></li><li class="dropdown-subitem"><a href="/blogs/pages/59a269/" class="nav-link">微服务远程调用openFeign整合</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><!----> <span class="title" style="display:;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/a2a23c/" class="nav-link">程序员必知必会之计算机系统概论</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><!----> <span class="title" style="display:;">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/5316bc/" class="nav-link">Linux命令笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><!----> <span class="title" style="display:;">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/pages/964e0e/" class="nav-link">面试题</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div class="sidebar-slot sidebar-slot-top">
  <a href="http://apifox.cn/a103xugaoyi" target="_blank">
    <img src="https://cdn.staticaly.com/gh/xugaoyi/blog-gitalk-comment@master/img/431669861564_.2470ykdcpbds.jpg" alt="npm" class="no-zoom" style="width: 100%;border-radius: 2px;">
    <p style="text-align: center;margin: 0;color: #999;font-size: 12px;">(进入注册为作者充电)</p>
  </a></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MyBatis</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Spring</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogs/pages/e6482d/" class="sidebar-link">Spring5学习笔记——工厂</a></li><li><a href="/blogs/pages/99543d/" aria-current="page" class="active sidebar-link">Spring5学习笔记——AOP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/blogs/pages/99543d/#第二部分-aop编程" class="sidebar-link">第二部分：AOP编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blogs/pages/99543d/#第一章、静态代理设计模式" class="sidebar-link">第一章、静态代理设计模式</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_1-为什么需要代理设计模式" class="sidebar-link">1. 为什么需要代理设计模式</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_2-代理设计模式分析" class="sidebar-link">2. 代理设计模式分析</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_2-1-概念" class="sidebar-link">2.1 概念</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_2-2-名词解释" class="sidebar-link">2.2 名词解释</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_2-3-代理开发的核心要素" class="sidebar-link">2.3 代理开发的核心要素</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_2-4-编码" class="sidebar-link">2.4 编码</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_2-5-静态代理存在的问题" class="sidebar-link">2.5 静态代理存在的问题</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/99543d/#第二章、spring的动态代理开发" class="sidebar-link">第二章、Spring的动态代理开发</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_1-spring动态代理的概念" class="sidebar-link">1. Spring动态代理的概念</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_2-搭建开发环境" class="sidebar-link">2. 搭建开发环境</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_3-spring动态代理的开发步骤" class="sidebar-link">3. Spring动态代理的开发步骤</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_3-1-创建原始对象-目标对象" class="sidebar-link">3.1 创建原始对象(目标对象)</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_3-2-定义额外功能-实现methodbeforeadvice接口" class="sidebar-link">3.2 定义额外功能（实现MethodBeforeAdvice接口）</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_3-3-定义切入点" class="sidebar-link">3.3 定义切入点</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_3-4-组装" class="sidebar-link">3.4 组装</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_3-5-调用" class="sidebar-link">3.5 调用</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_4-动态代理细节分析" class="sidebar-link">4. 动态代理细节分析</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_4-1-spring创建的动态代理类在哪里" class="sidebar-link">4.1 Spring创建的动态代理类在哪里？</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_4-2-动态代理编程简化代理的开发" class="sidebar-link">4.2 动态代理编程简化代理的开发</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_4-3-动态代理额外功能的维护性大大增强" class="sidebar-link">4.3 动态代理额外功能的维护性大大增强</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/99543d/#第三章、spring动态代理详解" class="sidebar-link">第三章、Spring动态代理详解</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_1-额外功能的详解" class="sidebar-link">1. 额外功能的详解</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_2-切入点详解" class="sidebar-link">2. 切入点详解</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_2-1-切入点表达式" class="sidebar-link">2.1 切入点表达式</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_2-5-切入点函数" class="sidebar-link">2.5 切入点函数</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/99543d/#第四章、aop编程" class="sidebar-link">第四章、AOP编程</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_1-aop概念" class="sidebar-link">1. AOP概念</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_2-aop编程的开发步骤" class="sidebar-link">2. AOP编程的开发步骤</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_3-切面的名词解释" class="sidebar-link">3. 切面的名词解释</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/99543d/#第五章、aop的底层实现原理" class="sidebar-link">第五章、AOP的底层实现原理</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_1-核心问题" class="sidebar-link">1. 核心问题</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_2-动态代理类的创建" class="sidebar-link">2. 动态代理类的创建</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_2-1-jdk的动态代理" class="sidebar-link">2.1 JDK的动态代理</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_2-2-cglib的动态代理" class="sidebar-link">2.2 CGlib的动态代理</a></li><li class="sidebar-sub-header level5"><a href="/blogs/pages/99543d/#_2-3-总结" class="sidebar-link">2.3 总结</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_3-spring工厂如何返回代理对象" class="sidebar-link">3. Spring工厂如何返回代理对象</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/99543d/#第六章、基于注解的aop编程" class="sidebar-link">第六章、基于注解的AOP编程</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_1-开发步骤" class="sidebar-link">1. 开发步骤：</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/99543d/#_2-细节分析" class="sidebar-link">2. 细节分析：</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/99543d/#第七章、aop开发中的一个坑" class="sidebar-link">第七章、AOP开发中的一个坑</a></li><li class="sidebar-sub-header level3"><a href="/blogs/pages/99543d/#第八章、aop阶段知识总结" class="sidebar-link">第八章、AOP阶段知识总结</a></li></ul></li></ul></li><li><a href="/blogs/pages/e630fa/" class="sidebar-link">Spring5学习笔记——持久层整合</a></li><li><a href="/blogs/pages/667215/" class="sidebar-link">Spring5学习笔记——MVC框架整合</a></li><li><a href="/blogs/pages/398673/" class="sidebar-link">Spring5学习笔记——注解编程</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>SpringMVC</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>SpringBoot</span> <!----></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/blogs/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>框架</span></li><li data-v-06225672><span data-v-06225672>Spring</span></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/gaoziman" target="_blank" title="作者" class="beLink" data-v-06225672>Cisyam</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-05-29</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">Spring5学习笔记——AOP<!----></h1> <div class="page-slot page-slot-top">
    <div class="wwads-cn wwads-horizontal page-wwads" data-id="136"></div>
    <style>
      .page-wwads{
        width:100%!important;
        min-height: 0;
        margin: 0;
      }
      .page-wwads .wwads-img img{
        width:80px!important;
      }
      .page-wwads .wwads-poweredby{
        width: 40px;
        position: absolute;
        right: 25px;
        bottom: 3px;
      }
      .wwads-content .wwads-text, .page-wwads .wwads-text{
        height: 100%;
        padding-top: 5px;
        display: block;
      }
  </style>
  </div> <div class="theme-vdoing-content content__default"><p>配套视频参考：<a href="hhttps://www.bilibili.com/video/BV185411477k/?spm_id_from=333.999.0.0&amp;vd_source=cea816a08805c218ac4390ae9b61ae31">孙哥说Spring5</a></p> <h2 id="第二部分-aop编程"><a href="#第二部分-aop编程" class="header-anchor">#</a> 第二部分：AOP编程</h2> <h3 id="第一章、静态代理设计模式"><a href="#第一章、静态代理设计模式" class="header-anchor">#</a> 第一章、静态代理设计模式</h3> <h4 id="_1-为什么需要代理设计模式"><a href="#_1-为什么需要代理设计模式" class="header-anchor">#</a> 1. 为什么需要代理设计模式</h4> <ul><li><p>在JavaEE分层开发开发中，那个层次对于我们来讲最重要</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>DAO ---&gt; Service --&gt; Controller 

JavaEE分层开发中，最为重要的是Service层
</code></pre></div></li> <li><p>Service层中包含了哪些代码？</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>Service层中 = 核心功能(几十行 上百代码) + 额外功能(附加功能)
<span class="token list punctuation">1.</span> 核心功能
   业务运算
   DAO调用
<span class="token list punctuation">2.</span> 额外功能(事务、日志、性能...)
   <span class="token list punctuation">1.</span> 不属于业务
   <span class="token list punctuation">2.</span> 可有可无
   <span class="token list punctuation">3.</span> 代码量很小 
</code></pre></div></li> <li><p>额外功能书写在Service层中好不好？</p> <p>Controller层（Service层的调用者）除了需要核心功能，还需要这些额外功能。</p> <p>但是从软件设计者角度看：Service层最好不要写额外功能。</p></li> <li><p>现实生活中的解决方式</p> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291502763.png" alt="image-20200422110206172"></p></li></ul> <h4 id="_2-代理设计模式分析"><a href="#_2-代理设计模式分析" class="header-anchor">#</a> 2. 代理设计模式分析</h4> <h5 id="_2-1-概念"><a href="#_2-1-概念" class="header-anchor">#</a> 2.1 概念</h5> <p>通过代理类，为原始类（目标）增加额外的功能
​ 好处：利于原始类(目标)的维护</p> <h5 id="_2-2-名词解释"><a href="#_2-2-名词解释" class="header-anchor">#</a> 2.2 名词解释</h5> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> 目标类 原始类 
   指的是 业务类 (核心功能 --&gt; 业务运算 DAO调用)
<span class="token list punctuation">2.</span> 目标方法，原始方法
   目标类(原始类)中的方法 就是目标方法(原始方法)
<span class="token list punctuation">3.</span> 额外功能 (附加功能)
   日志，事务，性能
</code></pre></div><h5 id="_2-3-代理开发的核心要素"><a href="#_2-3-代理开发的核心要素" class="header-anchor">#</a> 2.3 代理开发的核心要素</h5> <div class="language-markdown extra-class"><pre class="language-markdown"><code>代理类 = 实现和目标类相同的接口 + 在同名方法中添加额外功能 + 调用原始类同名方法

房东 ---&gt; public interface UserService{
               m1
               m2
          }
          UserServiceImpl implements UserService{
               m1 ---&gt; 业务运算 DAO调用
               m2 
          }
          UserServiceProxy implements UserService
               m1
               m2
</code></pre></div><h5 id="_2-4-编码"><a href="#_2-4-编码" class="header-anchor">#</a> 2.4 编码</h5> <p><strong>静态代理</strong>：为每一个原始类，手动编写一个代理类 (.java .class)</p> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291502518.png" alt="image-20200422114654195"></p> <h5 id="_2-5-静态代理存在的问题"><a href="#_2-5-静态代理存在的问题" class="header-anchor">#</a> 2.5 静态代理存在的问题</h5> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> 静态类文件数量过多，不利于项目管理
   UserServiceImpl  UserServiceProxy
   OrderServiceImpl OrderServiceProxy
<span class="token list punctuation">2.</span> 额外功能维护性差
   代理类中 额外功能修改复杂(麻烦)
</code></pre></div><h3 id="第二章、spring的动态代理开发"><a href="#第二章、spring的动态代理开发" class="header-anchor">#</a> 第二章、Spring的动态代理开发</h3> <h4 id="_1-spring动态代理的概念"><a href="#_1-spring动态代理的概念" class="header-anchor">#</a> 1. Spring动态代理的概念</h4> <div class="language-markdwon extra-class"><pre class="language-text"><code>概念：通过代理类为原始类(目标类)增加额外功能,代理类由Spring动态生成。
好处：利于原始类(目标类)的维护
12
</code></pre></div><h4 id="_2-搭建开发环境"><a href="#_2-搭建开发环境" class="header-anchor">#</a> 2. 搭建开发环境</h4> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-aop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.14.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.aspectj<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>aspectjrt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.8.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.aspectj<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>aspectjweaver<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.8.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_3-spring动态代理的开发步骤"><a href="#_3-spring动态代理的开发步骤" class="header-anchor">#</a> 3. Spring动态代理的开发步骤</h4> <h5 id="_3-1-创建原始对象-目标对象"><a href="#_3-1-创建原始对象-目标对象" class="header-anchor">#</a> 3.1 创建原始对象(目标对象)</h5> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserServiceImpl.register&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserServiceImpl.login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">&quot;userServiceImpl&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;com.yuziyan.factory.UserServiceImpl&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">&gt;</span>
</code></pre></div><h5 id="_3-2-定义额外功能-实现methodbeforeadvice接口"><a href="#_3-2-定义额外功能-实现methodbeforeadvice接口" class="header-anchor">#</a> 3.2 定义额外功能（实现MethodBeforeAdvice接口）</h5> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Before</span> <span class="token keyword">implements</span> <span class="token class-name">MethodBeforeAdvice</span> <span class="token punctuation">{</span>
	<span class="token comment">//作用：给原始方法添加额外功能</span>
    <span class="token comment">//注意：会在原始方法运行之前运行此方法</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">,</span> <span class="token class-name">Object</span> target<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----method before advice log------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">&quot;before&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;com.yuziyan.dynamic.Before&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h5 id="_3-3-定义切入点"><a href="#_3-3-定义切入点" class="header-anchor">#</a> 3.3 定义切入点</h5> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> 切入点：额外功能加入的位置

<span class="token list punctuation">2.</span> 目的：由程序员根据自己的需要，决定额外功能加入给那个原始方法
register()
login()

简单的测试：所有方法都做为切入点，都加入额外的功能。
1234567
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pc<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(* *(..))<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="_3-4-组装"><a href="#_3-4-组装" class="header-anchor">#</a> 3.4 组装</h5> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 组装切入点与额外功能 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>advisor</span> <span class="token attr-name">advice-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>before<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pc<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><h5 id="_3-5-调用"><a href="#_3-5-调用" class="header-anchor">#</a> 3.5 调用</h5> <div class="language-markdown extra-class"><pre class="language-markdown"><code>目的：获得Spring工厂创建的动态代理对象，并进行调用
ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;/applicationContext.xml&quot;);
注意：
   <span class="token list punctuation">1.</span> Spring的工厂通过原始对象的id值获得的是代理对象
   <span class="token list punctuation">2.</span> 获得代理对象后，可以通过声明接口类型，进行对象的存储
   
UserService userService=(UserService)ctx.getBean(&quot;userService&quot;);

userService.login(&quot;&quot;)
userService.register()
</code></pre></div><h4 id="_4-动态代理细节分析"><a href="#_4-动态代理细节分析" class="header-anchor">#</a> 4. 动态代理细节分析</h4> <h5 id="_4-1-spring创建的动态代理类在哪里"><a href="#_4-1-spring创建的动态代理类在哪里" class="header-anchor">#</a> 4.1 Spring创建的动态代理类在哪里？</h5> <div class="language-markdown extra-class"><pre class="language-markdown"><code>Spring框架在运行时，通过动态字节码技术，在JVM创建的，运行在JVM内部，等程序结束后就消失了。

什么叫动态字节码技术:通过第三方动态字节码框架，在JVM中创建对应类的字节码，进而创建对象，当虚拟机结束，动态字节码跟着消失。

结论：动态代理不需要定义类文件，都是JVM运行过程中动态创建的，所以不会造成静态代理，类文件数量过多，影响项目管理的问题。
</code></pre></div><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291502334.png" alt="image-20200423165547079"></p> <h5 id="_4-2-动态代理编程简化代理的开发"><a href="#_4-2-动态代理编程简化代理的开发" class="header-anchor">#</a> 4.2 动态代理编程简化代理的开发</h5> <p>在额外功能不改变的前提下，创建其他目标类（原始类）的代理对象时，只需要指定原始(目标)对象即可。</p> <h5 id="_4-3-动态代理额外功能的维护性大大增强"><a href="#_4-3-动态代理额外功能的维护性大大增强" class="header-anchor">#</a> 4.3 动态代理额外功能的维护性大大增强</h5> <h3 id="第三章、spring动态代理详解"><a href="#第三章、spring动态代理详解" class="header-anchor">#</a> 第三章、Spring动态代理详解</h3> <h4 id="_1-额外功能的详解"><a href="#_1-额外功能的详解" class="header-anchor">#</a> 1. 额外功能的详解</h4> <ul><li><p>MethodBeforeAdvice分析</p> <p>作用：原始方法执行之前，运行额外功能。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Before</span> <span class="token keyword">implements</span> <span class="token class-name">MethodBeforeAdvice</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * 作用：给原始方法添加额外功能
     * 注意：会在原始方法运行之前运行此方法
     * @param method 原始方法 login() register() ...
     * @param objects 原始方法的参数列表 name password ...
     * @param o 原始对象 UserServiceImpl OrderServiceImpl
     * @throws Throwable 抛出的异常
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> objects<span class="token punctuation">,</span> <span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;---- MethodBeforeAdvice  log... ----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <p>实战：需要时才用，可能都会用到，也有可能都不用。</p> <ul><li><p>MethodInterceptor(方法拦截器)</p> <p><code>MethodInterceptor</code>接口：额外功能可定义在原始方法执行 前、后、前和后。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Around</span> <span class="token keyword">implements</span> <span class="token class-name">MethodInterceptor</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * @param invocation 封装了原始方法 invocation.proceed()表示原始方法的运行
     * @return 原始方法的返回值
     * @throws Throwable 可能抛出的异常
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">MethodInvocation</span> invocation<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;------ 额外功能 log -----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//原始方法的执行</span>
        <span class="token class-name">Object</span> ret <span class="token operator">=</span> invocation<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//返回原始方法的返回值</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <p>额外功能运行在原始方法执行之后</p> <div class="language-java extra-class"><pre class="language-java"><code>  <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">MethodInvocation</span> invocation<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span> ret <span class="token operator">=</span> invocation<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----额外功能运行在原始方法执行之后----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>额外功能运行在原始方法执行之前和之后（实战：事务需要在之前和之后都运行）</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">MethodInvocation</span> invocation<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----额外功能运行在原始方法执行之前----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Object</span> ret <span class="token operator">=</span> invocation<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----额外功能运行在原始方法执行之后----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>额外功能运行在原始方法抛出异常时</p> <div class="language-java extra-class"><pre class="language-java"><code>  <span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">MethodInvocation</span> invocation<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
  
    <span class="token class-name">Object</span> ret <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      ret <span class="token operator">=</span> invocation<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----原始方法抛出异常 执行的额外功能 ---- &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      throwable<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>MethodInterceptor可以影响原始方法的返回值</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">MethodInvocation</span> invocation<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;------log-----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">Object</span> ret <span class="token operator">=</span> invocation<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">//拿到原始方法的返回值后进行一些操作就会影响，直接返回就不影响</span>
   <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2-切入点详解"><a href="#_2-切入点详解" class="header-anchor">#</a> 2. 切入点详解</h4> <p>切入点决定了额外功能加入的位置。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pc<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(* *(..))<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
exection(* *(..)) ---&gt; 匹配了所有方法    a  b  c 

1. execution()  切入点函数
2. * *(..)      切入点表达式 
</code></pre></div><h5 id="_2-1-切入点表达式"><a href="#_2-1-切入点表达式" class="header-anchor">#</a> 2.1 切入点表达式</h5> <ul><li><p>方法切入点表达式：</p> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291502578.png" alt="image-20200425105040237"></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">*</span>  *(..)  --&gt; 所有方法

<span class="token list punctuation">*</span> ---&gt; 修饰符 返回值
<span class="token list punctuation">*</span> ---&gt; 方法名
()---&gt; 参数表
..---&gt; 对于参数没有要求 (0个或多个)
</code></pre></div></li></ul> <p>举例：</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>  <span class="token title important"><span class="token punctuation">#</span> 定义login方法作为切入点</span>
  <span class="token list punctuation">*</span> login(..)
  
  <span class="token title important"><span class="token punctuation">#</span> 定义register作为切入点</span>
  <span class="token list punctuation">*</span> register(..)
  
  <span class="token title important"><span class="token punctuation">#</span> 定义名字为login且有两个字符串类型参数的方法 作为切入点</span>
  <span class="token list punctuation">*</span> login(String,String)
  
  <span class="token title important"><span class="token punctuation">#</span> 注意：非java.lang包中的类型，必须要写全限定名</span>
  <span class="token list punctuation">*</span> register(com.yuziyan.proxy.User)
  
  <span class="token title important"><span class="token punctuation">#</span> ..可以和具体的参数类型连用(至少有一个参数是String类型)</span>
  <span class="token list punctuation">*</span> login(String,..)
  
  <span class="token title important"><span class="token punctuation">#</span> 精准方法切入点限定</span>
  <span class="token title important"><span class="token punctuation">#</span> 修饰符 返回值    包.类.方法(参数)</span>
  
<span class="token code keyword">      *             com.yuziayn.proxy.UserServiceImpl.login(..)
      *             com.yuziyan.proxy.UserServiceImpl.login(String,String)</span>
</code></pre></div><ul><li><p>类切入点表达式：</p> <p>指定特定的类作为切入点，即这个类中所有的方法都会加上额外功能。</p> <p>举例：</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 类中的所有方法都加入额外功能 </span>
<span class="token list punctuation">*</span> com.yuziyan.proxy.UserServiceImpl.*(..)

<span class="token title important"><span class="token punctuation">#</span> 忽略包</span>
<span class="token title important"><span class="token punctuation">#</span> 1. 类只在一级包下  com.UserServiceImpl</span>
<span class="token list punctuation">*</span> <span class="token italic"><span class="token punctuation">*</span><span class="token content">.UserServiceImpl.</span><span class="token punctuation">*</span></span>(..)

<span class="token title important"><span class="token punctuation">#</span> 2. 类可在多级包下  com.yuziyan.proxy.UserServiceImpl</span>
<span class="token list punctuation">*</span> <span class="token italic"><span class="token punctuation">*</span><span class="token content">..UserServiceImpl.</span><span class="token punctuation">*</span></span>(..)
</code></pre></div></li> <li><p>包切入点表达式：</p> <p>指定包作为切入点，即这个包中的所有类及其方法都会加入额外的功能。</p> <p>举例：</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> proxy包作为切入点，即proxy包下所有类中的所有方法都会加入额外功能，但是不包括其子包中的类！</span>
<span class="token list punctuation">*</span> com.yuziyan.proxy.<span class="token italic"><span class="token punctuation">*</span><span class="token content">.</span><span class="token punctuation">*</span></span>(..)

<span class="token title important"><span class="token punctuation">#</span> 当前包及其子包都生效</span>
<span class="token list punctuation">*</span> com.yuziyan.proxy..<span class="token italic"><span class="token punctuation">*</span><span class="token content">.</span><span class="token punctuation">*</span></span>(..) 
</code></pre></div></li></ul> <h5 id="_2-5-切入点函数"><a href="#_2-5-切入点函数" class="header-anchor">#</a> 2.5 切入点函数</h5> <p>作用：用于执行切入点表达式。</p> <ol><li><p><code>execution()</code></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>最为重要的切入点函数，功能最全！
用于执行：方法切入点表达式、类切入点表达式、包切入点表达式 

弊端：execution执行切入点表达式 ，书写麻烦
     execution(<span class="token italic"><span class="token punctuation">*</span><span class="token content"> com.yuziyan.proxy..</span><span class="token punctuation">*</span></span>.*(..))
     
注意：其他的切入点函数 只是简化execution书写复杂度，功能上完全一致
</code></pre></div></li> <li><p><code>args()</code></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 作用：用于函数(方法)参数的匹配</span>

<span class="token title important"><span class="token punctuation">#</span> 举例：方法参数必须得是2个字符串类型的参数</span>
	execution(<span class="token italic"><span class="token punctuation">*</span><span class="token content"> </span><span class="token punctuation">*</span></span>(String,String))
	等价于：
	args(String,String)
</code></pre></div></li> <li><p><code>within()</code></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 作用：用于进行类、包切入点表达式的匹配</span>
<span class="token title important"><span class="token punctuation">#</span> 举例：</span>
<span class="token title important"><span class="token punctuation">#</span> UserServiceImpl类作为切入点：</span>
	execution(<span class="token italic"><span class="token punctuation">*</span><span class="token content"> </span><span class="token punctuation">*</span></span>..UserServiceImpl.*(..))

<span class="token code keyword">	within(*..UserServiceImpl)</span>
<span class="token title important"><span class="token punctuation">#</span> proxy包作为切入点：</span>
	execution(<span class="token italic"><span class="token punctuation">*</span><span class="token content"> com.yuziyan.proxy..</span><span class="token punctuation">*</span></span>.*(..))

<span class="token code keyword">	within(com.yuziayan.proxy..*)</span>
</code></pre></div></li> <li><p><code>@annotation()</code></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 作用：为具有特殊注解的方法加入额外功能 --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@annotation(com.baizhiedu.Log)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li> <li><p>切入点函数间的逻辑运算：</p> <p>目的：整合多个切入点函数一起配合工作，进而完成更为复杂的需求。</p> <ul><li><p>and 与操作（同时满足）</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 案例：方法名为login，同时有2个字符串类型的参数：</span>
	execution(* login(String,String))

<span class="token code keyword">	execution(* login(..)) and args(String,String)</span>

<span class="token title important"><span class="token punctuation">#</span> 注意：与操作不能用于同种类型的切入点函数 </span>
<span class="token title important"><span class="token punctuation">#</span> 错误案例：register方法 和 login方法作为切入点（不能用and，而用or！）</span>
	execution(<span class="token italic"><span class="token punctuation">*</span><span class="token content"> login(..)) and execution(</span><span class="token punctuation">*</span></span> register(..))
<span class="token title important"><span class="token punctuation">#</span> 上面的语句会发生错误，因为其实际表达的含义是方法名为login同时方法名为register，显然有悖逻辑，此时应该用到的是 or</span>
</code></pre></div></li></ul></li></ol> <ul><li><p>or 或操作（满足一种即可）</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>   <span class="token title important"><span class="token punctuation">#</span> 案例：register方法 和 login方法作为切入点 </span>
   	execution(<span class="token italic"><span class="token punctuation">*</span><span class="token content"> login(..)) or  execution(</span><span class="token punctuation">*</span></span> register(..))
</code></pre></div></li></ul> <h3 id="第四章、aop编程"><a href="#第四章、aop编程" class="header-anchor">#</a> 第四章、AOP编程</h3> <h4 id="_1-aop概念"><a href="#_1-aop概念" class="header-anchor">#</a> 1. AOP概念</h4> <div class="language-markdown extra-class"><pre class="language-markdown"><code>AOP (Aspect Oriented Programing)   面向切面编程 = Spring动态代理开发
以切面为基本单位的程序开发，通过切面间的彼此协同，相互调用，完成程序的构建
切面 = 切入点 + 额外功能

OOP (Object Oriented Programing)   面向对象编程 Java
以对象为基本单位的程序开发，通过对象间的彼此协同，相互调用，完成程序的构建

POP (Procedure Oriented Programing) 面向过程(方法、函数)编程 C 
以过程为基本单位的程序开发，通过过程间的彼此协同，相互调用，完成程序的构建
123456789
AOP的概念：
     本质就是Spring的动态代理开发，通过代理类为原始类增加额外功能。
     好处：利于原始类的维护

注意：AOP编程不可能取代OOP，而是OOP编程的补充。
</code></pre></div><h4 id="_2-aop编程的开发步骤"><a href="#_2-aop编程的开发步骤" class="header-anchor">#</a> 2. AOP编程的开发步骤</h4> <ol><li>原始对象</li> <li>额外功能 (MethodInterceptor)</li> <li>切入点</li> <li>组装切面 (额外功能+切入点)</li></ol> <h4 id="_3-切面的名词解释"><a href="#_3-切面的名词解释" class="header-anchor">#</a> 3. 切面的名词解释</h4> <div class="language-markdown extra-class"><pre class="language-markdown"><code>切面 = 切入点 + 额外功能 

几何学
   面 = 点 + 相同的性质
</code></pre></div><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291503173.png" alt="image-20230529150312064"></p> <h3 id="第五章、aop的底层实现原理"><a href="#第五章、aop的底层实现原理" class="header-anchor">#</a> 第五章、AOP的底层实现原理</h3> <h4 id="_1-核心问题"><a href="#_1-核心问题" class="header-anchor">#</a> 1. 核心问题</h4> <ul><li>AOP如何创建动态代理类？(动态字节码技术)</li> <li>Spring工厂如何加工创建代理对象？通过原始对象的id值，获得的是代理对象。</li></ul> <h4 id="_2-动态代理类的创建"><a href="#_2-动态代理类的创建" class="header-anchor">#</a> 2. 动态代理类的创建</h4> <h5 id="_2-1-jdk的动态代理"><a href="#_2-1-jdk的动态代理" class="header-anchor">#</a> 2.1 JDK的动态代理</h5> <ul><li><p><code>Proxy.newProxyInstance()</code>方法参数详解:</p> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291502314.png" alt="image-20200428175248912"></p></li></ul> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291502410.png" alt="image-20200428175316276"></p> <ul><li><p>编码：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestJDKProxy</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.创建原始对象</span>
        <span class="token comment">//注意：由于后面匿名子类的方法中用到了userService，所以应该用final修饰</span>
        <span class="token comment">//     而JDK1.8以后默认加了final，不需要手动加</span>
        <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//2.JDK创建代理对象</span>
        <span class="token class-name">InvocationHandler</span> handler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InvocationHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;----------- JDKProxy log -----------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\
                <span class="token comment">//目标方法运行：</span>
                <span class="token class-name">Object</span> ret <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>userService<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token class-name">UserService</span> userServiceProxy <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span> <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>userService<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> userService<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>

        userServiceProxy<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token string">&quot;海绵宝宝&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1111&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userServiceProxy<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h5 id="_2-2-cglib的动态代理"><a href="#_2-2-cglib的动态代理" class="header-anchor">#</a> 2.2 CGlib的动态代理</h5> <ul><li>原理：通过父子继承关系创建代理对象。原始类作为父类，代理类作为子类，这样既可以保证2者方法一致，同时在代理类中提供新的实现(额外功能+原始方法)</li></ul> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291502484.png" alt="image-20200429111709226"></p> <ul><li><p>CGlib编码：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>yuziyan<span class="token punctuation">.</span>cglib</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cglib<span class="token punctuation">.</span>proxy<span class="token punctuation">.</span></span><span class="token class-name">Enhancer</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cglib<span class="token punctuation">.</span>proxy<span class="token punctuation">.</span></span><span class="token class-name">MethodInterceptor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cglib<span class="token punctuation">.</span>proxy<span class="token punctuation">.</span></span><span class="token class-name">MethodProxy</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestCGlibProxy</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.创建原始对象</span>
        <span class="token class-name">UserServiceImpl</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//2.通过CGlib创建代理对象</span>
        <span class="token comment">//  2.1 创建Enhancer</span>
        <span class="token class-name">Enhancer</span> enhancer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Enhancer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//  2.2 设置借用类加载器</span>
        enhancer<span class="token punctuation">.</span><span class="token function">setClassLoader</span><span class="token punctuation">(</span><span class="token class-name">TestCGlibProxy</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//  2.3 设置父类（目标类）</span>
        enhancer<span class="token punctuation">.</span><span class="token function">setSuperclass</span><span class="token punctuation">(</span>userService<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//  2.4 设置回调，额外功能写在里面</span>
        enhancer<span class="token punctuation">.</span><span class="token function">setCallback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MethodInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//相当于 InvocationHandler --&gt; invoke()</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">intercept</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> objects<span class="token punctuation">,</span> <span class="token class-name">MethodProxy</span> methodProxy<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
                <span class="token comment">//额外功能：</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;========= CGlibProxy log ========&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//目标方法执行：</span>
                <span class="token class-name">Object</span> ret <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>userService<span class="token punctuation">,</span> objects<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//  2.5 通过Enhancer对象创建代理</span>
        <span class="token class-name">UserServiceImpl</span> service <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserServiceImpl</span><span class="token punctuation">)</span> enhancer<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//测试：</span>
        service<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        service<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h5 id="_2-3-总结"><a href="#_2-3-总结" class="header-anchor">#</a> 2.3 总结</h5> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> JDK动态代理   Proxy.newProxyInstance()  通过目标类实现的接口创建代理类 
<span class="token list punctuation">2.</span> Cglib动态代理 Enhancer                  通过继承目标类创建代理类 
</code></pre></div><h4 id="_3-spring工厂如何返回代理对象"><a href="#_3-spring工厂如何返回代理对象" class="header-anchor">#</a> 3. Spring工厂如何返回代理对象</h4> <ul><li>思路分析：</li></ul> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291503338.png" alt="image-20200430113353205"></p> <ul><li><p>编码模拟：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProxyBeanPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanPostProcessor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessBeforeInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessAfterInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">InvocationHandler</span> invocation <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InvocationHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;----------- 模拟Spring返回代理对象的方式 log -----------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token class-name">Object</span> ret <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>bean<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span><span class="token class-name">ProxyBeanPostProcessor</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bean<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> invocation<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code>  <span class="token comment">&lt;!-- 1.配置原始对象 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.factory.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 2.配置自己模拟的ProxyBeanPostProcessor --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>proxyBeanPostProcessor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.factory.ProxyBeanPostProcessor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><h3 id="第六章、基于注解的aop编程"><a href="#第六章、基于注解的aop编程" class="header-anchor">#</a> 第六章、基于注解的AOP编程</h3> <h4 id="_1-开发步骤"><a href="#_1-开发步骤" class="header-anchor">#</a> 1. 开发步骤：</h4> <ol><li><p>原始对象</p></li> <li><p>额外功能</p></li> <li><p>切入点</p></li> <li><p>组装切面</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * 声明切面类     @Aspect
 * 定义额外功能   @Around
 * 定义切入点     @Around(&quot;execution(* login(..))&quot;)
 *
 */</span>
<span class="token annotation punctuation">@Aspect</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAspect</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* login(..))&quot;</span><span class="token punctuation">)</span><span class="token comment">//组装了切入点和额外功能</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">around</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token comment">//额外功能：</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------- 基于注解的AOP编程 log --------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//原始方法执行：</span>
        <span class="token class-name">Object</span> ret <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <div class="language-xml extra-class"><pre class="language-xml"><code>   <span class="token comment">&lt;!-- 原始对象 --&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.aspect.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
   
   <span class="token comment">&lt;!-- 切面 --&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myAspect<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.yuziyan.aspect.MyAspect<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
   
   <span class="token comment">&lt;!-- 开启基于注解的AOP编程 --&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>aspectj-autoproxy</span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><h4 id="_2-细节分析"><a href="#_2-细节分析" class="header-anchor">#</a> 2. 细节分析：</h4> <ul><li><p>切入点复用：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Aspect</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAspect</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     * 切入点复用：定义一个函数，加上@Pointcut注解，通过该注解的value定义切入点表达式，以后可以复用。
     */</span>
    <span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* login(..))&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myPointcut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;myPointcut()&quot;</span><span class="token punctuation">)</span><span class="token comment">//组装了切入点和额外功能</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">around</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token comment">//额外功能：</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------- 基于注解的AOP编程 log --------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//原始方法执行：</span>
        <span class="token class-name">Object</span> ret <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;myPointcut()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">around1</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token comment">//额外功能：</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------- 基于注解的AOP编程 tx --------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//原始方法执行：</span>
        <span class="token class-name">Object</span> ret <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>动态代理的创建方式：</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>AOP底层实现  2种代理创建方式
  <span class="token list punctuation">1.</span>  JDK   通过实现接口，创建代理对象
  <span class="token list punctuation">2.</span>  Cglib 通过继承目标类，创建代理对象
  
  默认情况 AOP编程 底层应用JDK动态代理创建方式 
  如果要切换Cglib
       <span class="token list punctuation">1.</span> 基于注解AOP开发
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>aspectj-autoproxy</span> <span class="token attr-name">proxy-target-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
       <span class="token list punctuation">2.</span> 传统的AOP开发
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span> <span class="token attr-name">proxy-target-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aop</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul> <h3 id="第七章、aop开发中的一个坑"><a href="#第七章、aop开发中的一个坑" class="header-anchor">#</a> 第七章、AOP开发中的一个坑</h3> <p>坑：在同一个业务类中，业务方法间相互调用时，只有最外层的方法,加入了额外功能(内部的方法，通过普通的方式调用，运行的都是原始方法)。如果想让内层的方法也调用代理对象的方法，就要实现AppicationContextAware获得工厂，进而获得代理对象。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span><span class="token punctuation">,</span> <span class="token class-name">ApplicationContextAware</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">ApplicationContext</span> ctx<span class="token punctuation">;</span>


    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>ctx <span class="token operator">=</span> applicationContext<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Log</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserServiceImpl.register 业务运算 + DAO &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//throw new RuntimeException(&quot;测试异常&quot;);</span>

        <span class="token comment">//调用的是原始对象的login方法 ---&gt; 核心功能</span>
        <span class="token comment">/*
            设计目的：代理对象的login方法 ---&gt;  额外功能+核心功能
            ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;/applicationContext2.xml&quot;);
            UserService userService = (UserService) ctx.getBean(&quot;userService&quot;);
            userService.login();

            Spring工厂重量级资源 一个应用中 应该只创建一个工厂
         */</span>

        <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userService<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token string">&quot;suns&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserServiceImpl.login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="第八章、aop阶段知识总结"><a href="#第八章、aop阶段知识总结" class="header-anchor">#</a> 第八章、AOP阶段知识总结</h3> <p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/202305291503155.png" alt="image-20200503162625116"></p></div></div>  <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/05/29, 19:49:16</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/blogs/pages/e6482d/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Spring5学习笔记——工厂</div></a> <a href="/blogs/pages/e630fa/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Spring5学习笔记——持久层整合</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blogs/pages/e6482d/" class="prev">Spring5学习笔记——工厂</a></span> <span class="next"><a href="/blogs/pages/e630fa/">Spring5学习笔记——持久层整合</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:2942894660@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/gaoziman" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2023
    <span>Cisyam | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/blogs/assets/js/app.6703720a.js" defer></script><script src="/blogs/assets/js/2.2891cb31.js" defer></script><script src="/blogs/assets/js/68.418729c4.js" defer></script>
  </body>
</html>
