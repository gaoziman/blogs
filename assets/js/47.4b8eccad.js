(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{373:function(s,a,t){"use strict";t.r(a);var e=t(7),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("配套视频参考："),a("a",{attrs:{href:"https://www.bilibili.com/video/BV1iq4y1u7vj?p=1&vd_source=cea816a08805c218ac4390ae9b61ae31",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL数据库天花板--康师傅"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"_1-安装前说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装前说明"}},[s._v("#")]),s._v(" "),a("strong",[s._v("1.")]),s._v(" "),a("strong",[s._v("安装前说明")])]),s._v(" "),a("h5",{attrs:{id:"_1-1-查看是否安装过mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-查看是否安装过mysql"}},[s._v("#")]),s._v(" "),a("strong",[s._v("1.1")]),s._v(" "),a("strong",[s._v("查看是否安装过MySQL")])]),s._v(" "),a("ul",[a("li",[s._v("如果你是用rpm安装, 检查一下RPM PACKAGE：")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qa")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" mysql "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -i 忽略大小写")]),s._v("\n")])])]),a("ul",[a("li",[s._v("检查mysql service：")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl status mysqld.service\n")])])]),a("h5",{attrs:{id:"_1-2-mysql的卸载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-mysql的卸载"}},[s._v("#")]),s._v(" "),a("strong",[s._v("1.2 MySQL的卸载")])]),s._v(" "),a("p",[a("strong",[s._v("1.")]),s._v(" "),a("strong",[s._v("关闭")]),s._v(" "),a("strong",[s._v("mysql")]),s._v(" "),a("strong",[s._v("服务")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl stop mysqld.service\n")])])]),a("p",[a("strong",[s._v("2.")]),s._v(" "),a("strong",[s._v("查看当前")]),s._v(" "),a("strong",[s._v("mysql")]),s._v(" "),a("strong",[s._v("安装状况")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qa")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" mysql\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或")]),s._v("\nyum list installed "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysql\n")])])]),a("p",[a("strong",[s._v("3.")]),s._v(" "),a("strong",[s._v("卸载上述命令查询出的已安装程序")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum remove mysql-xxx mysql-xxx mysql-xxx mysqk-xxxx\n")])])]),a("p",[s._v("务必卸载干净，反复执行"),a("code",[s._v("rpm -qa | grep -i mysql")]),s._v("确认是否有卸载残留")]),s._v(" "),a("p",[a("strong",[s._v("4.")]),s._v(" "),a("strong",[s._v("删除")]),s._v(" "),a("strong",[s._v("mysql")]),s._v(" "),a("strong",[s._v("相关文件")])]),s._v(" "),a("ul",[a("li",[s._v("查找相关文件")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" / "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-name")]),s._v(" mysql\n")])])]),a("ul",[a("li",[s._v("删除上述命令查找出的相关文件")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v(" xxx\n")])])]),a("p",[a("strong",[s._v("5.删除 my.cnf")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v(" /etc/my.cnf\n")])])]),a("h4",{attrs:{id:"_2-mysql的linux版安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-mysql的linux版安装"}},[s._v("#")]),s._v(" "),a("strong",[s._v("2. MySQL的Linux版安装")])]),s._v(" "),a("h5",{attrs:{id:"_2-1-centos7下检查mysql依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-centos7下检查mysql依赖"}},[s._v("#")]),s._v(" "),a("strong",[s._v("2.1 CentOS7下检查MySQL依赖")])]),s._v(" "),a("p",[a("strong",[s._v("1.")]),s._v(" "),a("strong",[s._v("检查/tmp临时目录权限（必不可少）")])]),s._v(" "),a("p",[s._v("由于mysql安装过程中，会通过mysql用户在/tmp目录下新建tmp_db文件，所以请给/tmp较大的权限。执行 ：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /tmp\n")])])]),a("p",[a("strong",[s._v("2.")]),s._v(" "),a("strong",[s._v("安装前，检查依赖")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" libaio\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" net-tools\n")])])]),a("h5",{attrs:{id:"_2-2-centos7下mysql安装过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-centos7下mysql安装过程"}},[s._v("#")]),s._v(" "),a("strong",[s._v("2.2 CentOS7下MySQL安装过程")])]),s._v(" "),a("p",[a("strong",[s._v("1.")]),s._v(" "),a("strong",[s._v("将安装程序拷贝到/opt目录下")])]),s._v(" "),a("p",[s._v("在mysql的安装文件目录下执行：（必须按照顺序执行）")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ivh")]),s._v(" mysql-community-common-8.0.25-1.el7.x86_64.rpm \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ivh")]),s._v(" mysql-community-client-plugins-8.0.25-1.el7.x86_64.rpm \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ivh")]),s._v(" mysql-community-libs-8.0.25-1.el7.x86_64.rpm \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ivh")]),s._v(" mysql-community-client-8.0.25-1.el7.x86_64.rpm \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ivh")]),s._v(" mysql-community-server-8.0.25-1.el7.x86_64.rpm\n")])])]),a("ul",[a("li",[a("code",[s._v("rpm")]),s._v("是Redhat Package Manage缩写，通过RPM的管理，用户可以把源代码包装成以rpm为扩展名的文件形式，易于安装。")]),s._v(" "),a("li",[a("code",[s._v("-i")]),s._v(", --install 安装软件包")]),s._v(" "),a("li",[a("code",[s._v("-v")]),s._v(", --verbose 提供更多的详细信息输出")]),s._v(" "),a("li",[a("code",[s._v("-h")]),s._v(", --hash 软件包安装的时候列出哈希标记 (和 -v 一起使用效果更好)，展示进度条")])]),s._v(" "),a("blockquote",[a("p",[s._v("若存在mariadb-libs问题，则执行"),a("strong",[s._v("yum remove mysql-libs")]),s._v("即可")])]),s._v(" "),a("h5",{attrs:{id:"_2-3-查看mysql版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-查看mysql版本"}},[s._v("#")]),s._v(" "),a("strong",[s._v("2.3")]),s._v(" "),a("strong",[s._v("查看MySQL版本")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("mysql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#或")]),s._v("\nmysqladmin "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n")])])]),a("h5",{attrs:{id:"_2-4-服务的初始化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-服务的初始化"}},[s._v("#")]),s._v(" "),a("strong",[s._v("2.4")]),s._v(" "),a("strong",[s._v("服务的初始化")])]),s._v(" "),a("p",[s._v("为了保证数据库目录与文件的所有者为 mysql 登录用户，如果你是以 root 身份运行 mysql 服务，需要执行下面的命令初始化：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("mysqld "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--initialize")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--user")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql\n")])])]),a("p",[s._v("说明： --initialize 选项默认以“安全”模式来初始化，则会为 root 用户生成一个密码并将"),a("code",[s._v("该密码标记为过期")]),s._v("，登录后你需要设置一个新的密码。生成的"),a("code",[s._v("临时密码")]),s._v("会往日志中记录一份。")]),s._v(" "),a("p",[s._v("查看密码：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /var/log/mysqld.log\n")])])]),a("p",[s._v("root@localhost: 后面就是初始化的密码")]),s._v(" "),a("h5",{attrs:{id:"_2-5-启动mysql-查看状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-启动mysql-查看状态"}},[s._v("#")]),s._v(" "),a("strong",[s._v("2.5")]),s._v(" "),a("strong",[s._v("启动MySQL，查看状态")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#加不加.service后缀都可以 ")]),s._v("\n启动：systemctl start mysqld.service \n关闭：systemctl stop mysqld.service \n重启：systemctl restart mysqld.service \n查看状态：systemctl status mysqld.service\n")])])]),a("h5",{attrs:{id:"_2-6-查看mysql服务是否自启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-查看mysql服务是否自启动"}},[s._v("#")]),s._v(" "),a("strong",[s._v("2.6")]),s._v(" "),a("strong",[s._v("查看MySQL服务是否自启动")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl list-unit-files"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysqld.service\n")])])]),a("ul",[a("li",[s._v("如不是enabled可以运行如下命令设置自启动")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" mysqld.service\n")])])]),a("ul",[a("li",[s._v("如果希望不进行自启动，运行如下命令设置")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl disable mysqld.service\n")])])]),a("h4",{attrs:{id:"_3-mysql登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-mysql登录"}},[s._v("#")]),s._v(" "),a("strong",[s._v("3. MySQL登录")])]),s._v(" "),a("h5",{attrs:{id:"_3-1-首次登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-首次登录"}},[s._v("#")]),s._v(" "),a("strong",[s._v("3.1")]),s._v(" "),a("strong",[s._v("首次登录")])]),s._v(" "),a("p",[s._v("通过"),a("code",[s._v("mysql -hlocalhost -P3306 -uroot -p")]),s._v("进行登录，在Enter password：录入初始化密码")]),s._v(" "),a("h5",{attrs:{id:"_3-2-修改密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-修改密码"}},[s._v("#")]),s._v(" "),a("strong",[s._v("3.2")]),s._v(" "),a("strong",[s._v("修改密码")])]),s._v(" "),a("div",{staticClass:"language-mysql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ALTER USER 'root'@'localhost' IDENTIFIED BY 'new_password';\n")])])]),a("h5",{attrs:{id:"_3-3-设置远程登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-设置远程登录"}},[s._v("#")]),s._v(" "),a("strong",[s._v("3.3")]),s._v(" "),a("strong",[s._v("设置远程登录")])]),s._v(" "),a("p",[a("strong",[s._v("1.")]),s._v(" "),a("strong",[s._v("确认网络")])]),s._v(" "),a("p",[s._v("1.在远程机器上使用ping ip地址"),a("code",[s._v("保证网络畅通")])]),s._v(" "),a("p",[s._v("2.在远程机器上使用telnet命令"),a("code",[s._v("保证端口号开放")]),s._v("访问")]),s._v(" "),a("p",[a("strong",[s._v("2.")]),s._v(" "),a("strong",[s._v("关闭防火墙或开放端口")])]),s._v(" "),a("p",[a("strong",[s._v("方式一：关闭防火墙")])]),s._v(" "),a("ul",[a("li",[s._v("CentOS6 ：")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" iptables stop\n")])])]),a("ul",[a("li",[s._v("CentOS7：")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#开启防火墙")]),s._v("\nsystemctl start firewalld.service\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看防火墙状态")]),s._v("\nsystemctl status firewalld.service\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#关闭防火墙")]),s._v("\nsystemctl stop firewalld.service\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置开机启用防火墙 ")]),s._v("\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" firewalld.service \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置开机禁用防火墙 ")]),s._v("\nsystemctl disable firewalld.service\n")])])]),a("p",[a("strong",[s._v("方式二：开放端口")])]),s._v(" "),a("ul",[a("li",[s._v("查看开放的端口号")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("firewall-cmd --list-all\n")])])]),a("ul",[a("li",[s._v("设置开放的端口号")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("firewall-cmd --add-service"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--permanent")]),s._v("\nfirewall-cmd --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("/tcp "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--permanent")]),s._v("\n")])])]),a("ul",[a("li",[s._v("重启防火墙")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("firewall-cmd "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--reload")]),s._v("\n")])])]),a("h4",{attrs:{id:"_4-linux下修改配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-linux下修改配置"}},[s._v("#")]),s._v(" "),a("strong",[s._v("4. Linux下修改配置")])]),s._v(" "),a("ul",[a("li",[s._v("修改允许远程登陆")])]),s._v(" "),a("div",{staticClass:"language-mysql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("use mysql;\nselect Host,User from user;\nupdate user set host = '%' where user ='root';\nflush privileges;\n")])])]),a("blockquote",[a("p",[a("code",[s._v("%")]),s._v("是个 通配符 ，如果Host=192.168.1.%，那么就表示只要是IP地址前缀为“192.168.1.”的客户端都可以连接。如果"),a("code",[s._v("Host=%")]),s._v("，表示所有IP都有连接权限。")]),s._v(" "),a("p",[s._v("注意：在生产环境下不能为了省事将host设置为%，这样做会存在安全问题，具体的设置可以根据生产环境的IP进行设置。")])]),s._v(" "),a("p",[s._v("配置新连接报错：错误号码 2058，分析是 mysql 密码加密方法变了。")]),s._v(" "),a("p",[s._v("**解决方法一：**升级远程连接工具版本")]),s._v(" "),a("p",[a("strong",[s._v("解决方法二：")])]),s._v(" "),a("div",{staticClass:"language-mysql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'abc123';\n")])])]),a("h4",{attrs:{id:"_5-字符集的相关操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-字符集的相关操作"}},[s._v("#")]),s._v(" "),a("strong",[s._v("5.")]),s._v(" "),a("strong",[s._v("字符集的相关操作")])]),s._v(" "),a("h5",{attrs:{id:"_5-1-各级别的字符集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-各级别的字符集"}},[s._v("#")]),s._v(" "),a("strong",[s._v("5.1")]),s._v(" "),a("strong",[s._v("各级别的字符集")])]),s._v(" "),a("div",{staticClass:"language-mysql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("show variables like 'character%';\n")])])]),a("ul",[a("li",[s._v("character_set_server：服务器级别的字符集")]),s._v(" "),a("li",[s._v("character_set_database：当前数据库的字符集")]),s._v(" "),a("li",[s._v("character_set_client：服务器解码请求时使用的字符集")]),s._v(" "),a("li",[s._v("character_set_connection：服务器处理请求时会把请求字符串从character_set_client转为character_set_connection")]),s._v(" "),a("li",[s._v("character_set_results：服务器向客户端返回数据时使用的字符集")])]),s._v(" "),a("p",[a("strong",[s._v("小结")])]),s._v(" "),a("ul",[a("li",[s._v("如果"),a("code",[s._v("创建或修改列")]),s._v("时没有显式的指定字符集和比较规则，则该列"),a("code",[s._v("默认用表的")]),s._v("字符集和比较规则")]),s._v(" "),a("li",[s._v("如果"),a("code",[s._v("创建表时")]),s._v("没有显式的指定字符集和比较规则，则该表"),a("code",[s._v("默认用数据库的")]),s._v("字符集和比较规则")]),s._v(" "),a("li",[s._v("如果"),a("code",[s._v("创建数据库时")]),s._v("没有显式的指定字符集和比较规则，则该数据库"),a("code",[s._v("默认用服务器的")]),s._v("字符集和比较规则")])]),s._v(" "),a("h5",{attrs:{id:"_5-2-请求到响应过程中字符集的变化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-请求到响应过程中字符集的变化"}},[s._v("#")]),s._v(" "),a("strong",[s._v("5.2")]),s._v(" "),a("strong",[s._v("请求到响应过程中字符集的变化")])]),s._v(" "),a("div",{staticClass:"language-mermaid extra-class"},[a("pre",{pre:!0,attrs:{class:"language-mermaid"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("graph")]),s._v(" TB\nA"),a("span",{pre:!0,attrs:{class:"token text string"}},[s._v("(客户端)")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token arrow operator"}},[s._v("--\x3e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token label property"}},[s._v('|"使用操作系统的字符集编码请求字符串"|')]),s._v(" B"),a("span",{pre:!0,attrs:{class:"token text string"}},[s._v("(从character_set_client转换为character_set_connection)")]),s._v("\nB "),a("span",{pre:!0,attrs:{class:"token arrow operator"}},[s._v("--\x3e")]),s._v(" C"),a("span",{pre:!0,attrs:{class:"token text string"}},[s._v("(从character_set_connection转换为具体的列使用的字符集)")]),s._v("\nC "),a("span",{pre:!0,attrs:{class:"token arrow operator"}},[s._v("--\x3e")]),s._v(" D"),a("span",{pre:!0,attrs:{class:"token text string"}},[s._v("(将查询结果从具体的列上使用的字符集转换为character_set_results)")]),s._v("\nD "),a("span",{pre:!0,attrs:{class:"token arrow operator"}},[s._v("--\x3e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token label property"}},[s._v('|"使用操作系统的字符集解码响应的字符串"|')]),s._v(" A\n\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);